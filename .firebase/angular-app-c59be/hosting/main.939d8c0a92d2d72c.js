"use strict";(self.webpackChunkangular_app=self.webpackChunkangular_app||[]).push([[179],{535:()=>{function Se(t){return"function"==typeof t}function Nl(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ud=Nl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function vs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(o){e=o instanceof Ud?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{E3(o)}catch(s){e=e??[],s instanceof Ud?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ud(e)}}add(e){var n;if(e&&e!==this)if(this.closed)E3(e);else{if(e instanceof vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vs(n,e)}remove(e){const{_finalizers:n}=this;n&&vs(n,e),e instanceof vn&&e._removeParent(this)}}vn.EMPTY=(()=>{const t=new vn;return t.closed=!0,t})();const C3=vn.EMPTY;function I3(t){return t instanceof vn||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function E3(t){Se(t)?t():t.unsubscribe()}const vo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hd={setTimeout(t,e,...n){const{delegate:r}=Hd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Hd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function A3(t){Hd.setTimeout(()=>{const{onUnhandledError:e}=vo;if(!e)throw t;e(t)})}function h5(){}const AR=f5("C",void 0,void 0);function f5(t,e,n){return{kind:t,value:e,error:n}}let wo=null;function jd(t){if(vo.useDeprecatedSynchronousErrorHandling){const e=!wo;if(e&&(wo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=wo;if(wo=null,n)throw r}}else t()}class g5 extends vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,I3(e)&&e.add(this)):this.destination=kR}static create(e,n,r){return new ws(e,n,r)}next(e){this.isStopped?m5(function TR(t){return f5("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?m5(function MR(t){return f5("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?m5(AR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xR=Function.prototype.bind;function p5(t,e){return xR.call(t,e)}class bR{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$d(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$d(r)}else $d(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$d(n)}}}class ws extends g5{constructor(e,n,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&vo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&p5(e.next,o),error:e.error&&p5(e.error,o),complete:e.complete&&p5(e.complete,o)}):i=e}this.destination=new bR(i)}}function $d(t){vo.useDeprecatedSynchronousErrorHandling?function DR(t){vo.useDeprecatedSynchronousErrorHandling&&wo&&(wo.errorThrown=!0,wo.error=t)}(t):A3(t)}function m5(t,e){const{onStoppedNotification:n}=vo;n&&Hd.setTimeout(()=>n(t,e))}const kR={closed:!0,next:h5,error:function SR(t){throw t},complete:h5},_5="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mi(t){return t}function M3(t){return 0===t.length?Mi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function NR(t){return t&&t instanceof g5||function RR(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}(t)&&I3(t)}(n)?n:new ws(n,r,i);return jd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=T3(r))((i,o)=>{const s=new ws({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[_5](){return this}pipe(...n){return M3(n)(this)}toPromise(n){return new(n=T3(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function T3(t){var e;return null!==(e=t??vo.Promise)&&void 0!==e?e:Promise}const OR=Nl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rr=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new D3(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OR}next(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?C3:(this.currentObservers=null,o.push(n),new vn(()=>{this.currentObservers=null,vs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new D3(e,n),t})();class D3 extends rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:C3}}function x3(t){return Se(t?.lift)}function _t(t){return e=>{if(x3(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new VR(t,e,n,r,i)}class VR extends g5{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ke(t,e){return _t((n,r)=>{let i=0;n.subscribe(ft(r,o=>{r.next(t.call(e,o,i++))}))})}function y5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ti(t){return this instanceof Ti?(this.v=t,this):new Ti(t)}function P3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function I5(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const R3=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N3(t){return Se(t?.then)}function O3(t){return Se(t[_5])}function V3(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function z3(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const L3=function rN(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function F3(t){return Se(t?.[L3])}function B3(t){return function k3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,p){o.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ti?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(g){d(o[0][3],g)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ti(n.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{n.releaseLock()}})}function U3(t){return Se(t?.getReader)}function Pn(t){if(t instanceof qe)return t;if(null!=t){if(O3(t))return function iN(t){return new qe(e=>{const n=t[_5]();if(Se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(R3(t))return function oN(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(N3(t))return function sN(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,A3)})}(t);if(V3(t))return H3(t);if(F3(t))return function aN(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(U3(t))return function lN(t){return H3(B3(t))}(t)}throw z3(t)}function H3(t){return new qe(e=>{(function cN(t,e){var n,r,i,o;return function b3(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=P3(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Wr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Nt(t,e,n=1/0){return Se(e)?Nt((r,i)=>ke((o,s)=>e(r,o,i,s))(Pn(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function uN(t,e,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=p=>c<r?g(p):l.push(p),g=p=>{o&&e.next(p),c++;let _=!1;Pn(n(p,u++)).subscribe(ft(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const y=l.shift();s?Wr(e,s,()=>g(y)):g(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ys(t=1/0){return Nt(Mi,t)}const wr=new qe(t=>t.complete());function j3(t){return t&&Se(t.schedule)}function E5(t){return t[t.length-1]}function $3(t){return Se(E5(t))?t.pop():void 0}function Ol(t){return j3(E5(t))?t.pop():void 0}function Gd(t,e=0){return _t((n,r)=>{n.subscribe(ft(r,i=>Wr(r,t,()=>r.next(i),e),()=>Wr(r,t,()=>r.complete(),e),i=>Wr(r,t,()=>r.error(i),e)))})}function qd(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function G3(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{Wr(n,e,()=>{const r=t[Symbol.asyncIterator]();Wr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function At(t,e){return e?function vN(t,e){if(null!=t){if(O3(t))return function fN(t,e){return Pn(t).pipe(qd(e),Gd(e))}(t,e);if(R3(t))return function pN(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(N3(t))return function gN(t,e){return Pn(t).pipe(qd(e),Gd(e))}(t,e);if(V3(t))return G3(t,e);if(F3(t))return function mN(t,e){return new qe(n=>{let r;return Wr(n,e,()=>{r=t[L3](),Wr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(t,e);if(U3(t))return function _N(t,e){return G3(B3(t),e)}(t,e)}throw z3(t)}(t,e):Pn(t)}class jn extends rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function X(...t){return At(t,Ol(t))}function q3(t={}){const{connector:e=(()=>new rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},g=()=>{const p=s;f(),p?.unsubscribe()};return _t((p,_)=>{c++,!d&&!u&&h();const y=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=A5(g,i))}),y.subscribe(_),!s&&c>0&&(s=new ws({next:v=>y.next(v),error:v=>{d=!0,h(),a=A5(f,n,v),y.error(v)},complete:()=>{u=!0,h(),a=A5(f,r),y.complete()}}),Pn(p).subscribe(s))})(o)}}function A5(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ws({next:()=>{r.unsubscribe(),t()}});return Pn(e(...n)).subscribe(r)}function yr(t,e){return _t((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ft(r,l=>{i?.unsubscribe();let c=0;const u=o++;Pn(t(l,u)).subscribe(i=ft(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function CN(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function Wd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function M5(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const IN=Me({__forward_ref__:Me});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return vt(this())},t}function Y(t){return T5(t)?t():t}function T5(t){return"function"==typeof t&&t.hasOwnProperty(IN)&&t.__forward_ref__===Oe}function D5(t){return t&&!!t.\u0275providers}class D extends Error{constructor(e,n){super(function Kd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function x5(t,e){throw new D(-201,!1)}function $n(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qd(t){return K3(t,Zd)||K3(t,Q3)}function K3(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yd(t){return t&&(t.hasOwnProperty(b5)||t.hasOwnProperty(SN))?t[b5]:null}const Zd=Me({\u0275prov:Me}),b5=Me({\u0275inj:Me}),Q3=Me({ngInjectableDef:Me}),SN=Me({ngInjectorDef:Me});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let S5;function wn(t){const e=S5;return S5=t,e}function Z3(t,e,n){const r=Qd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void x5(vt(t))}const Ve=globalThis;class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vl={},O5="__NG_DI_FLAG__",Xd="ngTempTokenPath",RN=/\n/gm,J3="__source";let Cs;function Di(t){const e=Cs;return Cs=t,e}function VN(t,e=le.Default){if(void 0===Cs)throw new D(-203,!1);return null===Cs?Z3(t,void 0,e):Cs.get(t,e&le.Optional?null:void 0,e)}function $(t,e=le.Default){return(function Y3(){return S5}()||VN)(Y(t),e)}function V(t,e=le.Default){return $(t,Jd(e))}function Jd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function V5(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){const a=r[s],l=zN(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push($(i,o))}else e.push($(r))}return e}function zl(t,e){return t[O5]=e,t.prototype[O5]=e,t}function zN(t){return t[O5]}function Kr(t){return{toString:t}.toString()}var eh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(eh||{}),ir=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ir||{});const Cr={},ve=[],th=Me({\u0275cmp:Me}),z5=Me({\u0275dir:Me}),L5=Me({\u0275pipe:Me}),t4=Me({\u0275mod:Me}),Qr=Me({\u0275fac:Me}),Ll=Me({__NG_ELEMENT_ID__:Me}),n4=Me({__NG_ENV_ID__:Me});function r4(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function F5(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];o4(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function i4(t){return 3===t||4===t||6===t}function o4(t){return 64===t.charCodeAt(0)}function Fl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||s4(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function s4(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const a4="ng-template";function BN(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==r4(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function l4(t){return 4===t.type&&t.value!==a4}function UN(t,e,n){return e===(4!==t.type||n?t.value:a4)}function HN(t,e,n){let r=4;const i=t.attrs||[],o=function GN(t){for(let e=0;e<t.length;e++)if(i4(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!UN(t,l,n)||""===l&&1===e.length){if(or(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!BN(t.attrs,c,n)){if(or(r))return!1;s=!0}continue}const d=jN(8&r?"class":l,i,l4(t),n);if(-1===d){if(or(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==r4(f,c,0)||2&r&&c!==h){if(or(r))return!1;s=!0}}}}else{if(!s&&!or(r)&&!or(l))return!1;if(s&&or(l))continue;s=!1,r=l|1&r}}return or(r)||s}function or(t){return 0==(1&t)}function jN(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function qN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function c4(t,e,n=!1){for(let r=0;r<e.length;r++)if(HN(t,e[r],n))return!0;return!1}function u4(t,e){return t?":not("+e.trim()+")":e}function KN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!or(s)&&(e+=u4(o,i),i=""),r=s,o=o||!or(r);n++}return""!==i&&(e+=u4(o,i)),e}function Gn(t){return Kr(()=>{const e=h4(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===eh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ir.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};f4(n);const r=t.dependencies;return n.directiveDefs=nh(r,!1),n.pipeDefs=nh(r,!0),n.id=function nO(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function XN(t){return ge(t)||Vt(t)}function JN(t){return null!==t}function Kt(t){return Kr(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function d4(t,e){if(null==t)return Cr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Z(t){return Kr(()=>{const e=h4(t);return f4(e),e})}function yn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ge(t){return t[th]||null}function Vt(t){return t[z5]||null}function an(t){return t[L5]||null}function Nn(t,e){const n=t[t4]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function h4(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:d4(t.inputs,e),outputs:d4(t.outputs)}}function f4(t){t.features?.forEach(e=>e(t))}function nh(t,e){if(!t)return null;const n=e?an:XN;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(JN)}const Je=0,O=1,ie=2,We=3,sr=4,Bl=5,Qt=6,Es=7,it=8,xi=9,As=10,te=11,Ul=12,g4=13,Ms=14,ot=15,Hl=16,Ts=17,Ir=18,jl=19,p4=20,bi=21,Yr=22,$l=23,Gl=24,ce=25,B5=1,m4=2,Er=7,Ds=9,zt=11;function Cn(t){return Array.isArray(t)&&"object"==typeof t[B5]}function ln(t){return Array.isArray(t)&&!0===t[B5]}function U5(t){return 0!=(4&t.flags)}function Co(t){return t.componentOffset>-1}function ih(t){return 1==(1&t.flags)}function ar(t){return!!t.template}function H5(t){return 0!=(512&t[ie])}function Io(t,e){return t.hasOwnProperty(Qr)?t[Qr]:null}let Lt=null,oh=!1;function qn(t){const e=Lt;return Lt=t,e}const w4={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function C4(t){if(!Wl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!A4(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function E4(t){t.dirty=!0,function I4(t){if(void 0===t.liveConsumerNode)return;const e=oh;oh=!0;try{for(const n of t.liveConsumerNode)n.dirty||E4(n)}finally{oh=e}}(t),t.consumerMarkedDirty?.(t)}function $5(t){return t&&(t.nextProducerIndex=0),qn(t)}function G5(t,e){if(qn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Wl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function A4(t){xs(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(C4(n),r!==n.version))return!0}return!1}function M4(t){if(xs(t),Wl(t))for(let e=0;e<t.producerNode.length;e++)sh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sh(t,e){if(function D4(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),xs(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)sh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xs(i),i.producerIndexOfThis[r]=e}}function Wl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let x4=null;function k4(t){const e=qn(null);try{return t()}finally{qn(e)}}const P4=()=>{},pO=(()=>({...w4,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:P4}))();class mO{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wn(){return R4}function R4(t){return t.type.prototype.ngOnChanges&&(t.setInput=vO),_O}function _O(){const t=O4(this),e=t?.current;if(e){const n=t.previous;if(n===Cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vO(t,e,n,r){const i=this.declaredInputs[n],o=O4(t)||function wO(t,e){return t[N4]=e}(t,{previous:Cr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new mO(l&&l.currentValue,e,a===Cr),t[r]=e}Wn.ngInherit=!0;const N4="__ngSimpleChanges__";function O4(t){return t[N4]||null}const Ar=function(t,e,n){};function ze(t){for(;Array.isArray(t);)t=t[Je];return t}function ah(t,e){return ze(e[t])}function In(t,e){return ze(e[t.index])}function L4(t,e){return t.data[e]}function bs(t,e){return t[e]}function On(t,e){const n=e[t];return Cn(n)?n:n[Je]}function ki(t,e){return null==e?null:t[e]}function F4(t){t[Ts]=0}function MO(t){1024&t[ie]||(t[ie]|=1024,U4(t,1))}function B4(t){1024&t[ie]&&(t[ie]&=-1025,U4(t,-1))}function U4(t,e){let n=t[We];if(null===n)return;n[Bl]+=e;let r=n;for(n=n[We];null!==n&&(1===e&&1===r[Bl]||-1===e&&0===r[Bl]);)n[Bl]+=e,r=n,n=n[We]}const K={lFrame:X4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $4(){return K.bindingsEnabled}function A(){return K.lFrame.lView}function pe(){return K.lFrame.tView}function En(t){return K.lFrame.contextLView=t,t[it]}function An(t){return K.lFrame.contextLView=null,t}function Ft(){let t=G4();for(;null!==t&&64===t.type;)t=t.parent;return t}function G4(){return K.lFrame.currentTNode}function Mr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function Y5(){return K.lFrame.isParent}function Z5(){K.lFrame.isParent=!1}function cn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ks(){return K.lFrame.bindingIndex++}function zO(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,X5(e)}function X5(t){K.lFrame.currentDirectiveIndex=t}function eg(t){K.lFrame.currentQueryIndex=t}function FO(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Qt]:null}function Y4(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=FO(o),null===i||(o=o[Ms],10&i.type))););if(null===i)return!1;e=i,t=o}const r=K.lFrame=Z4();return r.currentTNode=e,r.lView=t,!0}function tg(t){const e=Z4(),n=t[O];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Z4(){const t=K.lFrame,e=null===t?null:t.child;return null===e?X4(t):e}function X4(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function J4(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const e6=J4;function ng(){const t=J4();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return K.lFrame.selectedIndex}function Eo(t){K.lFrame.selectedIndex=t}function Ze(){const t=K.lFrame;return L4(t.tView,t.selectedIndex)}let n6=!0;function lh(){return n6}function Pi(t){n6=t}function ch(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function uh(t,e,n){r6(t,e,3,n)}function dh(t,e,n,r){(3&t[ie])===n&&r6(t,e,n,r)}function rg(t,e){let n=t[ie];(3&n)===e&&(n&=8191,n+=1,t[ie]=n)}function r6(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Ts]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Ts]+=65536),(a<o||-1==o)&&(WO(t,n,e,l),t[Ts]=(4294901760&t[Ts])+l+2),l++}function i6(t,e){Ar(4,t,e);const n=qn(null);try{e.call(t)}finally{qn(n),Ar(5,t,e)}}function WO(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>13<t[Ts]>>16&&(3&t[ie])===e&&(t[ie]+=8192,i6(a,o)):i6(a,o)}const Ps=-1;class Ql{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function og(t){return t!==Ps}function Yl(t){return 32767&t}function Zl(t,e){let n=function ZO(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ms],n--;return r}let sg=!0;function hh(t){const e=sg;return sg=t,e}const o6=255,s6=5;let XO=0;const Tr={};function fh(t,e){const n=a6(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,ag(r.data,t),ag(e,null),ag(r.blueprint,null));const i=gh(t,e),o=t.injectorIndex;if(og(i)){const s=Yl(i),a=Zl(i,e),l=a[O].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function ag(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a6(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function gh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=g6(i),null===r)return Ps;if(n++,i=i[Ms],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ps}function lg(t,e,n){!function JO(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ll)&&(r=n[Ll]),null==r&&(r=n[Ll]=XO++);const i=r&o6;e.data[t+(i>>s6)]|=1<<i}(t,e,n)}function l6(t,e,n){if(n&le.Optional||void 0!==t)return t;x5()}function c6(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[xi],o=wn(void 0);try{return i?i.get(e,r,n&le.Optional):Z3(e,r,n&le.Optional)}finally{wn(o)}}return l6(r,0,n)}function u6(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[ie]&&!(r&le.Self)){const s=function oV(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ie]&&!(512&s[ie]);){const a=d6(o,s,n,r|le.Self,Tr);if(a!==Tr)return a;let l=o.parent;if(!l){const c=s[p4];if(c){const u=c.get(n,Tr,r);if(u!==Tr)return u}l=g6(s),s=s[Ms]}o=l}return i}(t,e,n,r,Tr);if(s!==Tr)return s}const o=d6(t,e,n,r,Tr);if(o!==Tr)return o}return c6(e,n,r,i)}function d6(t,e,n,r,i){const o=function nV(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ll)?t[Ll]:void 0;return"number"==typeof e?e>=0?e&o6:iV:e}(n);if("function"==typeof o){if(!Y4(e,t,r))return r&le.Host?l6(i,0,r):c6(e,n,r,i);try{let s;if(s=o(r),null!=s||r&le.Optional)return s;x5()}finally{e6()}}else if("number"==typeof o){let s=null,a=a6(t,e),l=Ps,c=r&le.Host?e[ot][Qt]:null;for((-1===a||r&le.SkipSelf)&&(l=-1===a?gh(t,e):e[a+8],l!==Ps&&f6(r,!1)?(s=e[O],a=Yl(l),e=Zl(l,e)):a=-1);-1!==a;){const u=e[O];if(h6(o,a,u.data)){const d=tV(a,e,n,s,r,c);if(d!==Tr)return d}l=e[a+8],l!==Ps&&f6(r,e[O].data[a+8]===c)&&h6(o,a,e)?(s=u,a=Yl(l),e=Zl(l,e)):a=-1}}return i}function tV(t,e,n,r,i,o){const s=e[O],a=s.data[t+8],u=function ph(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=s[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=s[l];if(f&&ar(f)&&f.type===n)return l}return null}(a,s,n,null==r?Co(a)&&sg:r!=s&&0!=(3&a.type),i&le.Host&&o===a);return null!==u?Ao(e,s,u,a):Tr}function Ao(t,e,n,r){let i=t[n];const o=e.data;if(function KO(t){return t instanceof Ql}(i)){const s=i;s.resolving&&function EN(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(o[n]));const a=hh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?wn(s.injectImpl):null;Y4(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function qO(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=R4(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&wn(c),hh(a),s.resolving=!1,e6()}}return i}function h6(t,e,n){return!!(n[e+(t>>s6)]&1<<t)}function f6(t,e){return!(t&le.Self||t&le.Host&&e)}class dn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return u6(this._tNode,this._lView,e,Jd(r),n)}}function iV(){return new dn(Ft(),A())}function Bt(t){return Kr(()=>{const e=t.prototype.constructor,n=e[Qr]||cg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Qr]||cg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cg(t){return T5(t)?()=>{const e=cg(Y(t));return e&&e()}:Io(t)}function g6(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Qt]:null}const Ns="__parameters__";function Vs(t,e,n){return Kr(()=>{const r=function ug(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Ns)?l[Ns]:Object.defineProperty(l,Ns,{value:[]})[Ns];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ls(t,e){t.forEach(n=>Array.isArray(n)?Ls(n,e):e(n))}function m6(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _h(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Vn(t,e,n){let r=Fs(t,e);return r>=0?t[1|r]=n:(r=~r,function hV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dg(t,e){const n=Fs(t,e);if(n>=0)return t[1|n]}function Fs(t,e){return function _6(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Mt=zl(Vs("Optional"),8),tc=zl(Vs("SkipSelf"),4);function Eh(t){return 128==(128&t.flags)}var Ri=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ri||{});const RV=/^>|^->|<!--|-->|--!>|<!-$/g,NV=/(<|>)/g,OV="\u200b$1\u200b";const mg=new Map;let VV=0;const vg="__ngContext__";function Yt(t,e){Cn(e)?(t[vg]=e[jl],function LV(t){mg.set(t[jl],t)}(e)):t[vg]=e}let wg;function yg(t,e){return wg(t,e)}function ic(t){const e=t[We];return ln(e)?e[We]:e}function z6(t){return F6(t[Ul])}function L6(t){return F6(t[sr])}function F6(t){for(;null!==t&&!ln(t);)t=t[sr];return t}function Hs(t,e,n,r,i){if(null!=r){let o,s=!1;ln(r)?o=r:Cn(r)&&(s=!0,r=r[Je]);const a=ze(r);0===t&&null!==n?null==i?j6(e,n,a):Mo(e,n,a,i||null,!0):1===t&&null!==n?Mo(e,n,a,i||null,!0):2===t?function Sh(t,e,n){const r=xh(t,e);r&&function rz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function sz(t,e,n,r,i){const o=n[Er];o!==ze(n)&&Hs(e,t,r,o,i);for(let a=zt;a<n.length;a++){const l=n[a];sc(l[O],l,t,e,r,o)}}(e,t,o,n,i)}}function Cg(t,e){return t.createComment(function b6(t){return t.replace(RV,e=>e.replace(NV,OV))}(e))}function Th(t,e,n){return t.createElement(e,n)}function U6(t,e){const n=t[Ds],r=n.indexOf(e);B4(e),n.splice(r,1)}function Dh(t,e){if(t.length<=zt)return;const n=zt+e,r=t[n];if(r){const i=r[Hl];null!==i&&i!==t&&U6(i,r),e>0&&(t[n-1][sr]=r[sr]);const o=_h(t,zt+e);!function QV(t,e){sc(t,e,e[te],2,null,null),e[Je]=null,e[Qt]=null}(r[O],r);const s=o[Ir];null!==s&&s.detachView(o[O]),r[We]=null,r[sr]=null,r[ie]&=-129}return r}function Ig(t,e){if(!(256&e[ie])){const n=e[te];e[$l]&&M4(e[$l]),e[Gl]&&M4(e[Gl]),n.destroyNode&&sc(t,e,n,3,null,null),function XV(t){let e=t[Ul];if(!e)return Eg(t[O],t);for(;e;){let n=null;if(Cn(e))n=e[Ul];else{const r=e[zt];r&&(n=r)}if(!n){for(;e&&!e[sr]&&e!==t;)Cn(e)&&Eg(e[O],e),e=e[We];null===e&&(e=t),Cn(e)&&Eg(e[O],e),n=e&&e[sr]}e=n}}(e)}}function Eg(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function nz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ql)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Ar(4,a,l);try{l.call(a)}finally{Ar(5,a,l)}}else{Ar(4,i,o);try{o.call(i)}finally{Ar(5,i,o)}}}}}(t,e),function tz(t,e){const n=t.cleanup,r=e[Es];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Es]=null);const i=e[bi];if(null!==i){e[bi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[O].type&&e[te].destroy();const n=e[Hl];if(null!==n&&ln(e[We])){n!==e[We]&&U6(n,e);const r=e[Ir];null!==r&&r.detachView(t)}!function FV(t){mg.delete(t[jl])}(e)}}function Ag(t,e,n){return function H6(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Je];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===ir.None||o===ir.Emulated)return null}return In(r,n)}}(t,e.parent,n)}function Mo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function j6(t,e,n){t.appendChild(e,n)}function $6(t,e,n,r,i){null!==r?Mo(t,e,n,r,i):j6(t,e,n)}function xh(t,e){return t.parentNode(e)}let Mg,bg,W6=function q6(t,e,n){return 40&t.type?In(t,n):null};function bh(t,e,n,r){const i=Ag(t,r,e),o=e[te],a=function G6(t,e,n){return W6(t,e,n)}(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)$6(o,i,n[l],a,!1);else $6(o,i,n,a,!1);void 0!==Mg&&Mg(o,r,e,n,i)}function oc(t,e){if(null!==e){const n=e.type;if(3&n)return In(e,t);if(4&n)return Tg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return oc(t,r);{const i=t[e.index];return ln(i)?Tg(-1,i):ze(i)}}if(32&n)return yg(e,t)()||ze(t[e.index]);{const r=Q6(t,e);return null!==r?Array.isArray(r)?r[0]:oc(ic(t[ot]),r):oc(t,e.next)}}return null}function Q6(t,e){return null!==e?t[ot][Qt].projection[e.projection]:null}function Tg(t,e){const n=zt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return oc(r,i)}return e[Er]}function Dg(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Yt(ze(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Dg(t,e,n.child,r,i,o,!1),Hs(e,t,i,a,o);else if(32&l){const c=yg(n,r);let u;for(;u=c();)Hs(e,t,i,u,o);Hs(e,t,i,a,o)}else 16&l?Z6(t,e,r,n,i,o):Hs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function sc(t,e,n,r,i,o){Dg(n,r,t.firstChild,e,i,o,!1)}function Z6(t,e,n,r,i,o){const s=n[ot],l=s[Qt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Hs(e,t,i,l[c],o);else{let c=l;const u=s[We];Eh(r)&&(c.flags|=128),Dg(t,e,c,u,i,o,!0)}}function X6(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function J6(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&F5(t,e,r),null!==i&&X6(t,e,i),null!==o&&function lz(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class rC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const uc=new z("ENVIRONMENT_INITIALIZER"),fC=new z("INJECTOR",-1),gC=new z("INJECTOR_DEF_TYPES");class Og{get(e,n=Vl){if(n===Vl){const r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Oz(...t){return{\u0275providers:mC(0,t),\u0275fromNgModule:!0}}function mC(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ls(e,s=>{const a=s;Nh(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&_C(i,o),n}function _C(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Vg(i,o=>{e(o,r)})}}function Nh(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,o=Yd(t);const s=!o&&ge(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Yd(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Nh(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ls(o.imports,u=>{Nh(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&_C(c,e)}if(!a){const c=Io(i)||(()=>new i);e({provide:i,useFactory:c,deps:ve},i),e({provide:gC,useValue:i,multi:!0},i),e({provide:uc,useValue:()=>$(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=t;Vg(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function Vg(t,e){for(let n of t)D5(n)&&(n=n.\u0275providers),Array.isArray(n)?Vg(n,e):e(n)}const Vz=Me({provide:String,useValue:Me});function zg(t){return null!==t&&"object"==typeof t&&Vz in t}function To(t){return"function"==typeof t}const Lg=new z("Set Injector scope."),Oh={},Lz={};let Fg;function Vh(){return void 0===Fg&&(Fg=new Og),Fg}class Qn{}class qs extends Qn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ug(e,s=>this.processProvider(s)),this.records.set(fC,Ws(void 0,this)),i.has("environment")&&this.records.set(Qn,Ws(void 0,this));const o=this.records.get(Lg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gC.multi,ve,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Di(this),r=wn(void 0);try{return e()}finally{Di(n),wn(r)}}get(e,n=Vl,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(n4))return e[n4](this);r=Jd(r);const o=Di(this),s=wn(void 0);try{if(!(r&le.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function jz(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Qd(e);l=c&&this.injectableDefInScope(c)?Ws(Bg(e),Oh):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&le.Self?Vh():this.parent).get(e,n=r&le.Optional&&n===Vl?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Xd]=a[Xd]||[]).unshift(vt(e)),o)throw a;return function LN(t,e,n,r){const i=t[Xd];throw e[J3]&&i.unshift(e[J3]),t.message=function FN(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(RN,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Xd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{wn(s),Di(o)}}resolveInjectorInitializers(){const e=Di(this),n=wn(void 0);try{const i=this.get(uc.multi,ve,le.Self);for(const o of i)o()}finally{Di(e),wn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let n=To(e=Y(e))?e:Y(e&&e.provide);const r=function Bz(t){return zg(t)?Ws(void 0,t.useValue):Ws(yC(t),Oh)}(e);if(To(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ws(void 0,Oh,!0),i.factory=()=>V5(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Oh&&(n.value=Lz,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Hz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bg(t){const e=Qd(t),n=null!==e?e.factory:Io(t);if(null!==n)return n;if(t instanceof z)throw new D(204,!1);if(t instanceof Function)return function Fz(t){const e=t.length;if(e>0)throw function ec(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new D(204,!1);const n=function bN(t){return t&&(t[Zd]||t[Q3])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function yC(t,e,n){let r;if(To(t)){const i=Y(t);return Io(i)||Bg(i)}if(zg(t))r=()=>Y(t.useValue);else if(function wC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...V5(t.deps||[]));else if(function vC(t){return!(!t||!t.useExisting)}(t))r=()=>$(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function Uz(t){return!!t.deps}(t))return Io(i)||Bg(i);r=()=>new i(...V5(t.deps))}return r}function Ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ug(t,e){for(const n of t)Array.isArray(n)?Ug(n,e):n&&D5(n)?Ug(n.\u0275providers,e):e(n)}const zh=new z("AppId",{providedIn:"root",factory:()=>$z}),$z="ng",CC=new z("Platform Initializer"),Do=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IC=new z("CSP nonce",{providedIn:"root",factory:()=>function $s(){if(void 0!==bg)return bg;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let EC=(t,e,n)=>null;function Qg(t,e,n=!1){return EC(t,e,n)}class eL{}class TC{}class nL{resolveComponentFactory(e){throw function tL(t){const e=Error(`No component factory found for ${vt(t)}.`);return e.ngComponent=t,e}(e)}}let jh=(()=>{class t{static#e=this.NULL=new nL}return t})();function rL(){return Ys(Ft(),A())}function Ys(t,e){return new Tn(In(t,e))}let Tn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=rL}return t})();class xC{}let ei=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oL(){const t=A(),n=On(Ft().index,t);return(Cn(n)?n:t)[te]}()}return t})(),sL=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();class Zs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const bC=new Zs("16.2.12"),Xg={};function RC(t,e=null,n=null,r){const i=NC(t,e,n,r);return i.resolveInjectorInitializers(),i}function NC(t,e=null,n=null,r,i=new Set){const o=[n||ve,Oz(t)];return r=r||("object"==typeof t?void 0:vt(t)),new qs(o,e||Vh(),r||null,i)}let Tt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Vl;static#t=this.NULL=new Og;static create(n,r){if(Array.isArray(n))return RC({name:""},r,n,"");{const i=n.name??"";return RC({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=q({token:t,providedIn:"any",factory:()=>$(fC)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ep(t){return t.ngOriginalError}class ti{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ep(e);for(;n&&ep(n);)n=ep(n);return n||null}}function np(t){return e=>{setTimeout(t,void 0,e)}}const et=class gL extends rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=np(o),i&&(i=np(i)),s&&(s=np(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof vn&&e.add(a),a}};function VC(...t){}class ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pL(){const t="function"==typeof Ve.requestAnimationFrame;let e=Ve[t?"requestAnimationFrame":"setTimeout"],n=Ve[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vL(t){const e=()=>{!function _L(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ip(t),t.isCheckStableRunning=!0,rp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ip(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function yL(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return zC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),LC(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return zC(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),LC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,ip(t),rp(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ye.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mL,VC,VC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const mL={};function rp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ip(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LC(t){t._nesting--,rp(t)}class wL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const FC=new z("",{providedIn:"root",factory:BC});function BC(){const t=V(ye);let e=!0;return function wN(...t){const e=Ol(t),n=function hN(t,e){return"number"==typeof E5(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):ys(n)(At(r,e)):wr}(new qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new qe(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ye.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(q3()))}function UC(t){return t.ownerDocument}function ni(t){return t instanceof Function?t():t}let op=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();function fc(t){for(;t;){t[ie]|=64;const e=ic(t);if(H5(t)&&!e)return t;t=e}return null}const qC=new z("",{providedIn:"root",factory:()=>!1});let Gh=null;function YC(t,e){return t[e]??JC()}function ZC(t,e){const n=JC();n.producerNode?.length&&(t[e]=Gh,n.lView=t,Gh=XC())}const bL={...w4,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fc(t.lView)},lView:null};function XC(){return Object.create(bL)}function JC(){return Gh??=XC(),Gh}const re={};function L(t){eI(pe(),A(),un()+t,!1)}function eI(t,e,n,r){if(!r)if(3==(3&e[ie])){const o=t.preOrderCheckHooks;null!==o&&uh(e,o,n)}else{const o=t.preOrderHooks;null!==o&&dh(e,o,0,n)}Eo(n)}function I(t,e=le.Default){const n=A();return null===n?$(t,e):u6(Ft(),n,Y(t),e)}function qh(t,e,n,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[Je]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),F4(d),d[We]=d[Ms]=t,d[it]=n,d[As]=s||t&&t[As],d[te]=a||t&&t[te],d[xi]=l||t&&t[xi]||null,d[Qt]=o,d[jl]=function zV(){return VV++}(),d[Yr]=u,d[p4]=c,d[ot]=2==e.type?t[ot]:d,d}function ea(t,e,n,r,i){let o=t.data[e];if(null===o)o=function sp(t,e,n,r,i){const o=G4(),s=Y5(),l=t.data[e]=function zL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Ss(){return null!==K.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function VO(){return K.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Kl(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mr(o,!0),o}function gc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nI(t,e,n,r,i){const o=YC(e,$l),s=un(),a=2&r;try{Eo(-1),a&&e.length>ce&&eI(t,e,ce,!1),Ar(a?2:0,i);const c=a?o:null,u=$5(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{G5(c,u)}}finally{a&&null===e[$l]&&ZC(e,$l),Eo(s),Ar(a?3:1,i)}}function ap(t,e,n){if(U5(e)){const r=qn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{qn(r)}}}function lp(t,e,n){$4()&&(function $L(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Co(n)&&function ZL(t,e,n){const r=In(e,t),i=rI(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Wh(t,qh(t,i,null,s,r,e,null,t[As].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fh(n,e),Yt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=Ao(e,t,a,n);Yt(c,e),null!==s&&XL(0,a-i,c,l,0,s),ar(l)&&(On(n.index,e)[it]=Ao(e,t,a,n))}}(t,e,n,In(n,e)),64==(64&n.flags)&&lI(t,e,n))}function cp(t,e,n=In){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function rI(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=up(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function up(t,e,n,r,i,o,s,a,l,c,u){const d=ce+r,h=d+i,f=function kL(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),g="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}let iI=t=>null;function oI(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?sI(n,e,i,o):r.hasOwnProperty(i)&&sI(n,e,r[i],o)}return n}function sI(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function dp(t,e,n,r){if($4()){const i=null===r?null:{"":-1},o=function qL(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(c4(e,s.selectors,!1))if(r||(r=[]),ar(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),hp(t,e,a.length)}else r.unshift(s),hp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&aI(t,e,n,s,i,a),i&&function WL(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new D(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Fl(n.mergedAttrs,n.attrs)}function aI(t,e,n,r,i,o){for(let c=0;c<r.length;c++)lg(fh(n,e),t,r[c].type);!function QL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=gc(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Fl(n.mergedAttrs,u.hostAttrs),YL(t,n,e,l,u),KL(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function LL(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,g=h?h.outputs:null;l=oI(d.inputs,u,l,h?h.inputs:null),c=oI(d.outputs,u,c,g);const p=null===l||null===s||l4(e)?null:JL(l,u,s);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,o)}function lI(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function LO(){return K.lFrame.currentDirectiveIndex}();try{Eo(o);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];X5(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&GL(l,c)}}finally{Eo(-1),X5(s)}}function GL(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function hp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ar(e)&&(n[""]=t)}}function YL(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Io(i.type)),s=new Ql(o,ar(i),I);t.blueprint[r]=s,n[r]=s,function HL(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function jL(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,gc(t,n,i.hostVars,re),i)}function Dr(t,e,n,r,i,o){const s=In(t,e);!function fp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?ee(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[te],s,o,t.value,n,r,i)}function XL(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)cI(r,n,s[a++],s[a++],s[a++])}function cI(t,e,n,r,i){const o=qn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{qn(o)}}function JL(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function uI(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function dI(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];eg(n[r]),s.contentQueries(2,e[o],o)}}}function Wh(t,e){return t[Ul]?t[g4][sr]=e:t[Ul]=e,t[g4]=e,e}function gp(t,e,n){eg(0);const r=qn(null);try{e(t,n)}finally{qn(r)}}function pI(t,e){const n=t[xi],r=n?n.get(ti,null):null;r&&r.handleError(e)}function pp(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];cI(t.data[s],e[s],r,a,i)}}function eF(t,e){const n=On(e,t),r=n[O];!function tF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Je];null!==i&&null===n[Yr]&&(n[Yr]=Qg(i,n[xi])),mp(r,n,n[it])}function mp(t,e,n){tg(e);try{const r=t.viewQuery;null!==r&&gp(1,r,n);const i=t.template;null!==i&&nI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&dI(t,e),t.staticViewQueries&&gp(2,t.viewQuery,n);const o=t.components;null!==o&&function nF(t,e){for(let n=0;n<e.length;n++)eF(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,ng()}}let mI=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function gO(t,e,n){const r=Object.create(pO);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>E4(r),run:()=>{if(r.dirty=!1,r.hasRun&&!A4(r))return;r.hasRun=!0;const s=$5(r);try{r.cleanupFn(),r.cleanupFn=P4,r.fn(i)}finally{G5(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=M5(i,a):2==o&&(r=M5(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function pc(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(ze(o)),ln(o)&&_I(o,r);const s=n.type;if(8&s)pc(t,e,n.child,r);else if(32&s){const a=yg(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Q6(e,n);if(Array.isArray(a))r.push(...a);else{const l=ic(e[ot]);pc(l[O],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function _I(t,e){for(let n=zt;n<t.length;n++){const r=t[n],i=r[O].firstChild;null!==i&&pc(r[O],r,i,e)}t[Er]!==t[Je]&&e.push(t[Er])}function Qh(t,e,n,r=!0){const i=e[As],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{vI(t,e,t.template,n)}catch(l){throw r&&pI(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function vI(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[As].effectManager?.flush(),tg(e);try{F4(e),function W4(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&nI(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&uh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&dh(e,c,0,null),rg(e,0)}if(function oF(t){for(let e=z6(t);null!==e;e=L6(e)){if(!e[m4])continue;const n=e[Ds];for(let r=0;r<n.length;r++){MO(n[r])}}}(e),wI(e,2),null!==t.contentQueries&&dI(t,e),s){const c=t.contentCheckHooks;null!==c&&uh(e,c)}else{const c=t.contentHooks;null!==c&&dh(e,c,1),rg(e,1)}!function SL(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=YC(e,Gl);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Eo(~o);else{const s=o,a=n[++i],l=n[++i];zO(a,s),r.dirty=!1;const c=$5(r);try{l(2,e[s])}finally{G5(r,c)}}}}finally{null===e[Gl]&&ZC(e,Gl),Eo(-1)}}(t,e);const a=t.components;null!==a&&CI(e,a,0);const l=t.viewQuery;if(null!==l&&gp(2,l,r),s){const c=t.viewCheckHooks;null!==c&&uh(e,c)}else{const c=t.viewHooks;null!==c&&dh(e,c,2),rg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,B4(e)}finally{ng()}}}function wI(t,e){for(let n=z6(t);null!==n;n=L6(n))for(let r=zt;r<n.length;r++)yI(n[r],e)}function sF(t,e,n){yI(On(e,t),n)}function yI(t,e){if(!function EO(t){return 128==(128&t[ie])}(t))return;const n=t[O],r=t[ie];if(80&r&&0===e||1024&r||2===e)vI(n,t,n.template,t[it]);else if(t[Bl]>0){wI(t,1);const i=n.components;null!==i&&CI(t,i,1)}}function CI(t,e,n){for(let r=0;r<e.length;r++)sF(t,e[r],n)}class mc{get rootNodes(){const e=this._lView,n=e[O];return pc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[We];if(ln(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Dh(e,r),_h(n,r))}this._attachedToViewContainer=!1}Ig(this._lView[O],this._lView)}onDestroy(e){!function H4(t,e){if(256==(256&t[ie]))throw new D(911,!1);null===t[bi]&&(t[bi]=[]),t[bi].push(e)}(this._lView,e)}markForCheck(){fc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Qh(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZV(t,e){sc(t,e,e[te],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class aF extends mc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Qh(e[O],e,e[it],!1)}checkNoChanges(){}get context(){return null}}class II extends jh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ge(e);return new _c(n,this.ngModule)}}function EI(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class cF{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Jd(r);const i=this.injector.get(e,Xg,r);return i!==Xg||n===Xg?i:this.parentInjector.get(e,n,r)}}class _c extends TC{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=EI(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return EI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function QN(t){return t.map(KN).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Qn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new cF(e,o):e,a=s.get(xC,null);if(null===a)throw new D(407,!1);const d={rendererFactory:a,sanitizer:s.get(sL,null),effectManager:s.get(mI,null),afterRenderEventManager:s.get(op,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function PL(t,e,n,r){const o=r.get(qC,!1)||n===ir.ShadowDom,s=t.selectRootElement(e,o);return function RL(t){iI(t)}(s),s}(h,r,this.componentDef.encapsulation,s):Th(h,f,function lF(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==g&&(v=Qg(g,s,!0));const E=up(0,null,null,1,0,null,null,null,null,null,null),b=qh(null,E,null,y,null,null,d,h,s,null,v);let B,Q;tg(b);try{const we=this.componentDef;let ht,Ai=null;we.findHostDirectiveDefs?(ht=[],Ai=new Map,we.findHostDirectiveDefs(we,ht,Ai),ht.push(we)):ht=[we];const Rl=function dF(t,e){const n=t[O],r=ce;return t[r]=e,ea(n,r,2,"#host",null)}(b,g),vle=function hF(t,e,n,r,i,o,s){const a=i[O];!function fF(t,e,n,r){for(const i of t)e.mergedAttrs=Fl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Kh(e,e.mergedAttrs,!0),null!==n&&J6(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Qg(e,i[xi]));const c=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=qh(i,rI(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&hp(a,t,r.length-1),Wh(i,d),i[t.index]=d}(Rl,g,we,ht,b,d,h);Q=L4(E,ce),g&&function pF(t,e,n,r){if(r)F5(t,n,["ng-version",bC.full]);else{const{attrs:i,classes:o}=function YN(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!or(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&F5(t,n,i),o&&o.length>0&&X6(t,n,o.join(" "))}}(h,we,g,r),void 0!==n&&function mF(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Q,this.ngContentSelectors,n),B=function gF(t,e,n,r,i,o){const s=Ft(),a=i[O],l=In(s,i);aI(a,i,s,n,null,r);for(let u=0;u<n.length;u++)Yt(Ao(i,a,s.directiveStart+u,s),i);lI(a,i,s),l&&Yt(l,i);const c=Ao(i,a,s.directiveStart+s.componentOffset,s);if(t[it]=i[it]=c,null!==o)for(const u of o)u(c,e);return ap(a,s,t),c}(vle,we,ht,Ai,b,[_F]),mp(E,b,null)}finally{ng()}return new uF(this.componentType,B,Ys(Q,b),b,Q)}}class uF extends eL{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new aF(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;pp(o[O],o,i,e,n),this.previousInputValues.set(e,n),fc(On(this._tNode.index,o))}}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function _F(){const t=Ft();ch(A()[O],t)}function Te(t){let e=function AI(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Yh(t.inputs),s.inputTransforms=Yh(t.inputTransforms),s.declaredInputs=Yh(t.declaredInputs),s.outputs=Yh(t.outputs);const a=i.hostBindings;a&&CF(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&wF(t,l),c&&yF(t,c),Wd(t.inputs,i.inputs),Wd(t.declaredInputs,i.declaredInputs),Wd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Wd(s.inputTransforms,i.inputTransforms)),ar(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fl(i.hostAttrs,n=Fl(n,i.hostAttrs))}}(r)}function Yh(t){return t===Cr?{}:t===ve?[]:t}function wF(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function yF(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function CF(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function _p(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Zh(t){return!!vp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function br(t,e,n,r){const i=A();return Zt(i,ks(),e)&&(pe(),Dr(Ze(),i,t,e,n,r)),br}function he(t,e,n,r,i,o,s,a){const l=A(),c=pe(),u=t+ce,d=c.firstCreatePass?function qF(t,e,n,r,i,o,s,a,l){const c=e.consts,u=ea(e,t,4,s||null,ki(c,a));dp(e,n,u,ki(c,l)),ch(e,u);const d=u.tView=up(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];Mr(d,!1);const h=BI(c,l,d,t);lh()&&bh(c,l,h,d),Yt(h,l),Wh(l,l[u]=uI(h,l,h,d)),ih(d)&&lp(c,l,d),null!=s&&cp(l,d,a)}let BI=function UI(t,e,n,r){return Pi(!0),e[te].createComment("")};function U(t,e,n){const r=A();return Zt(r,ks(),e)&&function zn(t,e,n,r,i,o,s,a){const l=In(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(pp(t,n,u,r,i),Co(e)&&function BL(t,e){const n=On(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function FL(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(pe(),Ze(),r,t,e,r[te],n,!1),U}function Ap(t,e,n,r,i){const s=i?"class":"style";pp(t,n,e.inputs[s],s,r)}function x(t,e,n,r){const i=A(),o=pe(),s=ce+t,a=i[te],l=o.firstCreatePass?function YF(t,e,n,r,i,o){const s=e.consts,l=ea(e,t,2,r,ki(s,i));return dp(e,n,l,ki(s,o)),null!==l.attrs&&Kh(l,l.attrs,!1),null!==l.mergedAttrs&&Kh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],c=jI(o,i,l,a,e,t);i[s]=c;const u=ih(l);return Mr(l,!0),J6(a,c,l),32!=(32&l.flags)&&lh()&&bh(o,i,c,l),0===function DO(){return K.lFrame.elementDepthCount}()&&Yt(c,i),function xO(){K.lFrame.elementDepthCount++}(),u&&(lp(o,i,l),ap(o,l,i)),null!==r&&cp(i,l),x}function S(){let t=Ft();Y5()?Z5():(t=t.parent,Mr(t,!1));const e=t;(function SO(t){return K.skipHydrationRootTNode===t})(e)&&function NO(){K.skipHydrationRootTNode=null}(),function bO(){K.lFrame.elementDepthCount--}();const n=pe();return n.firstCreatePass&&(ch(n,t),U5(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function QO(t){return 0!=(8&t.flags)}(e)&&Ap(n,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YO(t){return 0!=(16&t.flags)}(e)&&Ap(n,e,A(),e.stylesWithoutHost,!1),S}function Ae(t,e,n,r){return x(t,e,n,r),S(),Ae}let jI=(t,e,n,r,i,o)=>(Pi(!0),Th(r,i,function t6(){return K.lFrame.currentNamespace}()));function bo(t,e,n){const r=A(),i=pe(),o=t+ce,s=i.firstCreatePass?function JF(t,e,n,r,i){const o=e.consts,s=ki(o,r),a=ea(e,t,8,"ng-container",s);return null!==s&&Kh(a,s,!0),dp(e,n,a,ki(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Mr(s,!0);const a=GI(i,r,s,t);return r[o]=a,lh()&&bh(i,r,a,s),Yt(a,r),ih(s)&&(lp(i,r,s),ap(i,s,r)),null!=n&&cp(r,s),bo}function So(){let t=Ft();const e=pe();return Y5()?Z5():(t=t.parent,Mr(t,!1)),e.firstCreatePass&&(ch(e,t),U5(t)&&e.queries.elementEnd(t)),So}let GI=(t,e,n,r)=>(Pi(!0),Cg(e[te],""));function Zn(){return A()}function Ic(t){return!!t&&"function"==typeof t.then}function qI(t){return!!t&&"function"==typeof t.subscribe}function oe(t,e,n,r){const i=A(),o=pe(),s=Ft();return function KI(t,e,n,r,i,o,s){const a=ih(r),c=t.firstCreatePass&&function fI(t){return t.cleanup||(t.cleanup=[])}(t),u=e[it],d=function hI(t){return t[Es]||(t[Es]=[])}(e);let h=!0;if(3&r.type||s){const p=In(r,e),_=s?s(p):p,y=d.length,v=s?b=>s(ze(b[r.index])):r.index;let E=null;if(!s&&a&&(E=function nB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Es],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=YI(r,e,u,o,!1);const b=n.listen(_,i,o);d.push(o,b),c&&c.push(i,v,y,y+1)}}else o=YI(r,e,u,o,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const p=g.length;if(p)for(let _=0;_<p;_+=2){const B=e[g[_]][g[_+1]].subscribe(o),Q=d.length;d.push(o,B),c&&c.push(i,r.index,Q,-(Q+1))}}}(o,i,i[te],s,t,e,r),oe}function QI(t,e,n,r){try{return Ar(6,e,n),!1!==n(r)}catch(i){return pI(t,i),!1}finally{Ar(7,e,n)}}function YI(t,e,n,r,i){return function o(s){if(s===Function)return r;fc(t.componentOffset>-1?On(t.index,e):e);let l=QI(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=QI(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Ke(t=1){return function BO(t){return(K.lFrame.contextLView=function UO(t,e){for(;t>0;)e=e[Ms],t--;return e}(t,K.lFrame.contextLView))[it]}(t)}function n0(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function Tp(t){return 2|t}function ko(t){return(131068&t)>>2}function Dp(t,e){return-131069&t|e<<2}function xp(t){return 1|t}function sE(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Oi(o):ko(o),l=!1;for(;0!==a&&(!1===l||s);){const u=t[a+1];dB(t[a],e)&&(l=!0,t[a+1]=r?xp(u):Tp(u)),a=r?Oi(u):ko(u)}l&&(t[n+1]=r?Tp(o):xp(o))}function dB(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Fs(t,e)>=0}function bp(t,e,n){return lr(t,e,n,!1),bp}function r0(t,e){return lr(t,e,null,!0),r0}function lr(t,e,n,r){const i=A(),o=pe(),s=function Xr(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function gE(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[un()],s=function fE(t,e){return e>=t.expandoStartIndex}(t,n);(function vE(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function yB(t,e,n,r){const i=function J5(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ec(n=Sp(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Sp(i,t,e,n,r),null===o){let l=function CB(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ko(r))return t[Oi(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Sp(null,t,e,l[1],r),l=Ec(l,e.attrs,r),function IB(t,e,n,r){t[Oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function EB(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ec(r,t[o].hostAttrs,n);return Ec(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function cB(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),l=ko(s);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||Fs(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=Oi(t[a+1]);t[r+1]=n0(h,a),0!==h&&(t[h+1]=Dp(t[h+1],r)),t[a+1]=function aB(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=n0(a,0),0!==a&&(t[a+1]=Dp(t[a+1],r)),a=r;else t[r+1]=n0(l,0),0===a?a=r:t[l+1]=Dp(t[l+1],r),l=r;c&&(t[r+1]=Tp(t[r+1])),sE(t,u,r,!0),sE(t,u,r,!1),function uB(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Fs(o,e)>=0&&(n[r+1]=xp(n[r+1]))}(e,u,t,r,o),s=n0(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==re&&Zt(i,s,e)&&function mE(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function lB(t){return 1==(1&t)}(c)?_E(l,e,n,i,ko(c),s):void 0;o0(u)||(o0(o)||function sB(t){return 2==(2&t)}(c)&&(o=_E(l,null,n,i,a,s)),function az(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Ri.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ri.Important),t.setStyle(n,r,i,o))}}(r,s,ah(un(),n),i,o))}(o,o.data[un()],i,i[te],t,i[s+1]=function DB(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(function Ni(t){return t instanceof rC?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}function Sp(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ec(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ec(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,s,!!n||e[++o]))}return void 0===t?null:t}function _E(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===re&&(h=d?ve:void 0);let f=d?dg(h,r):u===r?h:void 0;if(c&&!o0(f)&&(f=dg(l,r)),o0(f)&&(a=f,s))return a;const g=t[i+1];i=s?Oi(g):ko(g)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=dg(l,r))}return a}function o0(t){return void 0!==t}function G(t,e=""){const n=A(),r=pe(),i=t+ce,o=r.firstCreatePass?ea(r,i,1,e,null):r.data[i],s=wE(r,n,o,e,t);n[i]=s,lh()&&bh(r,n,s,o),Mr(o,!1)}let wE=(t,e,n,r,i)=>(Pi(!0),function Mh(t,e){return t.createText(e)}(e[te],r));function ur(t){return kp("",t,""),ur}function kp(t,e,n){const r=A(),i=function na(t,e,n,r){return Zt(t,ks(),n)?e+ee(n)+r:re}(r,t,e,n);return i!==re&&function ri(t,e,n){const r=ah(e,t);!function B6(t,e,n){t.setValue(e,n)}(t[te],r,n)}(r,un(),i),kp}const ha="en-US";let UE=ha;function Np(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let o=0;o<t.length;o++)Np(t[o],e,n,r,i);else{const o=pe(),s=A(),a=Ft();let l=To(t)?t:Y(t.provide);const c=yC(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(To(t)||!t.multi){const f=new Ql(c,i,I),g=Vp(l,e,i?u:u+h,d);-1===g?(lg(fh(a,s),o,l),Op(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{const f=Vp(l,e,u+h,d),g=Vp(l,e,u,u+h),_=g>=0&&n[g];if(i&&!_||!i&&!(f>=0&&n[f])){lg(fh(a,s),o,l);const y=function KU(t,e,n,r,i){const o=new Ql(t,n,I);return o.multi=[],o.index=e,o.componentProviders=0,hA(o,i,r&&!n),o}(i?WU:qU,n.length,i,r,c);!i&&_&&(n[g].providerFactory=y),Op(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else Op(o,t,f>-1?f:g,hA(n[i?g:f],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function Op(t,e,n,r){const i=To(e),o=function zz(t){return!!t.useClass}(e);if(i||o){const l=(o?Y(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function hA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qU(t,e,n,r){return zp(this.multi,[])}function WU(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ao(n,n[O],this.providerFactory.index,r);o=a.slice(0,s),zp(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],zp(i,o);return o}function zp(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Re(t,e=[]){return n=>{n.providersResolver=(r,i)=>function GU(t,e,n){const r=pe();if(r.firstCreatePass){const i=ar(t);Np(n,r.data,r.blueprint,i,!0),Np(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ro{}class fA{}class Lp extends Ro{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new II(this);const i=Nn(e);this._bootstrapComponents=ni(i.bootstrap),this._r3Injector=NC(e,n,[{provide:Ro,useValue:this},{provide:jh,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fp extends fA{constructor(e){super(),this.moduleType=e}create(e){return new Lp(this.moduleType,e,[])}}class gA extends Ro{constructor(e){super(),this.componentFactoryResolver=new II(this),this.instance=null;const n=new qs([...e.providers,{provide:Ro,useValue:this},{provide:jh,useValue:this.componentFactoryResolver}],e.parent||Vh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bp(t,e,n=null){return new gA({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let ZU=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=mC(0,n.type),i=r.length>0?Bp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t($(Qn))})}return t})();function Up(t){t.getStandaloneInjector=e=>e.get(ZU).getOrCreateStandaloneInjector(t)}function Dt(t,e,n,r){return CA(A(),cn(),t,e,n,r)}function CA(t,e,n,r,i,o){const s=e+n;return Zt(t,s,i)?function xr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function bc(t,e){const n=t[e];return n===re?void 0:n}(t,s+1)}function DA(t,e,n){const r=t+ce,i=A(),o=bs(i,r);return function Sc(t,e){return t[O].data[e].pure}(i,r)?CA(i,cn(),e,o.transform,n,o):o.transform(n)}function IH(t,e,n,r=!0){const i=e[O];if(function JV(t,e,n,r){const i=zt+r,o=n.length;r>0&&(n[i-1][sr]=e),r<o-zt?(e[sr]=n[i],m6(n,zt+r,e)):(n.push(e),e[sr]=null),e[We]=n;const s=e[Hl];null!==s&&n!==s&&function ez(t,e){const n=t[Ds];e[ot]!==e[We][We][ot]&&(t[m4]=!0),null===n?t[Ds]=[e]:n.push(e)}(s,e);const a=e[Ir];null!==a&&a.insertView(t),e[ie]|=128}(i,e,t,n),r){const o=Tg(n,t),s=e[te],a=xh(s,t[Er]);null!==a&&function YV(t,e,n,r,i,o){r[Je]=i,r[Qt]=e,sc(t,r,n,1,i,o)}(i,t[Qt],s,e,a,o)}}Symbol;let ii=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MH}return t})();const EH=ii,AH=class extends EH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function CH(t,e,n,r){const i=e.tView,a=qh(t,i,n,4096&t[ie]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Hl]=t[e.index];const c=t[Ir];return null!==c&&(a[Ir]=c.createEmbeddedView(i)),mp(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new mc(i)}};function MH(){return function u0(t,e){return 4&t.type?new AH(e,t,Ys(t,e)):null}(Ft(),A())}let dr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=kH}return t})();function kH(){return function NA(t,e){let n;const r=e[t.index];return ln(r)?n=r:(n=uI(r,e,null,t),e[t.index]=n,Wh(e,n)),OA(n,e,t,r),new PA(n,t,e)}(Ft(),A())}const PH=dr,PA=class extends PH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ys(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=gh(this._hostTNode,this._hostLView);if(og(e)){const n=Zl(e,this._hostLView),r=Yl(e);return new dn(n[O].data[r+8],n)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=RA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Jl(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=s?e:new _c(ge(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const _=(s?c:this.parentInjector).get(Qn,null);_&&(o=_)}ge(l.componentType??{});const f=l.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function AO(t){return ln(t[We])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[We],u=new PA(c,c[Qt],c[We]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return IH(a,i,s,!r),e.attachToViewContainerRef(),m6($p(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=RA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Dh(this._lContainer,n);r&&(_h($p(this._lContainer),n),Ig(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Dh(this._lContainer,n);return r&&null!=_h($p(this._lContainer),n)?new mc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function RA(t){return t[8]}function $p(t){return t[8]||(t[8]=[])}let OA=function VA(t,e,n,r){if(t[Er])return;let i;i=8&n.type?ze(r):function RH(t,e){const n=t[te],r=n.createComment(""),i=In(e,t);return Mo(n,xh(n,i),r,function iz(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Er]=i};const t2=new z("Application Initializer");let n2=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(t2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Ic(o))n.push(o);else if(qI(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a8=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const oi=new z("LocaleId",{providedIn:"root",factory:()=>V(oi,le.Optional|le.SkipSelf)||function uj(){return typeof $localize<"u"&&$localize.locale||ha}()});let l8=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class fj{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let c8=(()=>{class t{compileModuleSync(n){return new Fp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=ni(Nn(n).declarations).reduce((s,a)=>{const l=ge(a);return l&&s.push(new _c(l)),s},[]);return new fj(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const f8=new z(""),g0=new z("");let a2,o2=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a2||(function Oj(t){a2=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)($(ye),$(s2),$(g0))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),s2=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return a2?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Vi=null;const g8=new z("AllowMultipleToken"),l2=new z("PlatformDestroyListeners"),c2=new z("appBootstrapListener");class m8{constructor(e,n){this.name=e,this.token=n}}function v8(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(o=[])=>{let s=u2();if(!s||s.injector.get(g8,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Lj(t){if(Vi&&!Vi.get(g8,!1))throw new D(400,!1);(function p8(){!function cO(t){x4=t}(()=>{throw new D(600,!1)})})(),Vi=t;const e=t.get(y8);(function _8(t){t.get(CC,null)?.forEach(n=>n())})(t)}(function w8(t=[],e){return Tt.create({name:e,providers:[{provide:Lg,useValue:"platform"},{provide:l2,useValue:new Set([()=>Vi=null])},...t]})}(a,r))}return function Bj(t){const e=u2();if(!e)throw new D(401,!1);return e}()}}function u2(){return Vi?.get(y8)??null}let y8=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Uj(t="zone.js",e){return"noop"===t?new wL:"zone.js"===t?new ye(e):t}(r?.ngZone,function C8(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function YU(t,e,n){return new Lp(t,e,n)}(n.moduleType,this.injector,function T8(t){return[{provide:ye,useFactory:t},{provide:uc,multi:!0,useFactory:()=>{const e=V(jj,{optional:!0});return()=>e.initialize()}},{provide:M8,useFactory:Hj},{provide:FC,useFactory:BC}]}(()=>i)),s=o.injector.get(ti,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{p0(this._modules,o),a.unsubscribe()})}),function I8(t,e,n){try{const r=n();return Ic(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(n2);return a.runInitializers(),a.donePromise.then(()=>(function HE(t){$n(t,"Expected localeId to be defined"),"string"==typeof t&&(UE=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(oi,ha)||ha),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=E8({},r);return function Vj(t,e,n){const r=new Fp(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(pa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new D(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(l2,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)($(Tt))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function E8(t,e){return Array.isArray(e)?e.reduce(E8,t):{...t,...e}}let pa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(M8),this.zoneIsStable=V(FC),this.componentTypes=[],this.components=[],this.isStable=V(l8).hasPendingTasks.pipe(yr(n=>n?X(!1):this.zoneIsStable),function yN(t,e=Mi){return t=t??CN,_t((n,r)=>{let i,o=!0;n.subscribe(ft(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),q3()),this._injector=V(Qn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof TC;if(!this._injector.get(n2).done)throw!i&&function Is(t){const e=ge(t)||Vt(t)||an(t);return null!==e&&e.standalone}(n),new D(405,!1);let s;s=i?n:this._injector.get(jh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function zj(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ro),c=s.create(Tt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(f8,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),p0(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;p0(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(c2,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>p0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const M8=new z("",{providedIn:"root",factory:()=>V(ti).handleError.bind(void 0)});function Hj(){const t=V(ye),e=V(ti);return n=>t.runOutsideAngular(()=>e.handleError(n))}let jj=(()=>{class t{constructor(){this.zone=V(ye),this.applicationRef=V(pa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let m0=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Gj}return t})();function Gj(t){return function qj(t,e,n){if(Co(t)&&!n){const r=On(t.index,e);return new mc(r,r)}return 47&t.type?new mc(e[ot],e):null}(Ft(),A(),16==(16&t))}class S8{constructor(){}supports(e){return Zh(e)}create(e){return new Xj(e)}}const Zj=(t,e)=>e;class Xj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Zj}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<P8(r,i,o)?n:r,a=P8(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Zh(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function xF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Jj(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new k8),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k8),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Jj{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e${constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class k8{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new e$,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P8(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class R8{constructor(){}supports(e){return e instanceof Map||vp(e)}create(){return new t$}}class t${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||vp(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new n$(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class n${constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N8(){return new w0([new S8])}let w0=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:N8});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||N8()),deps:[[t,new tc,new Mt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new D(901,!1)}}return t})();function O8(){return new Rc([new R8])}let Rc=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:O8});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||O8()),deps:[[t,new tc,new Mt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new D(901,!1)}}return t})();const o$=v8(null,"core",[]);let s$=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)($(pa))};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({})}return t})();let m2=null;function zi(){return m2}class y${}const Xn=new z("DocumentToken");let _2=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return V(I$)},providedIn:"platform"})}return t})();const C$=new z("Location Initialized");let I$=(()=>{class t extends _2{constructor(){super(),this._doc=V(Xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(n){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function v2(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function $8(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function si(t){return t&&"?"!==t[0]?"?"+t:t}let Oo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return V(q8)},providedIn:"root"})}return t})();const G8=new z("appBaseHref");let q8=(()=>{class t extends Oo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return v2(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+si(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+si(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+si(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)($(_2),$(G8,8))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),E$=(()=>{class t extends Oo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=v2(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+si(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+si(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)($(_2),$(G8,8))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),w2=(()=>{class t{constructor(n){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function T$(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}($8(W8(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+si(r))}normalize(n){return t.stripTrailingSlash(function M$(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,W8(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+si(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=si;static#t=this.joinWithSlash=v2;static#n=this.stripTrailingSlash=$8;static#r=this.\u0275fac=function(r){return new(r||t)($(Oo))};static#i=this.\u0275prov=q({token:t,factory:function(){return function A$(){return new w2($(Oo))}()},providedIn:"root"})}return t})();function W8(t){return t.replace(/\/index.html$/,"")}const b2=/\s+/,nM=[];let va=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=nM,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(b2):nM}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(b2):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(b2).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(I(w0),I(Rc),I(Tn),I(ei))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class hG{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let S2=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new hG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),iM(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{iM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(I(dr),I(ii),I(w0))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function iM(t,e){t.context.$implicit=e.item}let Li=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new fG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){oM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){oM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(I(dr),I(ii))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class fG{constructor(){this.$implicit=null,this.ngIf=null}}function oM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}class mG{createSubscription(e,n){return k4(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){k4(()=>e.unsubscribe())}}class _G{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const vG=new _G,wG=new mG;let aM=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Ic(n))return vG;if(qI(n))return wG;throw function fr(t,e){return new D(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(I(m0,16))};static#t=this.\u0275pipe=yn({name:"async",type:t,pure:!1,standalone:!0})}return t})(),zG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function uM(t){return"server"===t}let UG=(()=>{class t{static#e=this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new HG($(Xn),window)})}return t})();class HG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function jG(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fq extends y${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z2 extends fq{static makeCurrent(){!function w$(t){m2||(m2=t)}(new z2)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function gq(){return zc=zc||document.querySelector("base"),zc?zc.getAttribute("href"):null}();return null==n?null:function pq(t){R0=R0||document.createElement("a"),R0.setAttribute("href",t);const e=R0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){zc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uG(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let R0,zc=null,_q=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const L2=new z("EventManagerPlugins");let pM=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)($(L2),$(ye))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();class mM{constructor(e){this._doc=e}}const F2="ng-app-id";let _M=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uM(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${F2}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(F2),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(F2,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)($(Xn),$(zh),$(IC,8),$(Do))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const B2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},U2=/%COMP%/g,Cq=new z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wM(t,e){return e.map(n=>n.replace(U2,t))}let yM=(()=>{class t{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=uM(a),this.defaultRenderer=new H2(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r={...r,encapsulation:ir.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof IM?i.applyToHost(n):i instanceof j2&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:o=new IM(l,c,r,this.appId,u,s,a,d);break;case ir.ShadowDom:return new Mq(l,c,n,r,s,a,this.nonce,d);default:o=new j2(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)($(pM),$(_M),$(zh),$(Cq),$(Xn),$(Do),$(ye),$(IC))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();class H2{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(B2[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=B2[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=B2[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ri.DashCase|Ri.Important)?e.style.setProperty(n,r,i&Ri.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ri.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=zi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function CM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Mq extends H2{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=wM(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class j2 extends H2{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?wM(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class IM extends j2{constructor(e,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=function Iq(t){return"_ngcontent-%COMP%".replace(U2,t)}(c),this.hostAttr=function Eq(t){return"_nghost-%COMP%".replace(U2,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Tq=(()=>{class t extends mM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)($(Xn))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const EM=["alt","control","meta","shift"],Dq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bq=(()=>{class t extends mM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),EM.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=Dq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),EM.forEach(s=>{s!==i&&(0,xq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)($(Xn))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();const MM=[{provide:Do,useValue:"browser"},{provide:CC,useValue:function Sq(){z2.makeCurrent()},multi:!0},{provide:Xn,useFactory:function Pq(){return function hz(t){bg=t}(document),document},deps:[]}],Rq=v8(o$,"browser",MM),Nq=new z(""),TM=[{provide:g0,useClass:class mq{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new D(5103,!1);return o},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements(),Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(r=>{const i=Ve.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?zi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:f8,useClass:o2,deps:[ye,s2,g0]},{provide:o2,useClass:o2,deps:[ye,s2,g0]}],DM=[{provide:Lg,useValue:"root"},{provide:ti,useFactory:function kq(){return new ti},deps:[]},{provide:L2,useClass:Tq,multi:!0,deps:[Xn,ye,Do]},{provide:L2,useClass:bq,multi:!0,deps:[Xn]},yM,_M,pM,{provide:xC,useExisting:yM},{provide:class $G{},useClass:_q,deps:[]},[]];let Oq=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:zh,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)($(Nq,12))};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({providers:[...DM,...TM],imports:[zG,s$]})}return t})(),xM=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)($(Xn))};static#t=this.\u0275prov=q({token:t,factory:function(r){let i=null;return i=r?new r:function zq(){return new xM($(Xn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:Hq}=Array,{getPrototypeOf:jq,prototype:$q,keys:Gq}=Object;function PM(t){if(1===t.length){const e=t[0];if(Hq(e))return{args:e,keys:null};if(function qq(t){return t&&"object"==typeof t&&jq(t)===$q}(e)){const n=Gq(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Wq}=Array;function RM(t){return ke(e=>function Kq(t,e){return Wq(e)?t(...e):t(e)}(t,e))}function NM(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let OM=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(ei),I(Tn))};static#t=this.\u0275dir=Z({type:t})}return t})(),Vo=(()=>{class t extends OM{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,features:[Te]})}return t})();const Pr=new z("NgValueAccessor"),Zq={provide:Pr,useExisting:Oe(()=>Bi),multi:!0},Jq=new z("CompositionEventMode");let Bi=(()=>{class t extends OM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xq(){const t=zi()?zi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(ei),I(Tn),I(Jq,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Re([Zq]),Te]})}return t})();function Ui(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function zM(t){return null!=t&&"number"==typeof t.length}const Xt=new z("NgValidators"),Hi=new z("NgAsyncValidators"),eW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gr{static min(e){return function LM(t){return e=>{if(Ui(e.value)||Ui(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function FM(t){return e=>{if(Ui(e.value)||Ui(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function BM(t){return Ui(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function UM(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function HM(t){return Ui(t.value)||eW.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function jM(t){return e=>Ui(e.value)||!zM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return $M(e)}static pattern(e){return function GM(t){if(!t)return N0;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ui(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return ZM(e)}static composeAsync(e){return XM(e)}}function $M(t){return e=>zM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function N0(t){return null}function qM(t){return null!=t}function WM(t){return Ic(t)?At(t):t}function KM(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function QM(t,e){return e.map(n=>n(t))}function YM(t){return t.map(e=>function tW(t){return!t.validate}(e)?e:n=>e.validate(n))}function ZM(t){if(!t)return null;const e=t.filter(qM);return 0==e.length?null:function(n){return KM(QM(n,e))}}function G2(t){return null!=t?ZM(YM(t)):null}function XM(t){if(!t)return null;const e=t.filter(qM);return 0==e.length?null:function(n){return function Qq(...t){const e=$3(t),{args:n,keys:r}=PM(t),i=new qe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Pn(n[u]).subscribe(ft(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?NM(r,a):a),o.complete())}))}});return e?i.pipe(RM(e)):i}(QM(n,e).map(WM)).pipe(ke(KM))}}function q2(t){return null!=t?XM(YM(t)):null}function JM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function eT(t){return t._rawValidators}function tT(t){return t._rawAsyncValidators}function W2(t){return t?Array.isArray(t)?t:[t]:[]}function O0(t,e){return Array.isArray(t)?t.includes(e):t===e}function nT(t,e){const n=W2(e);return W2(t).forEach(i=>{O0(n,i)||n.push(i)}),n}function rT(t,e){return W2(e).filter(n=>!O0(t,n))}class iT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=G2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=q2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class pn extends iT{get formDirective(){return null}get path(){return null}}class ji extends iT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oT{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wa=(()=>{class t extends oT{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(ji,2))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&r0("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Te]})}return t})(),ya=(()=>{class t extends oT{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(pn,10))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&r0("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Te]})}return t})();const Lc="VALID",z0="INVALID",Ca="PENDING",Fc="DISABLED";function Y2(t){return(L0(t)?t.validators:t)||null}function Z2(t,e){return(L0(e)?e.asyncValidators:t)||null}function L0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function aT(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function lT(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new D(1002,"")})}class F0{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lc}get invalid(){return this.status===z0}get pending(){return this.status==Ca}get disabled(){return this.status===Fc}get enabled(){return this.status!==Fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rT(e,this._rawAsyncValidators))}hasValidator(e){return O0(this._rawValidators,e)}hasAsyncValidator(e){return O0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ca,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lc||this.status===Ca)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator=!0;const n=WM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Fc:this.errors?z0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(z0)?z0:Lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){L0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function oW(t){return Array.isArray(t)?G2(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function sW(t){return Array.isArray(t)?q2(t):t||null}(this._rawAsyncValidators)}}class Bc extends F0{constructor(e,n,r){super(Y2(n),Z2(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){lT(this,0,e),Object.keys(e).forEach(r=>{aT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class cT extends Bc{}const zo=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Uc}),Uc="always";function B0(t,e){return[...e.path,t]}function Hc(t,e,n=Uc){X2(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function lW(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uT(t,e)})}(t,e),function uW(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function cW(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uT(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function aW(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function U0(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),j0(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function H0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function X2(t,e){const n=eT(t);null!==e.validator?t.setValidators(JM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=tT(t);null!==e.asyncValidator?t.setAsyncValidators(JM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();H0(e._rawValidators,i),H0(e._rawAsyncValidators,i)}function j0(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=eT(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=tT(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return H0(e._rawValidators,r),H0(e._rawAsyncValidators,r),n}function uT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dT(t,e){X2(t,e)}function em(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function hT(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tm(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Bi?n=o:function fW(t){return Object.getPrototypeOf(t.constructor)===Vo}(o)?r=o:i=o}),i||r||n||null}const pW={provide:pn,useExisting:Oe(()=>Ia)},jc=(()=>Promise.resolve())();let Ia=(()=>{class t extends pn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new et,this.form=new Bc({},G2(n),q2(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){jc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Hc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){jc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){jc.then(()=>{const r=this._findContainer(n.path),i=new Bc({});dT(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){jc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){jc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,hT(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(I(Xt,10),I(Hi,10),I(zo,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([pW]),Te]})}return t})();function fT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function gT(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const $c=class extends F0{constructor(e=null,n,r){super(Y2(n),Z2(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=gT(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},vW={provide:ji,useExisting:Oe(()=>Gc)},_T=(()=>Promise.resolve())();let Gc=(()=>{class t extends ji{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new $c,this._registered=!1,this.name="",this.update=new et,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tm(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),em(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){_T.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function ma(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);_T.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?B0(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(I(pn,9),I(Xt,10),I(Hi,10),I(Pr,10),I(m0,8),I(zo,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Re([vW]),Te,Wn]})}return t})(),Ea=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),wT=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({})}return t})();const nm=new z("NgModelWithFormControlWarning"),AW={provide:pn,useExisting:Oe(()=>qc)};let qc=(()=>{class t extends pn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(j0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Hc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){U0(n.control||null,n,!1),function gW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,hT(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(U0(r||null,n),(t=>t instanceof $c)(i)&&(Hc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);dT(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function dW(t,e){return j0(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){X2(this.form,this),this._oldForm&&j0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(I(Xt,10),I(Hi,10),I(zo,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([AW]),Te,Wn]})}return t})();const DW={provide:ji,useExisting:Oe(()=>$0)};let $0=(()=>{class t extends ji{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new et,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tm(0,o)}ngOnChanges(n){this._added||this._setUpControl(),em(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return B0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(I(pn,13),I(Xt,10),I(Hi,10),I(Pr,10),I(nm,8))};static#n=this.\u0275dir=Z({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Re([DW]),Te,Wn]})}return t})();let Lo=(()=>{class t{constructor(){this._validator=N0}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):N0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,features:[Wn]})}return t})();const BW={provide:Xt,useExisting:Oe(()=>lm),multi:!0};let lm=(()=>{class t extends Lo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function TT(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>$M(n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&br("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Re([BW]),Te]})}return t})(),NT=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({imports:[wT]})}return t})();class OT extends F0{constructor(e,n,r){super(Y2(n),Z2(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){lT(this,0,e),e.forEach((r,i)=>{aT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function VT(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let zT=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return VT(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Bc(i,o)}record(n,r=null){const i=this._reduceControls(n);return new cT(i,r)}control(n,r,i){let o={};return this.useNonNullable?(VT(r)?o=r:(o.validators=r,o.asyncValidators=i),new $c(n,{...o,nonNullable:!0})):new $c(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new OT(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof $c||n instanceof F0?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HW=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zo,useValue:n.callSetDisabledState??Uc}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({imports:[NT]})}return t})(),jW=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:nm,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:zo,useValue:n.callSetDisabledState??Uc}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({imports:[NT]})}return t})();function LT(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){LT(o,r,i,s,a,"next",l)}function a(l){LT(o,r,i,s,a,"throw",l)}s(void 0)})}}function FT(t){return!!t&&(t instanceof qe||Se(t.lift)&&Se(t.subscribe))}const Wc=Nl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),BT=new z("Ng Icon Config"),UT={size:"1em"},HT=new z("Ng Icon Loader Token"),jT=new z("Ng Icon Cache Token");function G0(t){return[{provide:q0,useFactory:e=>({...e?.reduce((n,r)=>({...n,...r}),{}),...t}),deps:[[q0,new Mt,new tc]],multi:!0}]}const q0=new z("Icons Token");let W0=(()=>{class t{constructor(){this.config=function GW(){return V(BT,{optional:!0})??UT}(),this.icons=function QW(){return V(q0,{optional:!0})??[]}(),this.loader=function WW(){return V(HT,{optional:!0})}(),this.cache=function KW(){return V(jT,{optional:!0})}(),this.injector=V(Tt),this.elementRef=V(Tn),this.size=this.config.size,this.color=this.config.color}set name(n){this.setIcon(n)}setIcon(n){var r=this;return m(function*(){const i=function ZW(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(e,n,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}(n);for(const o of[...r.icons].reverse())if(o[i])return void(r.elementRef.nativeElement.innerHTML=o[i]);if(r.loader){const o=yield r.requestIconFromLoader(n);if(null!==o)return void(r.elementRef.nativeElement.innerHTML=o)}console.warn(`No icon named ${n} was found. You may need to import it using the withIcons function.`)})()}requestIconFromLoader(n){var r=this;return new Promise(i=>{!function aL(t,e){t instanceof qs&&t.assertNotDestroyed();const r=Di(t),i=wn(void 0);try{return e()}finally{Di(r),wn(i)}}(this.injector,m(function*(){if(r.cache){const a=r.cache.get(n);if("string"==typeof a)return void i(a);if(a instanceof Promise){const l=yield a;return void i(l)}}const o=function YW(t){return"string"==typeof t?Promise.resolve(t):FT(t)?function $W(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const o=new ws({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Wc)}});t.subscribe(o)})}(t):t}(r.loader(n));r.cache?.set(n,o);const s=yield o;r.cache?.set(n,s),i(s)}))})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Gn({type:t,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(r,i){2&r&&bp("--ng-icon__size",i.size)("--ng-icon__stroke-width",i.strokeWidth)("color",i.color)},inputs:{name:"name",size:["size","size",XW],strokeWidth:"strokeWidth",color:"color"},standalone:!0,features:[_p,Up],decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size);height:var(--ng-icon__size)}"],changeDetection:0})}return t})();function XW(t){return null==t?"":/^\d+$/.test(t)?`${t}px`:t}let JW=(()=>{class t{constructor(n){if(0===Object.keys(n).length)throw new Error("No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).")}static withIcons(n){return{ngModule:t,providers:G0(n)}}static#e=this.\u0275fac=function(r){return new(r||t)($(q0))};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function cm(...t){const e=Ol(t),n=$3(t),{args:r,keys:i}=PM(t);if(0===r.length)return At([],e);const o=new qe(function eK(t,e,n=Mi){return r=>{$T(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)$T(e,()=>{const c=At(t[l],e);let u=!1;c.subscribe(ft(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>NM(i,s):Mi));return n?o.pipe(RM(n)):o}function $T(t,e,n){t?Wr(n,t,e):e()}function um(...t){return function tK(){return ys(1)}()(At(t,Ol(t)))}function GT(t){return new qe(e=>{Pn(t()).subscribe(e)})}function Kc(t,e){const n=Se(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function dm(){return _t((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class qT extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,x3(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vn;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vn.EMPTY)}return e}refCount(){return dm()(this)}}function Aa(t){return t<=0?()=>wr:_t((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $i(t,e){return _t((n,r)=>{let i=0;n.subscribe(ft(r,o=>t.call(e,o,i++)&&r.next(o)))})}function K0(t){return _t((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function WT(t=rK){return _t((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rK(){return new Wc}function Gi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,o)=>t(i,o,r)):Mi,Aa(1),n?K0(e):WT(()=>new Wc))}function Qc(t,e){return Se(e)?Nt(t,e,1):Nt(t,1)}function Ut(t,e,n){const r=Se(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ft(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Mi}function Fo(t){return _t((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,s=>{o=Pn(t(s,Fo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hm(t){return t<=0?()=>wr:_t((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fm(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",Yc=Symbol("RouteTitle");class cK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ma(t){return new cK(t)}function uK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Rr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!KT(t[i],e[i]))return!1;return!0}function KT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function QT(t){return t.length>0?t[t.length-1]:null}function qi(t){return FT(t)?t:Ic(t)?At(Promise.resolve(t)):X(t)}const hK={exact:function XT(t,e,n){if(!Bo(t.segments,e.segments)||!Q0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!XT(t.children[r],e.children[r],n))return!1;return!0},subset:JT},YT={exact:function fK(t,e){return Rr(t,e)},subset:function gK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>KT(t[n],e[n]))},ignored:()=>!0};function ZT(t,e,n){return hK[n.paths](t.root,e.root,n.matrixParams)&&YT[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function JT(t,e,n){return e9(t,e,e.segments,n)}function e9(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Bo(i,n)||e.hasChildren()||!Q0(i,n,r))}if(t.segments.length===n.length){if(!Bo(t.segments,n)||!Q0(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!JT(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Bo(t.segments,i)&&Q0(t.segments,i,r)&&t.children[se])&&e9(t.children[se],e,o,r)}}function Q0(t,e,n){return e.every((r,i)=>YT[n](t[i].parameters,r.parameters))}class Ta{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ma(this.queryParams)),this._queryParamMap}toString(){return _K.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Y0(this)}}class Zc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ma(this.parameters)),this._parameterMap}toString(){return r9(this)}}function Bo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Xc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return new gm},providedIn:"root"})}return t})();class gm{parse(e){const n=new xK(e);return new Ta(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Jc(e.root,!0)}`,r=function yK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Z0(n)}=${Z0(i)}`).join("&"):`${Z0(n)}=${Z0(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const _K=new gm;function Y0(t){return t.segments.map(e=>r9(e)).join("/")}function Jc(t,e){if(!t.hasChildren())return Y0(t);if(e){const n=t.children[se]?Jc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Jc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mK(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[Jc(t.children[se],!1)]:[`${i}:${Jc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${Y0(t)}/${n[0]}`:`${Y0(t)}/(${n.join("//")})`}}function t9(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Z0(t){return t9(t).replace(/%3B/gi,";")}function pm(t){return t9(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X0(t){return decodeURIComponent(t)}function n9(t){return X0(t.replace(/\+/g,"%20"))}function r9(t){return`${pm(t.path)}${function wK(t){return Object.keys(t).map(e=>`;${pm(e)}=${pm(t[e])}`).join("")}(t.parameters)}`}const CK=/^[^\/()?;#]+/;function mm(t){const e=t.match(CK);return e?e[0]:""}const IK=/^[^\/()?;=#]+/,AK=/^[^=?&#]+/,TK=/^[^&#]+/;class xK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new De(e,n)),r}parseSegment(){const e=mm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Zc(X0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function EK(t){const e=t.match(IK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mm(this.remaining);i&&(r=i,this.capture(r))}e[X0(n)]=X0(r)}parseQueryParam(e){const n=function MK(t){const e=t.match(AK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function DK(t){const e=t.match(TK);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=n9(n),o=n9(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[se]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function i9(t){return t.segments.length>0?new De([],{[se]:t}):t}function o9(t){const e={};for(const r of Object.keys(t.children)){const o=o9(t.children[r]);if(r===se&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function bK(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function Uo(t){return t instanceof Ta}function s9(t){let e;const i=i9(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new De(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function a9(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return _m(i,i,i,n,r);const o=function kK(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new c9(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new c9(n,e,r)}(e);if(o.toRoot())return _m(i,i,new De([],{}),n,r);const s=function PK(t,e,n){if(t.isAbsolute)return new e1(e,!0,0);if(!n)return new e1(e,!1,NaN);if(null===n.parent)return new e1(n,!0,0);const r=J0(t.commands[0])?0:1;return function RK(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new e1(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?tu(s.segmentGroup,s.index,o.commands):u9(s.segmentGroup,s.index,o.commands);return _m(i,s.segmentGroup,a,n,r)}function J0(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function eu(t){return"object"==typeof t&&null!=t&&t.outlets}function _m(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=t===e?n:l9(t,e,n);const a=i9(o9(s));return new Ta(a,o,i)}function l9(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:l9(o,e,n)}),new De(t.segments,r)}class c9{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&J0(r[0]))throw new D(4003,!1);const i=r.find(eu);if(i&&i!==QT(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function u9(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return tu(t,e,n);const r=function OK(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(eu(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!h9(l,c,s))return o;r+=2}else{if(!h9(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new De(t.segments.slice(r.pathIndex),t.children),tu(o,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?vm(t,e,n):r.match?tu(t,0,i):vm(t,e,n)}function tu(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function NK(t){return eu(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const o=tu(t.children[se],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=u9(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new De(t.segments,i)}}function vm(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(eu(o)){const l=VK(o.outlets);return new De(r,l)}if(0===i&&J0(n[0])){r.push(new Zc(t.segments[e].path,d9(n[0]))),i++;continue}const s=eu(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&J0(a)?(r.push(new Zc(s,d9(a))),i+=2):(r.push(new Zc(s,{})),i++)}return new De(r,{})}function VK(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=vm(new De([],{}),0,r))}),e}function d9(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function h9(t,e,n){return t==n.path&&Rr(e,n.parameters)}const nu="imperative";class Nr{constructor(e,n){this.id=e,this.url=n}}class t1 extends Nr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends Nr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ru extends Nr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Da extends Nr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class n1 extends Nr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class f9 extends Nr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zK extends Nr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LK extends Nr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FK extends Nr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BK extends Nr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $K{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g9{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wm{}class ym{constructor(e){this.url=e}}class WK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new iu,this.attachRef=null}}let iu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new WK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class p9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Cm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Cm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Im(e,this._root).map(n=>n.value)}}function Cm(t,e){if(t===e.value)return e;for(const n of e.children){const r=Cm(t,n);if(r)return r}return null}function Im(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Im(t,n);if(r.length)return r.unshift(e),r}return[]}class ci{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function xa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class m9 extends p9{constructor(e,n){super(e),this.snapshot=n,Em(this,e)}toString(){return this.snapshot.toString()}}function _9(t,e){const n=function KK(t,e){const s=new r1([],{},{},"",{},se,e,null,{});return new w9("",new ci(s,[]))}(0,e),r=new jn([new Zc("",{})]),i=new jn({}),o=new jn({}),s=new jn({}),a=new jn(""),l=new ba(r,i,s,a,o,se,e,n.root);return l.snapshot=n.root,new m9(new ci(l,[]),n)}class ba{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ke(c=>c[Yc]))??X(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ke(e=>Ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ke(e=>Ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function v9(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function QK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class r1{get title(){return this.data?.[Yc]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w9 extends p9{constructor(e,n){super(n),this.url=e,Em(this,n)}toString(){return y9(this._root)}}function Em(t,e){e.value._routerState=t,e.children.forEach(n=>Em(t,n))}function y9(t){const e=t.children.length>0?` { ${t.children.map(y9).join(", ")} } `:"";return`${t.value}${e}`}function Am(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rr(e.params,n.params)||t.paramsSubject.next(n.params),function dK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mm(t,e){const n=Rr(t.params,e.params)&&function pK(t,e){return Bo(t,e)&&t.every((n,r)=>Rr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Mm(t.parent,e.parent))}let i1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=V(iu),this.location=V(dr),this.changeDetector=V(m0),this.environmentInjector=V(Qn),this.inputBinder=V(o1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new YK(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wn]})}return t})();class YK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ba?this.route:e===iu?this.childContexts:this.parent.get(e,n)}}const o1=new z("");let C9=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=cm([r.queryParams,r.params,r.data]).pipe(yr(([o,s,a],l)=>(a={...o,...s,...a},0===l?X(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function v$(t){const e=ge(t);if(!e)return null;const n=new _c(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function ou(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function XK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ou(t,r,i);return ou(t,r)})}(t,e,n);return new ci(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ou(t,a)),s}}const r=function JK(t){return new ba(new jn(t.url),new jn(t.params),new jn(t.queryParams),new jn(t.fragment),new jn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>ou(t,o));return new ci(r,i)}}const Tm="ngNavigationCancelingError";function I9(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=E9(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function E9(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tm]=!0,r.cancellationCode=e,n&&(r.url=n),r}function A9(t){return t&&t[Tm]}let M9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Gn({type:t,selectors:[["ng-component"]],standalone:!0,features:[Up],decls:1,vars:0,template:function(r,i){1&r&&Ae(0,"router-outlet")},dependencies:[i1],encapsulation:2})}return t})();function Dm(t){const e=t.children&&t.children.map(Dm),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=M9),n}function pr(t){return t.outlet||se}function su(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class aQ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Am(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=xa(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xa(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xa(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=xa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qK(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $K(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Am(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Am(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=su(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class T9{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class s1{constructor(e,n){this.component=e,this.route=n}}function lQ(t,e,n){const r=t._root;return au(r,e?e._root:null,n,[r.value])}function Sa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function xN(t){return null!==Qd(t)}(t)?e.get(t):t:r}function au(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=xa(e);return t.children.forEach(s=>{(function uQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function dQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bo(t.url,e.url)||!Rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(t,e)||!Rr(t.queryParams,e.queryParams);default:return!Mm(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new T9(r)):(o.data=s.data,o._resolvedData=s._resolvedData),au(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new s1(a.outlet.component,s))}else s&&lu(e,a,i),i.canActivateChecks.push(new T9(r)),au(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>lu(a,n.getContext(s),i)),i}function lu(t,e,n){const r=xa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{lu(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new s1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cu(t){return"function"==typeof t}function D9(t){return t instanceof Wc||"EmptyError"===t?.name}const a1=Symbol("INITIAL_VALUE");function ka(){return yr(t=>cm(t.map(e=>e.pipe(Aa(1),function nK(...t){const e=Ol(t);return _t((n,r)=>{(e?um(t,n,e):um(t,n)).subscribe(r)})}(a1)))).pipe(ke(e=>{for(const n of e)if(!0!==n){if(n===a1)return a1;if(!1===n||n instanceof Ta)return n}return!0}),$i(e=>e!==a1),Aa(1)))}function x9(t){return function PR(...t){return M3(t)}(Ut(e=>{if(Uo(e))throw I9(0,e)}),ke(e=>!0===e))}class l1{constructor(e){this.segmentGroup=e||null}}class b9{constructor(e){this.urlTree=e}}function Pa(t){return Kc(new l1(t))}function S9(t){return Kc(new b9(t))}class kQ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[se])return Kc(new D(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Ta(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PQ(t,e,n,r,i){const o=bm(t,e,n);return o.matched?(r=function tQ(t,e){return t.providers&&!t._injector&&(t._injector=Bp(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function xQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?X(i.map(s=>{const a=Sa(s,t);return qi(function _Q(t){return t&&cu(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ka(),x9()):X(!0)}(r,e,n).pipe(ke(s=>!0===s?o:{...xm}))):X(o)}function bm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...xm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uK)(n,t,e);if(!i)return{...xm};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function k9(t,e,n,r){return n.length>0&&function OQ(t,e,n){return n.some(r=>c1(t,e,r)&&pr(r)!==se)}(t,n,r)?{segmentGroup:new De(e,NQ(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function VQ(t,e,n){return n.some(r=>c1(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,RQ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function RQ(t,e,n,r,i){const o={};for(const s of r)if(c1(t,n,s)&&!i[pr(s)]){const a=new De([],{});o[pr(s)]=a}return{...i,...o}}function NQ(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&pr(r)!==se){const i=new De([],{});n[pr(r)]=i}return n}function c1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class BQ{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new kQ(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=k9(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(Fo(n=>{if(n instanceof b9)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof l1?this.noMatchError(n):n}),ke(n=>{const r=new r1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new ci(r,n),o=new w9("",i),s=function SK(t,e,n=null,r=null){return a9(s9(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(Fo(r=>{throw r instanceof l1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=v9(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return At(i).pipe(Qc(o=>{const s=r.children[o],a=function oQ(t,e){const n=t.filter(r=>pr(r)===e);return n.push(...t.filter(r=>pr(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function oK(t,e){return _t(function iK(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(ft(s,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),K0(null),function sK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,o)=>t(i,o,r)):Mi,hm(1),n?K0(e):WT(()=>new Wc))}(),Nt(o=>{if(null===o)return Pa(r);const s=P9(o);return function UQ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(s),X(s)}))}processSegment(e,n,r,i,o,s){return At(n).pipe(Qc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Fo(l=>{if(l instanceof l1)return X(null);throw l}))),Gi(a=>!!a),Fo(a=>{if(D9(a))return function LQ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?X([]):Pa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function zQ(t,e,n,r){return!!(pr(t)===r||r!==se&&c1(e,n,t))&&("**"===t.path||bm(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Pa(i):Pa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?S9(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Nt(s=>{const a=new De(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=bm(n,i,o);if(!a)return Pa(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?S9(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Nt(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?QT(i).parameters:{};a=X({snapshot:new r1(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R9(r),pr(r),r.component??r._loadedComponent??null,r,N9(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=PQ(n,r,i,e).pipe(ke(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new r1(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R9(r),pr(r),r.component??r._loadedComponent??null,r,N9(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(yr(l=>null===l?Pa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(yr(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:g,slicedSegments:p}=k9(n,h,f,c);if(0===p.length&&g.hasChildren())return this.processChildren(u,c,g).pipe(ke(y=>null===y?null:[new ci(d,y)]));if(0===c.length&&0===p.length)return X([new ci(d,[])]);const _=pr(r)===o;return this.processSegment(u,c,g,p,_?se:o,!0).pipe(ke(y=>[new ci(d,y)]))}))))}getChildConfig(e,n,r){return n.children?X({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?X({routes:n._loadedRoutes,injector:n._loadedInjector}):function DQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?X(!0):X(i.map(s=>{const a=Sa(s,t);return qi(function fQ(t){return t&&cu(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ka(),x9())}(e,n,r).pipe(Nt(i=>i?this.configLoader.loadChildren(e,n).pipe(Ut(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function SQ(t){return Kc(E9(!1,3))}())):X({routes:[],injector:e})}}function HQ(t){const e=t.value.routeConfig;return e&&""===e.path}function P9(t){const e=[],n=new Set;for(const r of t){if(!HQ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=P9(r.children);e.push(new ci(r.value,i))}return e.filter(r=>!n.has(r))}function R9(t){return t.data||{}}function N9(t){return t.resolve||{}}function O9(t){return"string"==typeof t.title||null===t.title}function Sm(t){return yr(e=>{const n=t(e);return n?At(n).pipe(ke(()=>e)):X(e)})}const Ra=new z("ROUTES");let km=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(c8)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return X(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=qi(n.loadComponent()).pipe(ke(V9),Ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),fm(()=>{this.componentLoaders.delete(n)})),i=new qT(r,()=>new rr).pipe(dm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function QQ(t,e,n,r){return qi(t.loadChildren()).pipe(ke(V9),Nt(i=>i instanceof fA||Array.isArray(i)?X(i):At(e.compileModuleAsync(i))),ke(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Ra,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dm),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(fm(()=>{this.childrenLoaders.delete(r)})),s=new qT(o,()=>new rr).pipe(dm());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V9(t){return function YQ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let u1=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rr,this.transitionAbortSubject=new rr,this.configLoader=V(km),this.environmentInjector=V(Qn),this.urlSerializer=V(Xc),this.rootContexts=V(iu),this.inputBindingEnabled=null!==V(o1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new HK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new UK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new jn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(o=>0!==o.id),ke(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),yr(o=>{this.currentTransition=o;let s=!1,a=!1;return X(o).pipe(Ut(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Da(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),wr}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return X(l).pipe(yr(h=>{const f=this.transitions?.getValue();return this.events.next(new t1(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?wr:Promise.resolve(h)}),function jQ(t,e,n,r,i,o){return Nt(s=>function FQ(t,e,n,r,i,o,s="emptyOnly"){return new BQ(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ke(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ut(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new f9(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:p,extras:_}=l,y=new t1(h,this.urlSerializer.serialize(f),g,p);this.events.next(y);const v=_9(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:v,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},X(o)}{const h="";return this.events.next(new Da(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),wr}}),Ut(l=>{const c=new zK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ke(l=>(this.currentTransition=o={...l,guards:lQ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function wQ(t,e){return Nt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?X({...n,guardsResult:!0}):function yQ(t,e,n,r){return At(t).pipe(Nt(i=>function TQ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?X(o.map(a=>{const l=su(e)??i,c=Sa(a,l);return qi(function mQ(t){return t&&cu(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Gi())})).pipe(ka()):X(!0)}(i.component,i.route,n,e,r)),Gi(i=>!0!==i,!0))}(s,r,i,t).pipe(Nt(a=>a&&function hQ(t){return"boolean"==typeof t}(a)?function CQ(t,e,n,r){return At(e).pipe(Qc(i=>um(function EQ(t,e){return null!==t&&e&&e(new jK(t)),X(!0)}(i.route.parent,r),function IQ(t,e){return null!==t&&e&&e(new GK(t)),X(!0)}(i.route,r),function MQ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function cQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>GT(()=>X(s.guards.map(l=>{const c=su(s.node)??n,u=Sa(l,c);return qi(function pQ(t){return t&&cu(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Gi())})).pipe(ka())));return X(o).pipe(ka())}(t,i.path,n),function AQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(o=>GT(()=>{const s=su(e)??n,a=Sa(o,s);return qi(function gQ(t){return t&&cu(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Gi())}));return X(i).pipe(ka())}(t,i.route,n))),Gi(i=>!0!==i,!0))}(r,o,t,e):X(a)),ke(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ut(l=>{if(o.guardsResult=l.guardsResult,Uo(l.guardsResult))throw I9(0,l.guardsResult);const c=new LK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),$i(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Sm(l=>{if(l.guards.canActivateChecks.length)return X(l).pipe(Ut(c=>{const u=new FK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),yr(c=>{let u=!1;return X(c).pipe(function $Q(t,e){return Nt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let o=0;return At(i).pipe(Qc(s=>function GQ(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!O9(i)&&(o[Yc]=i.title),function qQ(t,e,n,r){const i=function WQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return X({});const o={};return At(i).pipe(Nt(s=>function KQ(t,e,n,r){const i=su(e)??r,o=Sa(t,i);return qi(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Gi(),Ut(a=>{o[s]=a}))),hm(1),function aK(t){return ke(()=>t)}(o),Fo(s=>D9(s)?wr:Kc(s)))}(o,t,e,r).pipe(ke(s=>(t._resolvedData=s,t.data=v9(t,n).resolve,i&&O9(i)&&(t.data[Yc]=i.title),null)))}(s.route,r,t,e)),Ut(()=>o++),hm(1),Nt(s=>o===i.length?X(n):wr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Ut(c=>{const u=new BK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Sm(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ut(h=>{u.component=h}),ke(()=>{})));for(const h of u.children)d.push(...c(h));return d};return cm(c(l.targetSnapshot.root)).pipe(K0(),Aa(1))}),Sm(()=>this.afterPreactivation()),ke(l=>{const c=function ZK(t,e,n){const r=ou(t,e._root,n?n._root:void 0);return new m9(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Ut(()=>{this.events.next(new wm)}),((t,e,n,r)=>ke(i=>(new aQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Aa(1),Ut({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function lK(t){return _t((e,n)=>{Pn(t).subscribe(ft(n,()=>n.complete(),h5)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ut(l=>{throw l}))),fm(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Fo(l=>{if(a=!0,A9(l))this.events.next(new ru(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function eQ(t){return A9(t)&&Uo(t.url)}(l)?this.events.next(new ym(l.url)):o.resolve(!1);else{this.events.next(new n1(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(c){o.reject(c)}}return wr}))}))}cancelNavigationTransition(n,r,i){const o=new ru(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function z9(t){return t!==nu}let L9=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Yc]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return V(ZQ)},providedIn:"root"})}return t})(),ZQ=(()=>{class t extends L9{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)($(xM))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return V(eY)},providedIn:"root"})}return t})();class JQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let eY=(()=>{class t extends JQ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const d1=new z("",{providedIn:"root",factory:()=>({})});let tY=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:function(){return V(nY)},providedIn:"root"})}return t})(),nY=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var uu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(uu||{});function F9(t,e){t.events.pipe($i(n=>n instanceof Wi||n instanceof ru||n instanceof n1||n instanceof Da),ke(n=>n instanceof Wi||n instanceof Da?uu.COMPLETE:n instanceof ru&&(0===n.code||1===n.code)?uu.REDIRECTING:uu.FAILED),$i(n=>n!==uu.REDIRECTING),Aa(1)).subscribe(()=>{e()})}function rY(t){throw t}function iY(t,e,n){return e.parse("/")}const oY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(a8),this.isNgZoneEnabled=!1,this._events=new rr,this.options=V(d1,{optional:!0})||{},this.pendingTasks=V(l8),this.errorHandler=this.options.errorHandler||rY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(tY),this.routeReuseStrategy=V(XQ),this.titleStrategy=V(L9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Ra,{optional:!0})?.flat()??[],this.navigationTransitions=V(u1),this.urlSerializer=V(Xc),this.location=V(w2),this.componentInputBindingEnabled=!!V(o1,{optional:!0}),this.eventsSubscription=new vn,this.isNgZoneEnabled=V(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ta,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_9(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(B9(r)&&this._events.next(r));if(r instanceof t1)z9(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Da)this.rawUrlTree=i.rawUrl;else if(r instanceof f9){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof wm)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ru)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ym){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||z9(i.source)};this.scheduleNavigation(o,nu,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof n1&&this.restoreHistory(i,!0),r instanceof Wi&&(this.navigated=!0),B9(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=s9(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return a9(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Uo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,nu,null,r)}navigate(n,r={skipLocationChange:!1}){return function aY(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...oY}:!1===r?{...sY}:r,Uo(n))return ZT(this.currentUrlTree,n,i);const o=this.parseUrl(n);return ZT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return F9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B9(t){return!(t instanceof wm||t instanceof ym)}class U9{}let uY=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($i(n=>n instanceof Wi),Qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Bp(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return At(i).pipe(ys())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):X(null);const o=i.pipe(Nt(s=>null===s?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?At([o,this.loader.loadComponent(r)]).pipe(ys()):o})}static#e=this.\u0275fac=function(r){return new(r||t)($(Jt),$(c8),$(Qn),$(U9),$(km))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Rm=new z("");let H9=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof t1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Da&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof g9&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new g9(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function tI(){throw new Error("invalid")}()};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function ui(t,e){return{\u0275kind:t,\u0275providers:e}}function $9(){const t=V(Tt);return e=>{const n=t.get(pa);if(e!==n.components[0])return;const r=t.get(Jt),i=t.get(G9);1===t.get(Nm)&&r.initialNavigation(),t.get(q9,null,le.Optional)?.setUpPreloading(),t.get(Rm,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const G9=new z("",{factory:()=>new rr}),Nm=new z("",{providedIn:"root",factory:()=>1}),q9=new z("");function gY(t){return ui(0,[{provide:q9,useExisting:uY},{provide:U9,useExisting:t}])}const W9=new z("ROUTER_FORROOT_GUARD"),mY=[w2,{provide:Xc,useClass:gm},Jt,iu,{provide:ba,useFactory:function j9(t){return t.routerState.root},deps:[Jt]},km,[]];function _Y(){return new m8("Router",Jt)}let K9=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[mY,[],{provide:Ra,multi:!0,useValue:n},{provide:W9,useFactory:CY,deps:[[Jt,new Mt,new tc]]},{provide:d1,useValue:r||{}},r?.useHash?{provide:Oo,useClass:E$}:{provide:Oo,useClass:q8},{provide:Rm,useFactory:()=>{const t=V(UG),e=V(ye),n=V(d1),r=V(u1),i=V(Xc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new H9(i,r,t,e,n)}},r?.preloadingStrategy?gY(r.preloadingStrategy).\u0275providers:[],{provide:m8,multi:!0,useFactory:_Y},r?.initialNavigation?IY(r):[],r?.bindToComponentInputs?ui(8,[C9,{provide:o1,useExisting:C9}]).\u0275providers:[],[{provide:Q9,useFactory:$9},{provide:c2,multi:!0,useExisting:Q9}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ra,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)($(W9,8))};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function CY(t){return"guarded"}function IY(t){return["disabled"===t.initialNavigation?ui(3,[{provide:t2,multi:!0,useFactory:()=>{const e=V(Jt);return()=>{e.setUpLocationChangeListener()}}},{provide:Nm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ui(2,[{provide:Nm,useValue:0},{provide:t2,multi:!0,deps:[Tt],useFactory:e=>{const n=e.get(C$,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Jt),o=e.get(G9);F9(i,()=>{r(!0)}),e.get(u1).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Q9=new z(""),Y9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Z9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new bY;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h1=function(t){return function(t){const e=Y9(t);return Z9.encodeByteArray(e,!0)}(t).replace(/\./g,"")},f1=function(t){try{return Z9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},g1=()=>{try{return function PY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f1(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},J9=t=>{var e,n;return null===(n=null===(e=g1())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},eD=t=>{const e=J9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tD=()=>{var t;return null===(t=g1())||void 0===t?void 0:t.config},nD=t=>{var e;return null===(e=g1())||void 0===e?void 0:e[`_${t}`]};class rD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function GY(t,e){return t.replace(qY,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Or(i,`${this.serviceName}: ${s} (${i}).`,r)}}const qY=/\{\$([^}]+)}/g;function m1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(oD(o)&&oD(s)){if(!m1(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oD(t){return null!==t&&"object"==typeof t}function _1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class QY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function YY(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Vm),void 0===i.error&&(i.error=Vm),void 0===i.complete&&(i.complete=Vm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vm(){}function Ct(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ho="[DEFAULT]";class nZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function iZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ho?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Lm=[];var fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{});const sD={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},sZ=fe.INFO,aZ={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},lZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=aZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Fm{constructor(e){this.name=e,this._logLevel=sZ,this._logHandler=lZ,this._userLogHandler=null,Lm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const cZ=(t,e)=>e.some(n=>t instanceof n);let aD,lD;const cD=new WeakMap,Bm=new WeakMap,uD=new WeakMap,Um=new WeakMap,Hm=new WeakMap;let jm={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Bm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||uD.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mZ(t){return"function"==typeof t?function pZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dZ(){return lD||(lD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($m(this),e),Qi(cD.get(this))}:function(...e){return Qi(t.apply($m(this),e))}:function(e,...n){const r=t.call($m(this),e,...n);return uD.set(r,e.sort?e.sort():[e]),Qi(r)}}(t):(t instanceof IDBTransaction&&function fZ(t){if(Bm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bm.set(t,e)}(t),cZ(t,function uZ(){return aD||(aD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,jm):t)}function Qi(t){if(t instanceof IDBRequest)return function hZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cD.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}(t);if(Um.has(t))return Um.get(t);const e=mZ(t);return e!==t&&(Um.set(t,e),Hm.set(e,t)),e}const $m=t=>Hm.get(t),vZ=["get","getKey","getAll","getAllKeys","count"],wZ=["put","add","delete","clear"],Gm=new Map;function dD(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vZ.includes(n))return;const o=function(){var s=m(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Gm.set(e,o),o}!function gZ(t){jm=t(jm)}(t=>({...t,get:(e,n,r)=>dD(e,n)||t.get(e,n,r),has:(e,n)=>!!dD(e,n)||t.has(e,n)}));class yZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function CZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const qm="@firebase/app",jo=new Fm("@firebase/app"),v1="[DEFAULT]",WZ={[qm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$o=new Map,w1=new Map;function KZ(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(w1.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;w1.set(e,t);for(const n of $o.values())KZ(n,t);return!0}function gu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const di=new du("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class YZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const Na="10.7.1";function fD(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:v1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=tD()),!n)throw di.create("no-options");const o=$o.get(i);if(o){if(m1(n,o.options)&&m1(r,o.config))return o;throw di.create("duplicate-app",{appName:i})}const s=new oZ(i);for(const l of w1.values())s.addComponent(l);const a=new YZ(n,r,s);return $o.set(i,a),a}function y1(t=v1){const e=$o.get(t);if(!e&&t===v1&&tD())return fD();if(!e)throw di.create("no-app",{appName:t});return e}function gD(){return Array.from($o.values())}function en(t,e,n){var r;let i=null!==(r=WZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void jo.warn(a.join(" "))}Go(new Ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ZZ="firebase-heartbeat-database",XZ=1,pu="firebase-heartbeat-store";let Km=null;function pD(){return Km||(Km=function _Z(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Qi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Qi(s.result),l.oldVersion,l.newVersion,Qi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(ZZ,XZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pu)}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),Km}function Qm(){return(Qm=m(function*(t){try{return yield(yield pD()).transaction(pu).objectStore(pu).get(_D(t))}catch(e){if(e instanceof Or)jo.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e?.message});jo.warn(n.message)}}})).apply(this,arguments)}function mD(t,e){return Ym.apply(this,arguments)}function Ym(){return(Ym=m(function*(t,e){try{const r=(yield pD()).transaction(pu,"readwrite");yield r.objectStore(pu).put(e,_D(t)),yield r.done}catch(n){if(n instanceof Or)jo.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n?.message});jo.warn(r.message)}}})).apply(this,arguments)}function _D(t){return`${t.name}!${t.options.appId}`}class nX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vD();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=vD(),{heartbeatsToSend:i,unsentEntries:o}=function rX(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=h1(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function vD(){return(new Date).toISOString().substring(0,10)}class iX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!function HY(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function jY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function JZ(t){return Qm.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return mD(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return mD(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function wD(t){return h1(JSON.stringify({version:2,heartbeats:t})).length}!function oX(t){Go(new Ki("platform-logger",e=>new yZ(e),"PRIVATE")),Go(new Ki("heartbeat",e=>new nX(e),"PRIVATE")),en(qm,"0.9.25",t),en(qm,"0.9.25","esm2017"),en("fire-js","")}(""),en("firebase","10.7.1","app");class lX extends vn{constructor(e,n){super()}schedule(e,n=0){return this}}const C1={setInterval(t,e,...n){const{delegate:r}=C1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=C1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class yD extends lX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return C1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&C1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const CD={now:()=>(CD.delegate||Date).now(),delegate:void 0};class mu{constructor(e,n=mu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}mu.now=CD.now;class ID extends mu{constructor(e,n=mu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const dX=new class uX extends ID{}(class cX extends yD{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Zm=new ID(yD),hX=Zm,_u=new Zs("ANGULARFIRE2_VERSION");function Xm(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const I1=(t,e)=>{const n=e?[e]:gD(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class Jm{constructor(){return I1(fX)}}const fX="app-check";function Oa(){}class ED{zone;delegate;constructor(e,n=dX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class gX{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa)),n.pipe(Ut({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let E1=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ED(Zone.current)),this.insideAngular=n.run(()=>new ED(Zone.current,Zm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)($(ye))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Va(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function qo(t){return Va().ngZone.run(()=>t())}function mX(t){return function _X(t){return function(n){return(n=n.lift(new gX(t.ngZone))).pipe(qd(t.outsideAngular),Gd(t.insideAngular))}}(Va())(t)}const vX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),qo(()=>t.apply(void 0,r))},Ht=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=qo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa))),r[o]=vX(r[o],n));const i=function pX(t){return Va().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof qe){const o=Va();return i.pipe(qd(o.outsideAngular),Gd(o.insideAngular))}return qo(()=>i)}return i instanceof qe?i.pipe(mX):i instanceof Promise?qo(()=>new Promise((o,s)=>i.then(a=>qo(()=>o(a)),a=>qo(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:qo(()=>i)};class za{constructor(e){return e}}class A1{constructor(){return gD()}}const e_=new z("angularfire2._apps"),yX={provide:za,useFactory:function wX(t){return t&&1===t.length?t[0]:new za(y1())},deps:[[new Mt,e_]]},CX={provide:A1,deps:[[new Mt,e_]]};function IX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new za(r)}}let EX=(()=>{class t{constructor(n){en("angularfire",_u.full,"core"),en("angularfire",_u.full,"app"),en("angular",bC.full,n.toString())}static \u0275fac=function(r){return new(r||t)($(Do))};static \u0275mod=Kt({type:t});static \u0275inj=Ot({providers:[yX,CX]})}return t})();function AX(t,...e){return{ngModule:EX,providers:[{provide:e_,useFactory:IX(t),multi:!0,deps:[ye,Tt,E1,...e]}]}}const MX=Ht(fD,!0);const TX=function AD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MD=new du("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),M1=new Fm("@firebase/auth");function T1(t,...e){M1.logLevel<=fe.ERROR&&M1.error(`Auth (${Na}): ${t}`,...e)}function bn(t,...e){throw t_(t,...e)}function Vr(t,...e){return t_(t,...e)}function t_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MD.create(t,...e)}function k(t,e,...n){if(!t)throw t_(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw T1(e),new Error(e)}function Yi(t,e){t||zr(e)}function vu(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function DD(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function xX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function n_(){return"http:"===DD()||"https:"===DD()}()||function FY(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=function zY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}()||function BY(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return xX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function r_(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kX=new wu(3e4,6e4);function He(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function je(t,e,n,r){return i_.apply(this,arguments)}function i_(){return(i_=m(function*(t,e,n,r,i={}){return bD(t,i,m(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=_1(Object.assign({key:t.config.apiKey},s)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),xD.fetch()(SD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function bD(t,e,n){return o_.apply(this,arguments)}function o_(){return(o_=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SX),e);try{const i=new RX(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw yu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw yu(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw yu(t,"email-already-in-use",s);if("USER_DISABLED"===l)throw yu(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function TD(t,e,n){const r=Object.assign(Object.assign({},TX()),{[e]:n});return new du("auth","Firebase",r).create(e,{appName:t.name})}(t,u,c);bn(t,u)}}catch(i){if(i instanceof Or)throw i;bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function hi(t,e,n,r){return s_.apply(this,arguments)}function s_(){return(s_=m(function*(t,e,n,r,i={}){const o=yield je(t,e,n,r,i);return"mfaPendingCredential"in o&&bn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function SD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?r_(t.config,i):`${t.config.apiScheme}://${i}`}function PX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),kX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(t,e,r);return i.customData._tokenResponse=n,i}function PD(t){return void 0!==t&&void 0!==t.enterprise}class RD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PX(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function ND(t,e){return l_.apply(this,arguments)}function l_(){return(l_=m(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",He(t,e))})).apply(this,arguments)}function c_(){return(c_=m(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function d_(){return(d_=m(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function h_(){return(h_=m(function*(t,e=!1){const n=Ct(t),r=yield n.getIdToken(e),i=D1(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cu(f_(i.auth_time)),issuedAtTime:Cu(f_(i.iat)),expirationTime:Cu(f_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function f_(t){return 1e3*Number(t)}function D1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return T1("JWT malformed, contained fewer than 3 sections"),null;try{const i=f1(n);return i?JSON.parse(i):(T1("Failed to decode base64 JWT payload"),null)}catch(i){return T1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fi(t,e){return g_.apply(this,arguments)}function g_(){return(g_=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Or&&function BX({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class UX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class OD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Iu(t){return p_.apply(this,arguments)}function p_(){return p_=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield fi(t,function zX(t,e){return d_.apply(this,arguments)}(n,{idToken:r}));k(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function $X(t){return t.map(e=>{var{providerId:n}=e,r=y5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function jX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),u=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new OD(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),p_.apply(this,arguments)}function m_(){return(m_=m(function*(t){const e=Ct(t);yield Iu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function __(){return(__=m(function*(t,e){const n=yield bD(t,{},m(function*(){const r=_1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=SD(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xD.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function v_(){return(v_=m(function*(t,e){return je(t,"POST","/v2/accounts:revokeToken",He(t,e))})).apply(this,arguments)}class Eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function FX(t){const e=D1(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function GX(t,e){return __.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Eu;return r&&(k("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(k("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eu,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Zi(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Wo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=y5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new OD(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield fi(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function LX(t){return h_.apply(this,arguments)}(this,e)}reload(){return function HX(t){return m_.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Iu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield fi(e,function OX(t,e){return c_.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=n.photoURL)&&void 0!==s?s:void 0,p=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:E,emailVerified:b,isAnonymous:B,providerData:Q,stsTokenManager:we}=n;k(E&&we,e,"internal-error");const ht=Eu.fromJSON(this.name,we);k("string"==typeof E,e,"internal-error"),Zi(d,e.name),Zi(h,e.name),k("boolean"==typeof b,e,"internal-error"),k("boolean"==typeof B,e,"internal-error"),Zi(f,e.name),Zi(g,e.name),Zi(p,e.name),Zi(_,e.name),Zi(y,e.name),Zi(v,e.name);const Ai=new Wo({uid:E,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:B,photoURL:g,phoneNumber:f,tenantId:p,stsTokenManager:ht,createdAt:y,lastLoginAt:v});return Q&&Array.isArray(Q)&&(Ai.providerData=Q.map(Rl=>Object.assign({},Rl))),_&&(Ai._redirectEventId=_),Ai}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Eu;i.updateFromServerResponse(n);const o=new Wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Iu(o),o})()}}const VD=new Map;function gi(t){Yi(t instanceof Function,"Expected a class definition");let e=VD.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VD.set(t,e),e)}const zD=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function x1(t,e,n){return`firebase:${t}:${e}:${n}`}class Fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=x1(this.userKey,i.apiKey,o),this.fullPersistenceKey=x1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Wo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Fa(gi(zD),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||gi(zD);const s=x1(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=yield c._get(s);if(u){const d=Wo._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Fa(o,e,r)):new Fa(o,e,r)})()}}function LD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jD(e))return"Blackberry";if($D(e))return"Webos";if(w_(e))return"Safari";if((e.includes("chrome/")||BD(e))&&!e.includes("edge/"))return"Chrome";if(HD(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function FD(t=xt()){return/firefox\//i.test(t)}function w_(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BD(t=xt()){return/crios\//i.test(t)}function UD(t=xt()){return/iemobile/i.test(t)}function HD(t=xt()){return/android/i.test(t)}function jD(t=xt()){return/blackberry/i.test(t)}function $D(t=xt()){return/webos/i.test(t)}function b1(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GD(t=xt()){return b1(t)||HD(t)||$D(t)||jD(t)||/windows phone/i.test(t)||UD(t)}function qD(t,e=[]){let n;switch(t){case"Browser":n=LD(xt());break;case"Worker":n=`${LD(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}class YX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function y_(){return(y_=m(function*(t,e={}){return je(t,"GET","/v2/passwordPolicy",He(t,e))})).apply(this,arguments)}class JX{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(n=l.meetsMinPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class eJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WD(this),this.idTokenSubscription=new WD(this),this.beforeStateQueue=new YX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(m(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Fa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Iu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function bX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Ct(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(gi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return m(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return m(function*(){const n=yield function ZX(t){return y_.apply(this,arguments)}(e),r=new JX(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return m(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function qX(t,e){return v_.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&gi(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield Fa.create(n,[gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function DX(t,...e){M1.logLevel<=fe.WARN&&M1.warn(`Auth (${Na}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function at(t){return Ct(t)}class WD{constructor(e){this.auth=e,this.observer=null,this.addObserver=function KY(t,e){const n=new QY(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function C_(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Vr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function tJ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function KD(t){return`__${t}${Math.floor(1e6*Math.random())}`}class QD{constructor(e){this.type="recaptcha-enterprise",this.auth=at(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function o(){return o=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=m(function*(c,u){ND(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new RD(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;PD(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&PD(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));C_("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function YD(t,e,n){return I_.apply(this,arguments)}function I_(){return(I_=m(function*(t,e,n,r=!1){const i=new QD(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function Au(t,e,n,r){return E_.apply(this,arguments)}function E_(){return E_=m(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield YD(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield YD(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),E_.apply(this,arguments)}function ZD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class JD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}function hJ(t,e){return D_.apply(this,arguments)}function D_(){return(D_=m(function*(t,e){return je(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function gJ(t,e){return b_.apply(this,arguments)}function b_(){return(b_=m(function*(t,e){return hi(t,"POST","/v1/accounts:signInWithPassword",He(t,e))})).apply(this,arguments)}function S_(){return(S_=m(function*(t,e){return je(t,"POST","/v1/accounts:sendOobCode",He(t,e))})).apply(this,arguments)}function k_(){return(k_=m(function*(t,e){return function S1(t,e){return S_.apply(this,arguments)}(t,e)})).apply(this,arguments)}function O_(){return(O_=m(function*(t,e){return hi(t,"POST","/v1/accounts:signInWithEmailLink",He(t,e))})).apply(this,arguments)}function V_(){return(V_=m(function*(t,e){return hi(t,"POST","/v1/accounts:signInWithEmailLink",He(t,e))})).apply(this,arguments)}class Mu extends JD{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){switch(n.signInMethod){case"password":return Au(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gJ);case"emailLink":return function wJ(t,e){return O_.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:bn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return Au(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hJ);case"emailLink":return function yJ(t,e){return V_.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:bn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function pi(t,e){return z_.apply(this,arguments)}function z_(){return(z_=m(function*(t,e){return hi(t,"POST","/v1/accounts:signInWithIdp",He(t,e))})).apply(this,arguments)}class xu{constructor(e){var n,r,i,o,s,a;const l=hu(fu(e)),c=null!==(n=l.apiKey)&&void 0!==n?n:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function DJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function xJ(t){const e=hu(fu(t)).link,n=e?hu(fu(e)).deep_link_id:null,r=hu(fu(t)).deep_link_id;return(r?hu(fu(r)).link:null)||r||n||e||t}(e);try{return new xu(n)}catch{return null}}}let tx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Mu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=xu.parseLink(r);return k(i,"argument-error"),Mu._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Xi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bJ extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function nx(t,e){return j_.apply(this,arguments)}function j_(){return(j_=m(function*(t,e){return hi(t,"POST","/v1/accounts:signUp",He(t,e))})).apply(this,arguments)}class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const o=yield Wo._fromIdTokenResponse(e,r,i),s=rx(r);return new tr({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=rx(r);return new tr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function rx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class P1 extends Or{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,P1.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new P1(e,n,r,i)}}function ix(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?P1._fromErrorAndOperation(t,o,e,r):o})}function W_(){return(W_=m(function*(t,e,n=!1){const r=yield fi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return tr._forOperation(t,"link",r)})).apply(this,arguments)}function Q_(){return(Q_=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield fi(t,ix(r,i,e,t),n);k(o.idToken,r,"internal-error");const s=D1(o.idToken);k(s,r,"internal-error");const{sub:a}=s;return k(t.uid===a,r,"user-mismatch"),tr._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&bn(r,"user-mismatch"),o}})).apply(this,arguments)}function ax(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t,e,n=!1){const r="signIn",i=yield ix(t,r,e),o=yield tr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function X_(){return(X_=m(function*(t,e){return ax(at(t),e)})).apply(this,arguments)}function sv(t){return av.apply(this,arguments)}function av(){return(av=m(function*(t){const e=at(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function VJ(t,e,n){return fv.apply(this,arguments)}function fv(){return(fv=m(function*(t,e,n){const r=at(t),s=yield Au(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nx).catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&sv(t),l}),a=yield tr._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function zJ(t,e,n){return function Z_(t,e){return X_.apply(this,arguments)}(Ct(t),tx.credential(e,n)).catch(function(){var r=m(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&sv(t),i});return function(i){return r.apply(this,arguments)}}())}function FJ(t,e){return vv.apply(this,arguments)}function vv(){return vv=m(function*(t,e){const n=Ct(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&function N1(t,e,n){var r;k((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),k(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(k(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(n.auth,i,e);const{email:o}=yield function pJ(t,e){return k_.apply(this,arguments)}(n.auth,i);o!==t.email&&(yield t.reload())}),vv.apply(this,arguments)}function yv(){return(yv=m(function*(t,e){return je(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function UJ(t,e){return Cv.apply(this,arguments)}function Cv(){return Cv=m(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=Ct(t),o={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=yield fi(r,function BJ(t,e){return yv.apply(this,arguments)}(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(s)}),Cv.apply(this,arguments)}const O1="__sak";class cx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(O1,"1"),this.storage.removeItem(O1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ree=(()=>{class t extends cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eee(){const t=xt();return w_(t)||b1(t)}()&&function QX(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=GD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function KX(){return function UY(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return m(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),ux=(()=>{class t extends cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let oee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function iee(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class see{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=bv("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pt(){return window}function Sv(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function kv(){return(kv=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dx="firebaseLocalStorageDb",V1="firebaseLocalStorage",hx="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function z1(t,e){return t.transaction([V1],e?"readwrite":"readonly").objectStore(V1)}function Pv(){const t=indexedDB.open(dx,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(V1,{keyPath:hx})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(V1)?e(r):(r.close(),yield function hee(){const t=indexedDB.deleteDatabase(dx);return new Su(t).toPromise()}(),e(yield Pv()))}))})}function fx(t,e,n){return Rv.apply(this,arguments)}function Rv(){return(Rv=m(function*(t,e,n){const r=z1(t,!0).put({[hx]:e,value:n});return new Su(r).toPromise()})).apply(this,arguments)}function Nv(){return(Nv=m(function*(t,e){const n=z1(t,!1).get(e),r=yield new Su(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function gx(t,e){const n=z1(t,!0).delete(e);return new Su(n).toPromise()}const mee=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield Pv()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return Sv()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=oee._getInstance(function uee(){return Sv()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function lee(){return kv.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new see(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function cee(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield Pv();return yield fx(n,O1,"1"),yield gx(n,O1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(o=>fx(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(o=>function fee(t,e){return Nv.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>gx(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(s=>{const a=z1(s,!1).getAll();return new Su(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();KD("rcb"),new wu(3e4,6e4);class jv extends JD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pee(t){return ax(t.auth,new jv(t),t.bypassAuthState)}function Ree(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),function sx(t,e){return Q_.apply(this,arguments)}(n,new jv(t),t.bypassAuthState)}function Nee(t){return $v.apply(this,arguments)}function $v(){return($v=m(function*(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),function q_(t,e){return W_.apply(this,arguments)}(n,new jv(t),t.bypassAuthState)})).apply(this,arguments)}class Oee{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(c))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pee;case"linkViaPopup":case"linkViaRedirect":return Nee;case"reauthViaPopup":case"reauthViaRedirect":return Ree;default:bn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new wu(2e3,1e4);const Vee="pendingRedirect",ku=new Map;class zee extends Oee{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=ku.get(n.auth._key());if(!r){try{const o=(yield function Lee(t,e){return Qv.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}ku.set(n.auth._key(),r)}return n.bypassAuthState||ku.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function Qv(){return(Qv=m(function*(t,e){const n=function _x(t){return x1(Vee,t.config.apiKey,t.name)}(e),r=function mx(t){return gi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Fee(t,e){ku.set(t._key(),e)}function vx(t,e){return n7.apply(this,arguments)}function n7(){return(n7=m(function*(t,e,n=!1){const r=at(t),i=function Qo(t,e){return e?gi(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new zee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class $ee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Gee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cx(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Cx(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yx(e))}saveEventToCache(e){this.cachedEventUids.add(yx(e)),this.lastProcessedEventTime=Date.now()}}function yx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cx({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function i7(){return(i7=m(function*(t,e={}){return je(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Wee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kee=/^https?/;function o7(){return o7=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function qee(t){return i7.apply(this,arguments)}(t);for(const n of e)try{if(Yee(n))return}catch{}bn(t,"unauthorized-domain")}),o7.apply(this,arguments)}function Yee(t){const e=vu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Kee.test(n))return!1;if(Wee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zee=new wu(3e4,6e4);function Ix(){const t=pt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let F1=null;const ete=new wu(5e3,15e3),tte="__/auth/iframe",nte="emulator/auth/iframe",rte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ite=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ote(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r_(e,nte):`https://${t.config.authDomain}/${tte}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=ite.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_1(r).slice(1)}`}function s7(){return s7=m(function*(t){const e=yield function Jee(t){return F1=F1||function Xee(t){return new Promise((e,n)=>{var r,i,o;function s(){Ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ix(),n(Vr(t,"network-request-failed"))},timeout:Zee.get()})}if(null!==(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=pt().gapi)||void 0===o||!o.load){const a=KD("iframefcb");return pt()[a]=()=>{gapi.load?s():n(Vr(t,"network-request-failed"))},C_(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}s()}}).catch(e=>{throw F1=null,e})}(t),F1}(t),n=pt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:ote(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rte,dontclear:!0},r=>new Promise(function(){var i=m(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Vr(t,"network-request-failed"),l=pt().setTimeout(()=>{s(a)},ete.get());function c(){pt().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),s7.apply(this,arguments)}const ate={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gte="__/auth/handler",pte="emulator/auth/handler",mte=encodeURIComponent("fac");function Ax(t,e,n,r,i,o){return a7.apply(this,arguments)}function a7(){return(a7=m(function*(t,e,n,r,i,o){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof Xi){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function WY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof bJ){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield t._getAppCheckToken(),c=l?`#${mte}=${encodeURIComponent(l)}`:"";return`${function _te({config:t}){return t.emulator?r_(t,pte):`https://${t.authDomain}/${gte}`}(t)}?${_1(a).slice(1)}${c}`})).apply(this,arguments)}const l7="webStorageSupport",wte=class vte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ux,this._completeRedirectFn=vx,this._overrideRedirectResult=Fee}_openPopup(e,n,r,i){var o=this;return m(function*(){var s;Yi(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Ax(e,n,r,vu(),i);return function hte(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ate),{width:r.toString(),height:i.toString(),top:o,left:s}),c=xt().toLowerCase();n&&(a=BD(c)?"_blank":n),FD(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function WX(t=xt()){var e;return b1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function fte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new Ex(null);const d=window.open(e||"",a,u);k(d,t,"popup-blocked");try{d.focus()}catch{}return new Ex(d)}(e,a,bv())})()}_openRedirect(e,n,r,i){var o=this;return m(function*(){return yield o._originValidation(e),function aee(t){pt().location.href=t}(yield Ax(e,n,r,vu(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Yi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function ste(t){return s7.apply(this,arguments)}(e),i=new $ee(e);return r.register("authEvent",o=>(k(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(l7,{type:l7},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[l7];void 0!==s&&n(!!s),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Qee(t){return o7.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GD()||w_()||b1()}};var Dx="@firebase/auth";class yte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ate=nD("authIdTokenMaxAge")||300;let bx=null;const Mte=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Ate)return;const o=r?.token;bx!==o&&(bx=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Tte(t=y1()){const e=gu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function sJ(t,e){const n=gu(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(m1(n.getOptions(),e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:wte,persistence:[mee,ree,ux]}),r=nD("authTokenSyncURL");if(r){const o=Mte(r);(function KJ(t,e,n){Ct(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function WJ(t,e,n,r){Ct(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=J9("auth");return i&&function lJ(t,e,n){const r=at(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=ZD(e),{host:s,port:a}=function cJ(t){const e=ZD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:XD(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:XD(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function uJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Dte(t){return new qe(function(e){var n=function QJ(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Ite(t){Go(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;k(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qD(t)},c=new eJ(r,i,o,l);return function aJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Ki("auth-internal",e=>{const n=at(e.getProvider("auth").getImmediate());return new yte(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),en(Dx,"1.5.1",function Cte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),en(Dx,"1.5.1","esm2017")}("Browser");class Lr{constructor(e){return e}}class u7{constructor(){return I1("auth")}}const d7=new z("angularfire2.auth-instances");function Ste(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Lr(r)}}const kte={provide:u7,deps:[[new Mt,d7]]},Pte={provide:Lr,useFactory:function bte(t,e){const n=Xm("auth",t,e);return n&&new Lr(n)},deps:[[new Mt,d7],za]};let Rte=(()=>{class t{constructor(){en("angularfire",_u.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kt({type:t});static \u0275inj=Ot({providers:[Pte,kte]})}return t})();function Nte(t,...e){return{ngModule:Rte,providers:[{provide:d7,useFactory:Ste(t),multi:!0,deps:[ye,Tt,E1,A1,[new Mt,Jm],...e]}]}}const Ote=Ht(Dte,!0),Vte=Ht(VJ,!0),zte=Ht(Tte,!0),kx=Ht(FJ,!0),Lte=Ht(zJ,!0),Fte=Ht(UJ,!0);var N,Bte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={},h7=h7||{},ne=Bte||self;function U1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f7="closure_uid_"+(1e9*Math.random()>>>0),Hte=0;function jte(t,e,n){return t.call.apply(t.bind,arguments)}function $te(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jte:$te).apply(null,arguments)}function H1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ji(){this.s=this.s,this.o=this.o}Ji.prototype.s=!1,Ji.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ute(t){Object.prototype.hasOwnProperty.call(t,f7)&&t[f7]||(t[f7]=++Hte)}(this)},Ji.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Px=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function g7(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Rx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(U1(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var qte=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ne.addEventListener("test",n,e),ne.removeEventListener("test",n,e)}catch{}return t}();function Ru(t){return/^[\s\xa0]*$/.test(t)}function j1(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Fr(t){return-1!=j1().indexOf(t)}function p7(t){return p7[" "](t),t}p7[" "]=function(){};var _7,t,Kte=Fr("Opera"),Ba=Fr("Trident")||Fr("MSIE"),Nx=Fr("Edge"),m7=Nx||Ba,Ox=Fr("Gecko")&&!(-1!=j1().toLowerCase().indexOf("webkit")&&!Fr("Edge"))&&!(Fr("Trident")||Fr("MSIE"))&&!Fr("Edge"),Qte=-1!=j1().toLowerCase().indexOf("webkit")&&!Fr("Edge");function Vx(){var t=ne.document;return t?t.documentMode:void 0}e:{var v7="",w7=(t=j1(),Ox?/rv:([^\);]+)(\)|;)/.exec(t):Nx?/Edge\/([\d\.]+)/.exec(t):Ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qte?/WebKit\/(\S+)/.exec(t):Kte?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(w7&&(v7=w7?w7[1]:""),Ba){var y7=Vx();if(null!=y7&&y7>parseFloat(v7)){_7=String(y7);break e}}_7=v7}var Yte=ne.document&&Ba&&(Vx()||parseInt(_7,10))||void 0;function Nu(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ox){e:{try{p7(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zte[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Nu.$.h.call(this)}}bt(Nu,nn);var Zte={2:"touch",3:"pen",4:"mouse"};Nu.prototype.h=function(){Nu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ou="closure_listenable_"+(1e6*Math.random()|0),Xte=0;function Jte(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xte,this.fa=this.ia=!1}function $1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function I7(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Lx(t){const e={};for(const n in t)e[n]=t[n];return e}const Fx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bx(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<Fx.length;o++)n=Fx[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function G1(t){this.src=t,this.g={},this.h=0}function E7(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=Px(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&($1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function A7(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}G1.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=A7(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Jte(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var M7="closure_lm_"+(1e6*Math.random()|0),T7={};function Ux(t,e,n,r,i){if(r&&r.once)return jx(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ux(t,e[o],n,r,i);return null}return n=S7(n),t&&t[Ou]?t.O(e,n,Pu(r)?!!r.capture:!!r,i):Hx(t,e,n,!1,r,i)}function Hx(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Pu(i)?!!i.capture:!!i,a=x7(t);if(a||(t[M7]=a=new G1(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function tne(){const e=nne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qte||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Gx(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jx(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)jx(t,e[o],n,r,i);return null}return n=S7(n),t&&t[Ou]?t.P(e,n,Pu(r)?!!r.capture:!!r,i):Hx(t,e,n,!0,r,i)}function $x(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$x(t,e[o],n,r,i);else r=Pu(r)?!!r.capture:!!r,n=S7(n),t&&t[Ou]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=A7(o=t.g[e],n,r,i))&&($1(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=x7(t))&&(e=t.g[e.toString()],t=-1,e&&(t=A7(e,n,r,i)),(n=-1<t?e[t]:null)&&D7(n))}function D7(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ou])E7(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Gx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=x7(e))?(E7(n,t),0==n.h&&(n.src=null,e[M7]=null)):$1(t)}}}function Gx(t){return t in T7?T7[t]:T7[t]="on"+t}function nne(t,e){if(t.fa)t=!0;else{e=new Nu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&D7(t),t=n.call(r,e)}return t}function x7(t){return(t=t[M7])instanceof G1?t:null}var b7="__closure_events_fn_"+(1e9*Math.random()>>>0);function S7(t){return"function"==typeof t?t:(t[b7]||(t[b7]=function(e){return t.handleEvent(e)}),t[b7])}function St(){Ji.call(this),this.i=new G1(this),this.S=this,this.J=null}function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;Bx(e=new nn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=q1(s,r,!0,e)&&i}if(i=q1(s=e.g=t,r,!0,e)&&i,i=q1(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=q1(s=e.g=n[o],r,!1,e)&&i}function q1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&E7(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}bt(St,Ji),St.prototype[Ou]=!0,St.prototype.removeEventListener=function(t,e,n,r){$x(this,t,e,n,r)},St.prototype.N=function(){if(St.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$1(n[r]);delete t.g[e],t.h--}}this.J=null},St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var k7=ne.JSON.stringify;function ine(){var t=P7;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var qx=new class rne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new sne,t=>t.reset());class sne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ane(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lne(t){ne.setTimeout(()=>{throw t},0)}let Vu,zu=!1,P7=new class one{constructor(){this.h=this.g=null}add(e,n){const r=qx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Wx=()=>{const t=ne.Promise.resolve(void 0);Vu=()=>{t.then(cne)}};var cne=()=>{for(var t;t=ine();){try{t.h.call(t.g)}catch(n){lne(n)}var e=qx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zu=!1};function W1(t,e){St.call(this),this.h=t||1,this.g=e||ne,this.j=tn(this.qb,this),this.l=Date.now()}function R7(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function N7(t,e,n){if("function"==typeof t)n&&(t=tn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function Kx(t){t.g=N7(()=>{t.g=null,t.i&&(t.i=!1,Kx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}bt(W1,St),(N=W1.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(R7(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){W1.$.N.call(this),R7(this),delete this.g};class une extends Ji{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kx(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lu(t){Ji.call(this),this.h=t,this.g={}}bt(Lu,Ji);var Qx=[];function Yx(t,e,n,r){Array.isArray(n)||(n&&(Qx[0]=n.toString()),n=Qx);for(var i=0;i<n.length;i++){var o=Ux(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Zx(t){I7(t.g,function(e,n){this.g.hasOwnProperty(n)&&D7(e)},t),t.g={}}function K1(){this.g=!0}function Ua(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return k7(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Lu.prototype.N=function(){Lu.$.N.call(this),Zx(this)},Lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},K1.prototype.Ea=function(){this.g=!1},K1.prototype.info=function(){};var Yo={},Xx=null;function Q1(){return Xx=Xx||new St}function Jx(t){nn.call(this,Yo.Ta,t)}function Fu(t){const e=Q1();jt(e,new Jx(e))}function eb(t,e){nn.call(this,Yo.STAT_EVENT,t),this.stat=e}function mn(t){const e=Q1();jt(e,new eb(e,t))}function tb(t,e){nn.call(this,Yo.Ua,t),this.size=e}function Bu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}Yo.Ta="serverreachability",bt(Jx,nn),Yo.STAT_EVENT="statevent",bt(eb,nn),Yo.Ua="timingevent",bt(tb,nn);var Y1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function O7(){}function ib(){}O7.prototype.h=null;var L7,Uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function V7(){nn.call(this,"d")}function z7(){nn.call(this,"c")}function Z1(){}function Hu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Lu(this),this.P=pne,this.V=new W1(t=m7?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}bt(V7,nn),bt(z7,nn),bt(Z1,O7),Z1.prototype.g=function(){return new XMLHttpRequest},Z1.prototype.i=function(){return{}},L7=new Z1;var pne=45e3,sb={},F7={};function B7(t,e,n){t.L=1,t.A=tf(mi(e)),t.u=n,t.S=!0,ab(t,null)}function ab(t,e){t.G=Date.now(),ju(t),t.B=mi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),_b(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ob,t.g=Ub(t.l,n?e:null,!t.u),0<t.O&&(t.M=new une(tn(t.Pa,t,t.g),t.O)),Yx(t.U,t.g,"readystatechange",t.nb),e=t.I?Lx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Fu(),function dne(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function lb(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function cb(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=mne(t,n),i==F7){4==e&&(t.s=4,mn(14),r=!1),Ua(t.j,t.m,null,"[Incomplete Response]");break}if(i==sb){t.s=4,mn(15),Ua(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ua(t.j,t.m,i,null),U7(t,i)}lb(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),K7(e),e.M=!0,mn(11))):(Ua(t.j,t.m,n,"[Invalid Chunked Response]"),Zo(t),$u(t))}function mne(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?F7:(n=Number(e.substring(n,r)),isNaN(n)?sb:(r+=1)+n>e.length?F7:(e=e.slice(r,r+n),t.o=r+n,e))}function ju(t){t.Y=Date.now()+t.P,ub(t,t.P)}function ub(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Bu(tn(t.lb,t),e)}function X1(t){t.C&&(ne.clearTimeout(t.C),t.C=null)}function $u(t){0==t.l.H||t.J||zb(t.l,t)}function Zo(t){X1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,R7(t.V),Zx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function U7(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||H7(n.i,t)))if(!t.K&&H7(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;cf(n),af(n)}W7(n),mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bu(tn(n.ib,n),6e3));if(1>=yb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Jo(n,11)}else if((t.K||n.g==t)&&cf(n),!Ru(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const u=c[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(j7(o,o.h),o.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,$e(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=Bb(r,r.J?r.pa:null,r.Y),s.K){Cb(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(X1(a),ju(a)),r.g=s}else Ob(r);0<n.j.length&&lf(n)}else"stop"!=c[0]&&"close"!=c[0]||Jo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jo(n,7):q7(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Fu()}catch{}}function db(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(U1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function vne(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(U1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function _ne(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(U1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(N=Hu.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Br(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const u=Br(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||m7||this.g&&(this.h.h||this.g.ja()||bb(this.g)))){this.J||4!=u||7==e||Fu(),X1(this);var n=this.g.da();this.ca=n;t:if(lb(this)){var r=bb(this.g);t="";var i=r.length,o=4==Br(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),$u(this);var s="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function hne(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ru(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,mn(12),Zo(this),$u(this);break e}Ua(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,U7(this,n)}this.S?(cb(this,u,s),m7&&this.i&&3==u&&(Yx(this.U,this.V,"tick",this.mb),this.V.start())):(Ua(this.j,this.m,s,null),U7(this,s)),4==u&&Zo(this),this.i&&!this.J&&(4==u?zb(this.l,this):(this.i=!1,ju(this)))}else(function Vne(t){const e={};t=(t.g&&2<=Br(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ru(t[r]))continue;var n=ane(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function ene(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Zo(this),$u(this)}}}catch{}},N.mb=function(){if(this.g){var t=Br(this.g),e=this.g.ja();this.o<e.length&&(X1(this),cb(this,t,e),this.i&&4!=t&&ju(this))}},N.cancel=function(){this.J=!0,Zo(this)},N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function fne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Fu(),mn(17)),Zo(this),this.s=2,$u(this)):ub(this,this.Y-t)};var hb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xo){this.h=t.h,J1(this,t.j),this.s=t.s,this.g=t.g,ef(this,t.m),this.l=t.l;var e=t.i,n=new Wu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fb(this,n),this.o=t.o}else t&&(e=String(t).match(hb))?(this.h=!1,J1(this,e[1]||"",!0),this.s=Gu(e[2]||""),this.g=Gu(e[3]||"",!0),ef(this,e[4]),this.l=Gu(e[5]||"",!0),fb(this,e[6]||"",!0),this.o=Gu(e[7]||"")):(this.h=!1,this.i=new Wu(null,this.h))}function mi(t){return new Xo(t)}function J1(t,e,n){t.j=n?Gu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ef(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fb(t,e,n){e instanceof Wu?(t.i=e,function Mne(t,e){e&&!t.j&&(eo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pb(this,r),_b(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=qu(e,Ene)),t.i=new Wu(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function tf(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yne(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qu(e,gb,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(qu(e,gb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(qu(n,"/"==n.charAt(0)?Ine:Cne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qu(n,Ane)),t.join("")};var gb=/[#\/\?@]/g,Cne=/[#\?:]/g,Ine=/[#\?]/g,Ene=/[#\?@]/g,Ane=/#/g;function Wu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function eo(t){t.g||(t.g=new Map,t.h=0,t.i&&function wne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pb(t,e){eo(t),e=Ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mb(t,e){return eo(t),e=Ha(t,e),t.g.has(e)}function _b(t,e,n){pb(t,e),0<n.length&&(t.i=null,t.g.set(Ha(t,e),g7(n)),t.h+=n.length)}function Ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function vb(t){this.l=t||Dne,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Wu.prototype).add=function(t,e){eo(this),this.i=null,t=Ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){eo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){eo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},N.Z=function(t){eo(this);let e=[];if("string"==typeof t)mb(this,t)&&(e=e.concat(this.g.get(Ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return eo(this),this.i=null,mb(this,t=Ha(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Dne=10;function wb(t){return!!t.h||!!t.g&&t.g.size>=t.j}function yb(t){return t.h?1:t.g?t.g.size:0}function H7(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function j7(t,e){t.g?t.g.add(e):t.h=e}function Cb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ib(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return g7(t.i)}vb.prototype.cancel=function(){if(this.i=Ib(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var xne=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function bne(){this.g=new xne}function Sne(t,e,n){const r=n||"";try{db(t,function(i,o){let s=i;Pu(i)&&(s=k7(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ku(t){this.l=t.ec||null,this.j=t.ob||!1}function rf(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$7,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bt(Ku,O7),Ku.prototype.g=function(){return new rf(this.l,this.j)},Ku.prototype.i=function(t){return function(){return t}}({}),bt(rf,St);var $7=0;function Eb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Qu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yu(t)}function Yu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=rf.prototype).open=function(t,e){if(this.readyState!=$7)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yu(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qu(this)),this.readyState=$7},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qu(this):Yu(this),3==this.readyState&&Eb(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Qu(this))},N.Ya=function(t){this.g&&(this.response=t,Qu(this))},N.ka=function(){this.g&&Qu(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(rf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Pne=ne.JSON.parse;function nt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ab,this.L=this.M=!1}bt(nt,St);var Ab="",Rne=/^https?$/i,Nne=["POST","PUT"];function Mb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Tb(t),sf(t)}function Tb(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}function Db(t){if(t.h&&typeof h7<"u"&&(!t.C[1]||4!=Br(t)||2!=t.da()))if(t.v&&4==Br(t))N7(t.La,0,t);else if(jt(t,"readystatechange"),4==Br(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(hb)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!Rne.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var o=2<Br(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Tb(t)}}finally{sf(t)}}}function sf(t,e){if(t.g){xb(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function xb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function Br(t){return t.g?t.g.readyState:0}function bb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ab:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Sb(t){let e="";return I7(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function G7(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sb(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Zu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kb(t){this.Ga=0,this.j=[],this.l=new K1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zu("baseRetryDelayMs",5e3,t),this.hb=Zu("retryDelaySeedMs",1e4,t),this.eb=Zu("forwardChannelMaxRetries",2,t),this.xa=Zu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vb(t&&t.concurrentRequestLimit),this.Ja=new bne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function q7(t){if(Pb(t),3==t.H){var e=t.W++,n=mi(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Xu(t,n),(e=new Hu(t,t.l,e)).L=2,e.A=tf(mi(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.A,n=!0),n||(e.g=Ub(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ju(e)}Fb(t)}function af(t){t.g&&(K7(t),t.g.cancel(),t.g=null)}function Pb(t){af(t),t.u&&(ne.clearTimeout(t.u),t.u=null),cf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function lf(t){if(!wb(t.i)&&!t.m){t.m=!0;var e=t.Na;Vu||Wx(),zu||(Vu(),zu=!0),P7.add(e,t),t.C=0}}function Rb(t,e){var n;n=e?e.m:t.W++;const r=mi(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Xu(t,r),t.o&&t.s&&G7(r,t.o,t.s),n=new Hu(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Nb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),j7(t.i,n),B7(n,r,e)}function Xu(t,e){t.na&&I7(t.na,function(n,r){$e(e,r,n)}),t.h&&db({},function(n,r){$e(e,r,n)})}function Nb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{Sne(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ob(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vu||Wx(),zu||(Vu(),zu=!0),P7.add(e,t),t.A=0}}function W7(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Bu(tn(t.Ma,t),Lb(t,t.A)),t.A++,0))}function K7(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function Vb(t){t.g=new Hu(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=mi(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Xu(t,e),t.o&&t.s&&G7(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=tf(mi(e)),n.u=null,n.S=!0,ab(n,t)}function cf(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function zb(t,e){var n=null;if(t.g==e){cf(t),K7(t),t.g=null;var r=2}else{if(!H7(t.i,e))return;n=e.F,Cb(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;jt(r=Q1(),new tb(r,n)),lf(t)}else Ob(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function zne(t,e){return!(yb(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Bu(tn(t.Na,t,e),Lb(t,t.C)),t.C++,0)))}(t,e)||2==r&&W7(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jo(t,5);break;case 4:Jo(t,10);break;case 3:Jo(t,6);break;default:Jo(t,2)}}function Lb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Jo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=tn(t.pb,t);n||(n=new Xo("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||J1(n,"https"),tf(n)),function kne(t,e){const n=new K1;if(ne.Image){const r=new Image;r.onload=H1(nf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=H1(nf,n,r,"TestLoadImage: error",!1,e),r.onabort=H1(nf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=H1(nf,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mn(2);t.H=0,t.h&&t.h.za(e),Fb(t),Pb(t)}function Fb(t){if(t.H=0,t.ma=[],t.h){const e=Ib(t.i);(0!=e.length||0!=t.j.length)&&(Rx(t.ma,e),Rx(t.ma,t.j),t.i.i.length=0,g7(t.j),t.j.length=0),t.h.ya()}}function Bb(t,e,n){var r=n instanceof Xo?mi(n):new Xo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ef(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Xo(null);r&&J1(o,r),e&&(o.g=e),i&&ef(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.ra),Xu(t,r),r}function Ub(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(t.Ha&&!t.va?new Ku({ob:n}):t.va)).Oa(t.J),e}function Hb(){}function uf(){if(Ba&&!(10<=Number(Yte)))throw Error("Environmental error: no available transport.")}function Fn(t,e){St.call(this),this.g=new kb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ru(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ru(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ja(this)}function jb(t){V7.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $b(){z7.call(this),this.status=1}function ja(t){this.g=t}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Q7(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(N=nt.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():L7.g(),this.C=function rb(t){return t.h||(t.h=t.i())}(this.u?this.u:L7),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void Mb(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=Px(Nne,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xb(this),0<this.B&&((this.L=function One(t){return Ba&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=N7(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Mb(this,o)}},N.ua=function(){typeof h7<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),sf(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sf(this,!0)),nt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?Db(this):this.kb())},N.kb=function(){Db(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pne(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=kb.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Hu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Lx(o),Bx(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nb(this,i,e),$e(n=mi(this.I),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Xu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Sb(o)))+"&"+e:this.o&&G7(n,this.o,o)),j7(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,B7(i,n,null)):B7(i,n,e),this.H=2}}else 3==this.H&&(t?Rb(this,t):0==this.j.length||wb(this.i)||Rb(this))},N.Ma=function(){if(this.u=null,Vb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bu(tn(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),af(this),Vb(this))},N.ib=function(){null!=this.v&&(this.v=null,af(this),W7(this),mn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=Hb.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},uf.prototype.g=function(t,e){return new Fn(t,e)},bt(Fn,St),Fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Bb(t,null,t.Y),lf(t)},Fn.prototype.close=function(){q7(this.g)},Fn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=k7(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&lf(e)},Fn.prototype.N=function(){this.g.h=null,delete this.j,q7(this.g),delete this.g,Fn.$.N.call(this)},bt(jb,V7),bt($b,z7),bt(ja,Hb),ja.prototype.Ba=function(){jt(this.g,"a")},ja.prototype.Aa=function(t){jt(this.g,new jb(t))},ja.prototype.za=function(t){jt(this.g,new $b)},ja.prototype.ya=function(){jt(this.g,"b")},bt(_r,function Lne(){this.blockSize=-1}),_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_r.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)Q7(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Q7(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Q7(this,r),i=0;break}}this.h=i,this.i+=e},_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Fne={};function Y7(t){return-128<=t&&128>t?function Wte(t,e){var n=Fne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|t],0>t?-1:0)}function Ur(t){if(isNaN(t)||!isFinite(t))return $a;if(0>t)return $t(Ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Z7;return new xe(e,0)}var Z7=4294967296,$a=Y7(0),X7=Y7(1),qb=Y7(16777216);function _i(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function nr(t){return-1==t.h}function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(X7)}function df(t,e){return t.add($t(e))}function hf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ju(t,e){this.g=t,this.h=e}function ff(t,e){if(_i(e))throw Error("division by zero");if(_i(t))return new Ju($a,$a);if(nr(t))return e=ff($t(t),e),new Ju($t(e.g),$t(e.h));if(nr(e))return e=ff(t,$t(e)),new Ju($t(e.g),e.h);if(30<t.g.length){if(nr(t)||nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=X7,r=e;0>=r.X(t);)n=Wb(n),r=Wb(r);var i=Ga(n,1),o=Ga(r,1);for(r=Ga(r,2),n=Ga(n,2);!_i(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ga(r,1),n=Ga(n,1)}return e=df(t,i.R(e)),new Ju(i,e)}for(i=$a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ur(n)).R(e);nr(s)||0<s.X(t);)s=(o=Ur(n-=r)).R(e);_i(o)&&(o=X7),i=i.add(o),t=df(t,s)}return new Ju(i,t)}function Wb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function Ga(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(i,t.h)}(N=xe.prototype).ea=function(){if(nr(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Z7+r)*e,e*=Z7}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(_i(this))return"0";if(nr(this))return"-"+$t(this).toString(t);for(var e=Ur(Math.pow(t,6)),n=this,r="";;){var i=ff(n,e).g,o=((0<(n=df(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(_i(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return nr(t=df(this,t))?-1:_i(t)?0:1},N.abs=function(){return nr(this)?$t(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new xe(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(_i(this)||_i(t))return $a;if(nr(this))return nr(t)?$t(this).R($t(t)):$t($t(this).R(t));if(nr(t))return $t(this.R($t(t)));if(0>this.X(qb)&&0>t.X(qb))return Ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,hf(n,2*r+2*i),n[2*r+2*i+1]+=o*l,hf(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,hf(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,hf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)},N.gb=function(t){return ff(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)},uf.prototype.createWebChannel=uf.prototype.g,Fn.prototype.send=Fn.prototype.u,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,Y1.NO_ERROR=0,Y1.TIMEOUT=8,Y1.HTTP_ERROR=6,nb.COMPLETE="complete",ib.EventType=Uu,Uu.OPEN="a",Uu.CLOSE="b",Uu.ERROR="c",Uu.MESSAGE="d",St.prototype.listen=St.prototype.O,nt.prototype.listenOnce=nt.prototype.P,nt.prototype.getLastError=nt.prototype.Sa,nt.prototype.getLastErrorCode=nt.prototype.Ia,nt.prototype.getStatus=nt.prototype.da,nt.prototype.getResponseJson=nt.prototype.Wa,nt.prototype.getResponseText=nt.prototype.ja,nt.prototype.send=nt.prototype.ha,nt.prototype.setWithCredentials=nt.prototype.Oa,_r.prototype.digest=_r.prototype.l,_r.prototype.reset=_r.prototype.reset,_r.prototype.update=_r.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=Ur,xe.fromString=function Gb(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return $t(Gb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ur(Math.pow(e,8)),r=$a,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Ur(Math.pow(e,o)),r=r.R(o).add(Ur(s))):r=(r=r.R(n)).add(Ur(s))}return r};var Bne=mr.createWebChannelTransport=function(){return new uf},Une=mr.getStatEventTarget=function(){return Q1()},J7=mr.ErrorCode=Y1,Hne=mr.EventType=nb,jne=mr.Event=Yo,Kb=mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gf=(mr.FetchXmlHttpFactory=Ku,mr.WebChannel=ib),$ne=mr.XhrIo=nt,Gne=mr.Md5=_r,qa=mr.Integer=xe;const Qb="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let Wa="10.7.0";const to=new Fm("@firebase/firestore");function Ka(){return to.logLevel}function M(t,...e){if(to.logLevel<=fe.DEBUG){const n=e.map(ew);to.debug(`Firestore (${Wa}): ${t}`,...n)}}function lt(t,...e){if(to.logLevel<=fe.ERROR){const n=e.map(ew);to.error(`Firestore (${Wa}): ${t}`,...n)}}function Bn(t,...e){if(to.logLevel<=fe.WARN){const n=e.map(ew);to.warn(`Firestore (${Wa}): ${t}`,...n)}}function ew(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+t;throw lt(e),new Error(e)}function H(t,e){t||F()}function P(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class It{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Yb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Wne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kne{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new It;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new It,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(m(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new It)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new Yb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new kt(e)}}class Qne{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yne{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qne(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zne{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,M("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(H("string"==typeof n.token),this.R=n.token,new Zb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Xb{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Xne(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function Qa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Xe(0,0))}static max(){return new j(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ed{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ed.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ed?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends ed{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const Jne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends ed{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return Jne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new T(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new T(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(me.fromString(e))}static fromName(e){return new R(me.fromString(e).popFirst(5))}static empty(){return new R(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new me(e.slice()))}}function tS(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(j.min(),R.empty(),-1)}static max(){return new Un(j.max(),R.empty(),-1)}}function nw(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const nS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function no(t){return rw.apply(this,arguments)}function rw(){return rw=m(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==nS)throw t;M("LocalStore","Unexpectedly lost primary lease")}),rw.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new w((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function ro(t){return"IndexedDbTransactionError"===t.name}let Hn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function nd(t){return null==t}function rd(t){return 0===t&&1/t==-1/0}function dS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=o??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1,Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fS(this.data.getIterator())}getIteratorFrom(e){return new fS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class fS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Pe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class gS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gS("Invalid base64 string: "+o):o}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const Mre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(H(!!t),"string"==typeof t){let e=0;const n=Mre.exec(t);if(H(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vi(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}function vf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wf(t){const e=t.mapValue.fields.__previous_value__;return vf(e)?wf(e):e}function id(t){const e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}class Tre{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rs&&e.projectId===this.projectId&&e.database===this.database}}const so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:vS(t)?9007199254740991:10:F()}function jr(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return id(t).isEqual(id(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=oo(i.timestampValue),a=oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,vi(t.bytesValue).isEqual(vi(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return rt(i.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rt(i.integerValue)===rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=rt(i.doubleValue),a=rt(o.doubleValue);return s===a?rd(s)===rd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dS(s)!==dS(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!jr(s[l],a[l])))return!1;return!0}(t,e);default:return F()}var o}function od(t,e){return void 0!==(t.values||[]).find(n=>jr(n,e))}function lo(t,e){if(t===e)return 0;const n=ao(t),r=ao(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=rt(o.integerValue||o.doubleValue),l=rt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pS(t.timestampValue,e.timestampValue);case 4:return pS(id(t),id(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(o,s){const a=vi(o),l=vi(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=J(a[c],l[c]);if(0!==u)return u}return J(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=J(rt(o.latitude),rt(s.latitude));return 0!==a?a:J(rt(o.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=lo(a[c],l[c]);if(u)return u}return J(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===so.mapValue&&s===so.mapValue)return 0;if(o===so.mapValue)return 1;if(s===so.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=J(l[d],u[d]);if(0!==h)return h;const f=lo(a[l[d]],c[u[d]]);if(0!==f)return f}return J(l.length,u.length)}(t.mapValue,e.mapValue);default:throw F()}}function pS(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=oo(t),r=oo(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function Ja(t){return sw(t)}function sw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vi(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${sw(n.fields[s])}`;return i+"}"}(t.mapValue):F()}function is(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aw(t){return!!t&&"integerValue"in t}function sd(t){return!!t&&"arrayValue"in t}function mS(t){return!!t&&"nullValue"in t}function _S(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function ad(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ad(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ad(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vS(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ad(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];If(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){io(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qt(ad(this.value))}}function CS(t){const e=[];return io(t.fields,(n,r)=>{const i=new Qe([n]);if(If(r)){const o=CS(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}class Ge{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,j.min(),j.min(),j.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ge(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Ge(e,2,n,j.min(),j.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,j.min(),j.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class co{constructor(e,n){this.position=e,this.inclusive=n}}function IS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?R.comparator(R.fromName(s.referenceValue),n.key):lo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ES(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function bre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class AS{}class ue extends AS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Sre(e,n,r):"array-contains"===n?new Rre(e,r):"in"===n?new SS(e,r):"not-in"===n?new Nre(e,r):"array-contains-any"===n?new Ore(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new kre(e,r):new Pre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lo(n,this.value)):null!==n&&ao(this.value)===ao(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class be extends AS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new be(e,n)}matches(e){return el(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function el(t){return"and"===t.op}function cw(t){return function MS(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&el(t)}function uw(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Ja(t.value);if(cw(t))return t.filters.map(e=>uw(e)).join(",");{const e=t.filters.map(n=>uw(n)).join(",");return`${t.op}(${e})`}}function TS(t,e){return t instanceof ue?(r=t,(i=e)instanceof ue&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)):t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&TS(s,i.filters[a]),!0)}(t,e):void F();var r,i}function xS(t){return t instanceof ue?`${(n=t).field.canonicalString()} ${n.op} ${Ja(n.value)}`:t instanceof be?function(n){return n.op.toString()+" {"+n.getFilters().map(xS).join(" ,")+"}"}(t):"Filter";var n}class Sre extends ue{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class kre extends ue{constructor(e,n){super(e,"in",n),this.keys=bS(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pre extends ue{constructor(e,n){super(e,"not-in",n),this.keys=bS(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bS(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class Rre extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sd(n)&&od(n.arrayValue,this.value)}}class SS extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&od(this.value.arrayValue,n)}}class Nre extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!od(this.value.arrayValue,n)}}class Ore extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}class Vre{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function dw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Vre(t,e,n,r,i,o,s)}function os(t){const e=P(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ja(r)).join(",")),e.ce=n}return e.ce}function cd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ES(t.startAt,e.startAt)&&ES(t.endAt,e.endAt)}function Ef(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class wi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function tl(t){return new wi(t)}function NS(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function hw(t){return null!==t.collectionGroup}function nl(t){const e=P(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pe(Qe.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ld(o,r))}),n.has(Qe.keyField().canonicalString())||e.le.push(new ld(Qe.keyField(),r))}return e.le}function _n(t){const e=P(t);return e.he||(e.he=function OS(t,e){if("F"===t.limitType)return dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new ld(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new co(t.startAt.position,t.startAt.inclusive):null;return dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,nl(t))),e.he}function fw(t,e){const n=t.filters.concat([e]);return new wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mf(t,e,n){return new wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ud(t,e){return cd(_n(t),_n(e))&&t.limitType===e.limitType}function VS(t){return`${os(_n(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xS(i)).join(", ")}]`),nd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ja(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ja(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):R.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of nl(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const c=IS(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,nl(r),i)||r.endAt&&!function(s,a,l){const c=IS(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,nl(r),i)));var r,i}function LS(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const o=zre(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function zre(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?lo(l,c):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return hS(this.inner)}size(){return this.innerSize}}const Lre=new Be(R.comparator);function kn(){return Lre}const FS=new Be(R.comparator);function hd(...t){let e=FS;for(const n of t)e=e.insert(n.key,n);return e}function BS(t){let e=FS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return fd()}function US(){return fd()}function fd(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fre=new Be(R.comparator),Bre=new Pe(R.comparator);function ae(...t){let e=Bre;for(const n of t)e=e.add(n);return e}const Ure=new Pe(J);function HS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function jS(t){return{integerValue:""+t}}function $S(t,e){return function iS(t){return"number"==typeof t&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?jS(e):HS(t,e)}class Tf{constructor(){this._=void 0}}function Hre(t,e,n){return t instanceof il?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vf(o)&&(o=wf(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ss?qS(t,e):t instanceof as?WS(t,e):function(i,o){const s=GS(i,o),a=KS(s)+KS(i.Ie);return aw(s)&&aw(i.Ie)?jS(a):HS(i.serializer,a)}(t,e)}function jre(t,e,n){return t instanceof ss?qS(t,e):t instanceof as?WS(t,e):n}function GS(t,e){return t instanceof ol?aw(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class il extends Tf{}class ss extends Tf{constructor(e){super(),this.elements=e}}function qS(t,e){const n=QS(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class as extends Tf{constructor(e){super(),this.elements=e}}function WS(t,e){let n=QS(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class ol extends Tf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function KS(t){return rt(t.integerValue||t.doubleValue)}function QS(t){return sd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Gre{constructor(e,n){this.version=e,this.transformResults=n}}class Ye{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class xf{}function YS(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new al(t.key,Ye.none()):new sl(t.key,t.data,Ye.none());{const n=t.data,r=qt.empty();let i=new Pe(Qe.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ci(t.key,r,new Sn(i.toArray()),Ye.none())}}function qre(t,e,n){t instanceof sl?function(i,o,s){const a=i.value.clone(),l=JS(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,o,s){if(!Df(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=JS(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(XS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function pd(t,e,n,r){return t instanceof sl?function(o,s,a,l){if(!Df(o.precondition,s))return a;const c=o.value.clone(),u=ek(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(o,s,a,l){if(!Df(o.precondition,s))return a;const c=ek(o.fieldTransforms,l,s),u=s.data;return u.setAll(XS(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Df(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Wre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=GS(r.transform,i||null);null!=o&&(null===n&&(n=qt.empty()),n.set(r.field,o))}return n||null}function ZS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Qa(r,i,(o,s)=>function $re(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ss&&i instanceof ss||r instanceof as&&i instanceof as?Qa(r.elements,i.elements,jr):r instanceof ol&&i instanceof ol?jr(r.Ie,i.Ie):r instanceof il&&i instanceof il);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class sl extends xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends xf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JS(t,e,n){const r=new Map;H(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,jre(s,a,n[i]))}return r}function ek(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Hre(o,s,e))}return r}class al extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qre(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=US();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=YS(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,r)=>ZS(n,r))&&Qa(this.baseMutations,e.baseMutations,(n,r)=>ZS(n,r))}}class _w{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){H(e.mutations.length===r.length);let i=Fre;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _w(e,n,r,i)}}class vw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qre{constructor(e,n){this.count=e,this.unchangedNames=n}}var mt,_e;function nk(t){if(void 0===t)return lt("GRPC error has no .code"),C.UNKNOWN;switch(t){case mt.OK:return C.OK;case mt.CANCELLED:return C.CANCELLED;case mt.UNKNOWN:return C.UNKNOWN;case mt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case mt.INTERNAL:return C.INTERNAL;case mt.UNAVAILABLE:return C.UNAVAILABLE;case mt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case mt.NOT_FOUND:return C.NOT_FOUND;case mt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case mt.ABORTED:return C.ABORTED;case mt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case mt.DATA_LOSS:return C.DATA_LOSS;default:return F()}}(_e=mt||(mt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";const Yre=new qa([4294967295,4294967295],0);function ik(t){const e=function rk(){return new TextEncoder}().encode(t),n=new Gne;return n.update(e),new Uint8Array(n.digest())}function ok(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qa([n,r],0),new qa([i,o],0)]}class ww{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new md(`Invalid padding: ${n}`);if(r<0)throw new md(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new md(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new md(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(qa.fromNumber(r)));return 1===i.compare(Yre)&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=ik(e),[r,i]=ok(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ww(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=ik(e),[r,i]=ok(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _d(j.min(),i,new Be(J),kn(),ae())}}class vd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vd(r,n,ae(),ae(),ae())}}class Sf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class sk{constructor(e,n){this.targetId=e,this.fe=n}}class ak{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lk{constructor(){this.ge=0,this.pe=uk(),this.ye=Et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ae(),n=ae(),r=ae();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new vd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=uk()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,H(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Zre{constructor(e){this.Le=e,this.ke=new Map,this.qe=kn(),this.Qe=ck(),this.Ke=new Be(J)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Ef(o))if(0===r){const s=new R(o.path);this.We(n,s,Ge.newNoDocument(s,j.min()))}else H(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=vi(r).toUint8Array()}catch(l){if(l instanceof gS)return Bn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ww(s,i,o)}catch(l){return Bn(l instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ef(a.target)){const l=new R(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,Ge.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ae();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new _d(e,n,this.Ke,this.qe,r);return this.qe=kn(),this.Qe=ck(),this.Ke=new Be(J),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new lk,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pe(J),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||M("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new lk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ck(){return new Be(R.comparator)}function uk(){return new Be(R.comparator)}const Xre={asc:"ASCENDING",desc:"DESCENDING"},Jre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eie={and:"AND",or:"OR"};class tie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yw(t,e){return t.useProto3Json||nd(e)?e:{value:e}}function ll(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nie(t,e){return ll(t,e.toTimestamp())}function ct(t){return H(!!t),j.fromTimestamp(function(n){const r=oo(n);return new Xe(r.seconds,r.nanos)}(t))}function Cw(t,e){return(r=t,new me(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function hk(t){const e=me.fromString(t);return H(Ck(e)),e}function wd(t,e){return Cw(t.databaseId,e.path)}function Gr(t,e){const n=hk(e);if(n.get(1)!==t.databaseId.projectId)throw new T(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(gk(n))}function Iw(t,e){return Cw(t.databaseId,e)}function yd(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gk(t){return H(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pk(t,e,n){return{name:wd(t,e),fields:n.value.mapValue.fields}}function _k(t,e){return{documents:[Iw(t,e.path)]}}function Aw(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Iw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Iw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return yk(be.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:uo((d=c).field),direction:aie(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=yw(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n;var l}function vk(t){let e=function fk(t){const e=hk(t);return 4===e.length?me.emptyPath():gk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){H(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const h=wk(d);return h instanceof be&&cw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new ld(cl((g=h).field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction));var g}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,nd(h)?null:h}(n.limit));let l=null;var d;n.startAt&&(l=new co((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new co(d.values||[],!d.before)}(n.endAt)),function RS(t,e,n,r,i,o,s,a){return new wi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function wk(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cl(n.unaryFilter.field);return ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cl(n.unaryFilter.field);return ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cl(n.unaryFilter.field);return ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cl(n.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?ue.create(cl((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return be.create(n.compositeFilter.filters.map(r=>wk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F();var n}function aie(t){return Xre[t]}function lie(t){return Jre[t]}function cie(t){return eie[t]}function uo(t){return{fieldPath:t.canonicalString()}}function cl(t){return Qe.fromServerFormat(t.fieldPath)}function yk(t){return t instanceof ue?function(n){if("=="===n.op){if(_S(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(mS(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(_S(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(mS(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:lie(n.op),value:n.value}}}(t):t instanceof be?function(n){const r=n.getFilters().map(i=>yk(i));return 1===r.length?r[0]:{compositeFilter:{op:cie(n.op),filters:r}}}(t):F()}function uie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ck(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ii{constructor(e,n,r,i,o=j.min(),s=j.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ik{constructor(e){this.ut=e}}function Mw(t){const e=vk({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mf(e,e.limit,"L"):e}class ds{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),rd(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(vi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?vS(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):F()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),R.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ds.St=new ds;class vie{constructor(){this.on=new kw}addToCollectionParentIndex(e,n){return this.on.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Un.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class kw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(me.comparator)).toArray()}}new Uint8Array(0);class on{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class fs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new fs(0)}static Nn(){return new fs(-1)}}class Aie{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Die{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Qk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&pd(r.mutation,i,Sn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=$r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=hd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=kn();const s=fd(),a=fd();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Ci)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),pd(u.mutation,c,u.mutation.getFieldMask(),Xe.now())):s.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Die(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fd();let i=new Be((s,a)=>s-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(null===c)return;let u=r.get(l)||Sn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ae()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=US();u.forEach(h=>{if(!o.has(h)){const f=YS(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return R.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):w.resolve($r());let a=-1,l=o;return s.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ae())).next(u=>({batchId:a,changes:BS(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=hd();return this.indexManager.getCollectionParents(e,o).next(a=>w.forEach(a,l=>{const c=(d=n,h=l.child(o),new wi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,Ge.newInvalidDocument(u)))});let a=hd();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&pd(u.mutation,c,Sn.empty(),Xe.now()),dd(n,c)&&(a=a.insert(l,c))}),a})}}class xie{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return w.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:ct(i.createTime)}),w.resolve();var i}getNamedQuery(e,n){return w.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:Mw(i.bundledQuery),readTime:ct(i.readTime)}),w.resolve();var i}}class bie{constructor(){this.overlays=new Be(R.comparator),this.lr=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return w.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=$r(),o=n.length+1,s=new R(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=$r(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$r(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vw(n,r));let o=this.lr.get(n);void 0===o&&(o=ae(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class Pw{constructor(){this.hr=new Pe(Rt.Pr),this.Ir=new Pe(Rt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Rt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new R(new me([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new R(new me([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=ae();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return R.comparator(e.key,n.key)||J(e.gr,n.gr)}static Tr(e,n){return J(e.gr,n.gr)||R.comparator(e.key,n.key)}}class Sie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Pe(Rt.Pr)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new mw(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(s)}lookupMutationBatch(e,n){return w.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return w.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),w.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(J);return n.forEach(i=>{const o=new Rt(i,0),s=new Rt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),w.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;R.isDocumentKey(o)||(o=o.child(""));const s=new Rt(new R(o),0);let a=new Pe(J);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},s),w.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){H(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return w.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.yr.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kie{constructor(e){this.Cr=e,this.docs=new Be(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ge.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=kn();const s=n.path,a=new R(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||nw(tS(u),r)<=0||(i.has(u.key)||dd(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return w.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}vr(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pie(this)}getSize(e){return w.resolve(this.size)}}class Pie extends Aie{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Rie{constructor(e){this.persistence=e,this.Fr=new yi(n=>os(n),cd),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Pw,this.targetCount=0,this.Nr=fs.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),w.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new fs(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.kn(n),w.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(o).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),w.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Or.containsKey(n))}}class Rw{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Hn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rie(this),this.indexManager=new vie,this.remoteDocumentCache=new kie(r=>this.referenceDelegate.Qr(r)),this.serializer=new Ik(n),this.Kr=new xie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Sie(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const i=new Nie(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return w.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Nie extends nre{constructor(e){super(),this.currentSequenceNumber=e}}class Lf{constructor(e){this.persistence=e,this.Gr=new Pw,this.zr=null}static jr(e){return new Lf(e)}get Hr(){if(this.zr)return this.zr;throw F()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),w.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,r=>{const i=R.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,j.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return w.or([()=>w.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class zw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ae(),i=ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new zw(e,n.fromCache,r,i)}}class Vie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Vie;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ka()<=fe.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(Ka()<=fe.DEBUG&&M("QueryEngine","Query:",rl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ka()<=fe.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):w.resolve())}zi(e,n){if(NS(n))return w.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Mf(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ae(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,s,l.readTime)?this.zi(e,Mf(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return NS(n)||i.isEqual(j.min())?w.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?w.resolve(null):(Ka()<=fe.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rl(n)),this.Xi(e,s,n,function eS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Xe(n+1,0):new Xe(n,r));return new Un(i,R.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Pe(LS(e));return n.forEach((i,o)=>{dd(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ka()<=fe.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",rl(n)),this.Gi.getDocumentsMatchingQuery(e,n,Un.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class zie{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Be(J),this.ns=new yi(o=>os(o),cd),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Jk(t,e){return Lw.apply(this,arguments)}function Lw(){return Lw=m(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ae();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),Lw.apply(this,arguments)}function eP(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Bie(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pl(t,e,n){return Fw.apply(this,arguments)}function Fw(){return Fw=m(function*(t,e,n){const r=P(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ro(s))throw s;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Fw.apply(this,arguments)}function Uf(t,e,n){const r=P(t);let i=j.min(),o=ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=P(l),h=d.ns.get(u);return void 0!==h?w.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:j.min(),n?o:ae())).next(a=>(function iP(t,e,n){let r=t.rs.get(e)||j.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function zS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class $w{constructor(){this.activeTargetIds=function gw(){return Ure}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aP{constructor(){this.eo=new $w,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new $w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jie{ro(e){}shutdown(){}}class lP{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $f=null;function qw(){return null===$f?$f=268435456+Math.round(2147483648*Math.random()):$f++,"0x"+$f.toString(16)}const $ie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gie{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const sn="WebChannelConnection";class qie extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=qw(),l=this.So(n,r);M("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(n,l,c,i).then(u=>(M("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Bn("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Wa,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${$ie[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=qw();return new Promise((s,a)=>{const l=new $ne;l.setWithCredentials(!0),l.listenOnce(Hne.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case J7.NO_ERROR:const u=l.getResponseJson();M(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case J7.TIMEOUT:M(sn,`RPC '${e}' ${o} timed out`),a(new T(C.DEADLINE_EXCEEDED,"Request time out"));break;case J7.HTTP_ERROR:const d=l.getStatus();if(M(sn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const g=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(y)>=0?y:C.UNKNOWN}(f.status);a(new T(g,f.message))}else a(new T(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new T(C.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{M(sn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);M(sn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=qw(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bne(),a=Une(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");M(sn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const g=new Gie({co:_=>{f?M(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(M(sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),M(sn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),p=(_,y,v)=>{_.listen(y,E=>{try{v(E)}catch(b){setTimeout(()=>{throw b},0)}})};return p(d,gf.EventType.OPEN,()=>{f||M(sn,`RPC '${e}' stream ${i} transport opened.`)}),p(d,gf.EventType.CLOSE,()=>{f||(f=!0,M(sn,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),p(d,gf.EventType.ERROR,_=>{f||(f=!0,Bn(sn,`RPC '${e}' stream ${i} transport errored:`,_),g.Ro(new T(C.UNAVAILABLE,"The operation could not be completed")))}),p(d,gf.EventType.MESSAGE,_=>{var y;if(!f){const v=_.data[0];H(!!v);const b=v.error||(null===(y=v[0])||void 0===y?void 0:y.error);if(b){M(sn,`RPC '${e}' stream ${i} received error:`,b);const B=b.status;let Q=function(Ai){const Rl=mt[Ai];if(void 0!==Rl)return nk(Rl)}(B),we=b.message;void 0===Q&&(Q=C.INTERNAL,we="Unknown error status: "+B+" with message "+b.message),f=!0,g.Ro(new T(Q,we)),d.close()}else M(sn,`RPC '${e}' stream ${i} received:`,v),g.Vo(v)}}),p(a,jne.STAT_EVENT,_=>{_.stat===Kb.PROXY?M(sn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Kb.NOPROXY&&M(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function Gf(){return typeof document<"u"?document:null}function bd(t){return new tie(t,!0)}class Ww{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class uP{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ww(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return m(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return m(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return m(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(lt(n.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new T(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(m(function*(){e.state=0,e.start()}))}o_(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wie extends uP{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function iie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:F(),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(H(void 0===u||"string"==typeof u),Et.fromBase64String(u||"")):(H(void 0===u||u instanceof Uint8Array),Et.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?C.UNKNOWN:nk(c.code);return new T(u,c.message||"")}(s);n=new ak(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Gr(t,r.document.name),o=ct(r.document.updateTime),s=r.document.createTime?ct(r.document.createTime):j.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=Ge.newFoundDocument(i,o,s,a);n=new Sf(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Gr(t,r.document),o=r.readTime?ct(r.readTime):j.min(),s=Ge.newNoDocument(i,o);n=new Sf([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Gr(t,r.document);n=new Sf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Qre(i,o);n=new sk(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return j.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?ct(s.readTime):j.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=yd(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ef(l)?{documents:_k(o,l)}:{query:Aw(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dk(o,s.resumeToken);const c=yw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(j.min())>0){a.readTime=ll(o,s.snapshotVersion.toTimestamp());const c=yw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function sie(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=yd(this.serializer),n.removeTarget=e,this.e_(n)}}class Kie extends uP{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function oie(t,e){return t&&t.length>0?(H(void 0!==e),t.map(n=>function(i,o){let s=ct(i.updateTime?i.updateTime:o);return s.isEqual(j.min())&&(s=ct(o)),new Gre(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.I_(r,n)}return H(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=yd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Cd(t,e){let n;if(e instanceof sl)n={update:pk(t,e.key,e.value)};else if(e instanceof al)n={delete:wd(t,e.key)};else if(e instanceof Ci)n={update:pk(t,e.key,e.data),updateMask:uie(e.fieldMask)};else{if(!(e instanceof pw))return F();n={verify:wd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof il)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof as)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ol)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:nie(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:F()),n;var o}(this.serializer,r))};this.e_(n)}}class Qie extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new T(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(C.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(C.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Zie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(lt(n),this.f_=!1):M("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Xie{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(m(function*(){var l;po(s)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(u){const d=P(u);d.C_.add(4),yield ml(d),d.M_.set("Unknown"),d.C_.delete(4),yield Sd(d)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.M_=new Zie(r,i)}}function Sd(t){return Qw.apply(this,arguments)}function Qw(){return Qw=m(function*(t){if(po(t))for(const e of t.v_)yield e(!0)}),Qw.apply(this,arguments)}function ml(t){return Yw.apply(this,arguments)}function Yw(){return Yw=m(function*(t){for(const e of t.v_)yield e(!1)}),Yw.apply(this,arguments)}function qf(t,e){const n=P(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Jw(n)?Xw(n):vl(n).Ho()&&Zw(n,e))}function kd(t,e){const n=P(t),r=vl(n);n.D_.delete(e),r.Ho()&&dP(n,e),0===n.D_.size&&(r.Ho()?r.Zo():po(n)&&n.M_.set("Unknown"))}function Zw(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).u_(e)}function dP(t,e){t.x_.Oe(e),vl(t).c_(e)}function Xw(t){t.x_=new Zre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.M_.g_()}function Jw(t){return po(t)&&!vl(t).jo()&&t.D_.size>0}function po(t){return 0===P(t).C_.size}function hP(t){t.x_=void 0}function Jie(t){return ey.apply(this,arguments)}function ey(){return ey=m(function*(t){t.D_.forEach((e,n)=>{Zw(t,e)})}),ey.apply(this,arguments)}function eoe(t,e){return ty.apply(this,arguments)}function ty(){return ty=m(function*(t,e){hP(t),Jw(t)?(t.M_.w_(e),Xw(t)):t.M_.set("Unknown")}),ty.apply(this,arguments)}function toe(t,e,n){return ny.apply(this,arguments)}function ny(){return ny=m(function*(t,e,n){if(t.M_.set("Online"),e instanceof ak&&2===e.state&&e.cause)try{yield(r=m(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wf(t,r)}else if(e instanceof Sf?t.x_.$e(e):e instanceof sk?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(j.min()))try{const r=yield eP(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(Et.EMPTY_BYTE_STRING,u.snapshotVersion)),dP(o,l);const d=new Ii(u.target,l,c,u.sequenceNumber);Zw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Wf(t,r)}var r}),ny.apply(this,arguments)}function Wf(t,e,n){return ry.apply(this,arguments)}function ry(){return ry=m(function*(t,e,n){if(!ro(e))throw e;t.C_.add(1),yield ml(t),t.M_.set("Offline"),n||(n=()=>eP(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){M("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Sd(t)}))}),ry.apply(this,arguments)}function fP(t,e){return e().catch(n=>Wf(t,n,e))}function _l(t){return iy.apply(this,arguments)}function iy(){return iy=m(function*(t){const e=P(t),n=mo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;noe(e);)try{const i=yield Bie(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,roe(e,i)}catch(i){yield Wf(e,i)}gP(e)&&pP(e)}),iy.apply(this,arguments)}function noe(t){return po(t)&&t.b_.length<10}function roe(t,e){t.b_.push(e);const n=mo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function gP(t){return po(t)&&!mo(t).jo()&&t.b_.length>0}function pP(t){mo(t).start()}function ioe(t){return oy.apply(this,arguments)}function oy(){return oy=m(function*(t){mo(t).E_()}),oy.apply(this,arguments)}function ooe(t){return sy.apply(this,arguments)}function sy(){return sy=m(function*(t){const e=mo(t);for(const n of t.b_)e.P_(n.mutations)}),sy.apply(this,arguments)}function soe(t,e,n){return ay.apply(this,arguments)}function ay(){return ay=m(function*(t,e,n){const r=t.b_.shift(),i=_w.from(r,e,n);yield fP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _l(t)}),ay.apply(this,arguments)}function aoe(t,e){return ly.apply(this,arguments)}function ly(){return ly=m(function*(t,e){var n;e&&mo(t).h_&&(yield(n=m(function*(i,o){if(function tk(t){switch(t){default:return F();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(a=o.code)&&a!==C.ABORTED){const s=i.b_.shift();mo(i).Yo(),yield fP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield _l(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),gP(t)&&pP(t)}),ly.apply(this,arguments)}function mP(t,e){return cy.apply(this,arguments)}function cy(){return cy=m(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=po(n);n.C_.add(3),yield ml(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Sd(n)}),cy.apply(this,arguments)}function dy(){return dy=m(function*(t,e){const n=P(t);e?(n.C_.delete(2),yield Sd(n)):e||(n.C_.add(2),yield ml(n),n.M_.set("Unknown"))}),dy.apply(this,arguments)}function vl(t){return t.O_||(t.O_=function(n,r,i){const o=P(n);return o.A_(),new Wie(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Jie.bind(null,t),Io:eoe.bind(null,t),a_:toe.bind(null,t)}),t.v_.push(function(){var e=m(function*(n){n?(t.O_.Yo(),Jw(t)?Xw(t):t.M_.set("Unknown")):(yield t.O_.stop(),hP(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function mo(t){return t.N_||(t.N_=function(n,r,i){const o=P(n);return o.A_(),new Kie(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:ioe.bind(null,t),Io:aoe.bind(null,t),T_:ooe.bind(null,t),I_:soe.bind(null,t)}),t.v_.push(function(){var e=m(function*(n){n?(t.N_.Yo(),yield _l(t)):(yield t.N_.stop(),t.b_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class hy{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new hy(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wl(t,e){if(lt("AsyncQueue",`${e}: ${t}`),ro(t))return new T(C.UNAVAILABLE,`${e}: ${t}`);throw t}class yl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=hd(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _P{constructor(){this.B_=new Be(R.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):F():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cl{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cl(e,n,yl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class loe{constructor(){this.k_=void 0,this.listeners=[]}}class coe{constructor(){this.queries=new yi(e=>VS(e),ud),this.onlineState="Unknown",this.q_=new Set}}function gy(){return gy=m(function*(t,e){const n=P(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new loe),i)try{o.k_=yield n.onListen(r)}catch(s){const a=wl(s,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&_y(n)}),gy.apply(this,arguments)}function my(){return my=m(function*(t,e){const n=P(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),my.apply(this,arguments)}function uoe(t,e){const n=P(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&_y(n)}function doe(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function _y(t){t.q_.forEach(e=>{e.next()})}class vy{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class yP{constructor(e){this.key=e}}class CP{constructor(e){this.key=e}}class IP{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ae(),this.mutatedKeys=ae(),this._a=LS(e),this.aa=new yl(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new _P,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=dd(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==p&&(r.track({type:3,doc:f}),_=!0):this.ha(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(s=s.add(f),o=p?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,d)=>function(f,g){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return p(f)-p(g)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=n&&!i?this.Ia():[],l=0===this.oa.size&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,0!==s.length||c?{snapshot:new Cl(this.query,e.aa,o,s,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new _P,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ae(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new CP(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new yP(r))}),n}da(e){this.ia=e.ls,this.oa=ae();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Cl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class goe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class poe{constructor(e){this.key=e,this.Ra=!1}}class moe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new yi(a=>VS(a),ud),this.fa=new Map,this.ga=new Set,this.pa=new Be(R.comparator),this.ya=new Map,this.wa=new Pw,this.Sa={},this.ba=new Map,this.Da=fs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function _oe(t,e){return wy.apply(this,arguments)}function wy(){return wy=m(function*(t,e){const n=function Hy(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Toe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yoe.bind(null,e),e.Va.a_=uoe.bind(null,e.eventManager),e.Va.Fa=doe.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function gl(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,w.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Ii(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,_n(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function yy(t,e,n,r,i){return Cy.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&qf(n.remoteStore,s)}return i}),wy.apply(this,arguments)}function Cy(){return Cy=m(function*(t,e,n,r,i){t.va=(d,h,f)=>{return(g=m(function*(_,y,v,E){let b=y.view.ca(v);b.Zi&&(b=yield Uf(_.localStore,y.query,!1).then(({documents:ht})=>y.view.ca(ht,b)));const B=E&&E.targetChanges.get(y.targetId),Q=E&&null!=E.targetMismatches.get(y.targetId),we=y.view.applyChanges(b,_.isPrimaryClient,B,Q);return ky(_,y.targetId,we.Ta),we.snapshot}),function p(_,y,v,E){return g.apply(this,arguments)})(t,d,h,f);var g};const o=yield Uf(t.localStore,e,!0),s=new IP(e,o.ls),a=s.ca(o.documents),l=vd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,l);ky(t,n,c.Ta);const u=new goe(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}),Cy.apply(this,arguments)}function voe(t,e){return Iy.apply(this,arguments)}function Iy(){return Iy=m(function*(t,e){const n=P(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!ud(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kd(n.remoteStore,r.targetId),Il(n,r.targetId)}).catch(no))):(Il(n,r.targetId),yield pl(n.localStore,r.targetId,!0))}),Iy.apply(this,arguments)}function Ey(){return Ey=m(function*(t,e,n){const r=function jy(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Coe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ioe.bind(null,e),e}(t);try{const i=yield function(s,a){const l=P(s),c=Xe.now(),u=a.reduce((f,g)=>f.add(g.key),ae());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=kn(),p=ae();return l.ss.getEntries(f,u).next(_=>{g=_,g.forEach((y,v)=>{v.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;const y=[];for(const v of a){const E=Wre(v,d.get(v.key).overlayedDocument);null!=E&&y.push(new Ci(v.key,E,CS(E.value.mapValue),Ye.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,a)}).next(_=>{h=_;const y=_.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,_.batchId,y)})}).then(()=>({batchId:h.batchId,changes:BS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new Be(J)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Ei(r,i.changes),yield _l(r.remoteStore)}catch(i){const o=wl(i,"Failed to persist write");n.reject(o)}}),Ey.apply(this,arguments)}function EP(t,e){return Ay.apply(this,arguments)}function Ay(){return Ay=m(function*(t,e){const n=P(t);try{const r=yield function Fie(t,e){const n=P(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,_,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),_=f,y=u,(0===(p=h).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,f))});let l=kn(),c=ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function tP(t,e,n){let r=ae(),i=ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=kn();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(j.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(j.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?H(s.Ra):i.removedDocuments.size>0&&(H(s.Ra),s.Ra=!1))}),yield Ei(n,r,e)}catch(r){yield no(r)}}),Ay.apply(this,arguments)}function AP(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=P(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&_y(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yoe(t,e,n){return My.apply(this,arguments)}function My(){return My=m(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Be(R.comparator);s=s.insert(o,Ge.newNoDocument(o,j.min()));const a=ae().add(o),l=new _d(j.min(),new Map,new Be(J),s,a);yield EP(r,l),r.pa=r.pa.remove(o),r.ya.delete(e),Py(r)}else yield pl(r.localStore,e,!1).then(()=>Il(r,e,n)).catch(no)}),My.apply(this,arguments)}function Coe(t,e){return Ty.apply(this,arguments)}function Ty(){return Ty=m(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield function Lie(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=w.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(p=>{const _=c.docVersions.get(g);H(null!==_),p.version.compareTo(_)<0&&(d.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Sy(n,r,null),by(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ei(n,i)}catch(i){yield no(i)}}),Ty.apply(this,arguments)}function Ioe(t,e,n){return Dy.apply(this,arguments)}function Dy(){return Dy=m(function*(t,e,n){const r=P(t);try{const i=yield function(s,a){const l=P(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(H(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Sy(r,e,n),by(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ei(r,i)}catch(i){yield no(i)}}),Dy.apply(this,arguments)}function by(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Sy(t,e,n){const r=P(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Il(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||MP(t,r)})}function MP(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(kd(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Py(t))}function ky(t,e,n){for(const r of n)r instanceof yP?(t.wa.addReference(r.key,e),Aoe(t,r)):r instanceof CP?(M("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||MP(t,r.key)):F()}function Aoe(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(M("SyncEngine","New document in limbo: "+n),t.ga.add(r),Py(t))}function Py(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new R(me.fromString(e)),r=t.Da.next();t.ya.set(r,new poe(n)),t.pa=t.pa.insert(n,r),qf(t.remoteStore,new Ii(_n(tl(n.path)),r,"TargetPurposeLimboResolution",Hn._e))}}function Ei(t,e,n){return Ry.apply(this,arguments)}function Ry(){return Ry=m(function*(t,e,n){const r=P(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{s.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=zw.Qi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=m(function*(c,u){const d=P(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(u,f=>w.forEach(f.ki,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>w.forEach(f.qi,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!ro(h))throw h;M("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.ts.get(f),_=g.withLastLimboFreeSnapshotVersion(g.snapshotVersion);d.ts=d.ts.insert(f,_)}}}),function l(c,u){return a.apply(this,arguments)})(r.localStore,o))}),Ry.apply(this,arguments)}function Moe(t,e){return Ny.apply(this,arguments)}function Ny(){return Ny=m(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield Jk(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(l=>{l.reject(new T(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ei(n,r._s)}var o}),Ny.apply(this,arguments)}function Toe(t,e){const n=P(t),r=n.ya.get(e);if(r&&r.Ra)return ae().add(r.key);{let i=ae();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class Kf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=bd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Xk(t,e,n,r){return new zie(t,e,n,r)}(this.persistence,new Zk,e.initialUser,this.serializer)}createPersistence(e){return new Rw(Lf.jr,this.serializer)}createSharedClientState(e){return new aP}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class El{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Moe.bind(null,r.syncEngine),yield function uy(t,e){return dy.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new coe}createDatastore(e){const n=bd(e.databaseInfo.databaseId),r=new qie(e.databaseInfo);return new Qie(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>AP(this.syncEngine,n,0),a=lP.D()?new lP:new jie,new Xie(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const d=new moe(i,o,s,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(r){const i=P(r);M("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield ml(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):lt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Foe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=m(function*(a){M("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=wl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Yf(t,e){return $y.apply(this,arguments)}function $y(){return $y=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(o){r.isEqual(o)||(yield Jk(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),$y.apply(this,arguments)}function Gy(t,e){return qy.apply(this,arguments)}function qy(){return qy=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Wy(t){return Ky.apply(this,arguments)}(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>mP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>mP(e.remoteStore,o)),t._onlineComponents=e}),qy.apply(this,arguments)}function Ky(){return Ky=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function kP(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Bn("Error using user provided cache. Falling back to memory cache: "+n),yield Yf(t,new Kf)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield Yf(t,new Kf);return t._offlineComponents}),Ky.apply(this,arguments)}function Zf(t){return Qy.apply(this,arguments)}function Qy(){return Qy=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gy(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield Gy(t,new El))),t._onlineComponents}),Qy.apply(this,arguments)}function Zy(){return Zy=m(function*(t){const e=yield Zf(t),n=e.eventManager;return n.onListen=_oe.bind(null,e.syncEngine),n.onUnlisten=voe.bind(null,e.syncEngine),n}),Zy.apply(this,arguments)}function VP(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(m(function*(){return function(o,s,a,l,c){const u=new Qf({next:h=>{s.enqueueAndForget(()=>function py(t,e){return my.apply(this,arguments)}(o,d)),h.fromCache&&"server"===l.source?c.reject(new T(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new vy(a,u,{includeMetadataChanges:!0,J_:!0});return function fy(t,e){return gy.apply(this,arguments)}(o,d)}(yield function Ml(t){return Zy.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function zP(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const LP=new Map;function Xy(t,e,n){if(!n)throw new T(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FP(t){if(!R.isDocumentKey(t))throw new T(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BP(t){if(R.isDocumentKey(t))throw new T(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":F()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(t);throw new T(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class HP{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Yoe(t,e,n,r){if(!0===e&&!0===r)throw new T(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zP(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new T(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new T(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new T(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HP(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new qne;switch(r.type){case"firstParty":return new Yne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LP.get(n);r&&(M("ComponentProvider","Removing Datastore"),LP.delete(n),r.terminate())}(this),Promise.resolve()}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class qr extends Wt{constructor(e,n,r){super(e,n,tl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new R(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Xoe(t,e,...n){if(t=Ct(t),Xy("collection","path",e),t instanceof Pd){const r=me.fromString(e,...n);return BP(r),new qr(t,null,r)}{if(!(t instanceof ut||t instanceof qr))throw new T(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return BP(r),new qr(t.firestore,null,r)}}function jP(t,e,...n){if(t=Ct(t),1===arguments.length&&(e=Xb.newId()),Xy("doc","path",e),t instanceof Pd){const r=me.fromString(e,...n);return FP(r),new ut(t,null,new R(r))}{if(!(t instanceof ut||t instanceof qr))throw new T(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return FP(r),new ut(t.firestore,t instanceof qr?t.converter:null,new R(r))}}class Joe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ww(this,"async_queue_retry"),this.iu=()=>{const n=Gf();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Gf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Gf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new It;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return m(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!ro(n))throw n;M("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,lt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=hy.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&F()}verifyOperationInProgress(){}uu(){var e=this;return m(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Ue extends Pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Joe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GP(this),this._firestoreClient.terminate()}}function tse(t,e){const r="string"==typeof t?t:e||"(default)",i=gu("object"==typeof t?t:y1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=eD("firestore");o&&function Zoe(t,e,n,r={}){var i;const o=(t=de(t,Pd))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=kt.MOCK_USER;else{a=function VY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h1(JSON.stringify({alg:"none",type:"JWT"})),h1(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(c)}t._authCredentials=new Wne(new Yb(a,l))}}(i,...o)}return i}function dt(t){return t._firestoreClient||GP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GP(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Tre(t._databaseId,l,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,zP(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;t._firestoreClient=new Foe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(Et.fromBase64String(e))}catch(n){throw new T(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ps(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KP{constructor(e){this._methodName=e}}class e3{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const rse=/^__.*__$/;class ise{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new sl(e,this.data,n,this.fieldTransforms)}}function YP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class Jf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return t5(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(YP(this.Iu)&&rse.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ose{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bd(e)}pu(e,n,r,i=!1){return new Jf({Iu:e,methodName:n,gu:r,path:Qe.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dl(t){const e=t._freezeSettings(),n=bd(t._databaseId);return new ose(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t3(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);r3("Data must be an object, but it was:",s,r);const a=tR(r,s);let l,c;if(o.merge)l=new Sn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Od(e,d,n);if(!s.contains(h))throw new T(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);rR(u,h)||u.push(h)}l=new Sn(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new ise(new qt(a),l,c)}function ms(t,e){if(nR(t=Ct(t)))return r3("Unsupported field value:",e,t),tR(t,e);if(t instanceof KP)return function(r,i){if(!YP(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ms(a,i.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Ct(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return $S(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Xe.fromDate(r);return{timestampValue:ll(i.serializer,o)}}if(r instanceof Xe){const o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ll(i.serializer,o)}}if(r instanceof e3)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ps)return{bytesValue:dk(i.serializer,r._byteString)};if(r instanceof ut){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Xf(r)}`)}(t,e)}function tR(t,e){const n={};return hS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,i)=>{const o=ms(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function nR(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof e3||t instanceof ps||t instanceof ut||t instanceof KP)}function r3(t,e,n){if(!nR(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Xf(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Od(t,e,n){if((e=Ct(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return e5(t,e);throw t5("Field path arguments must be of type string or ",t,!1,void 0,n)}const cse=new RegExp("[~\\*/\\[\\]]");function e5(t,e,n){if(e.search(cse)>=0)throw t5(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tl(...e.split("."))._internalPath}catch{throw t5(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function t5(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new T(C.INVALID_ARGUMENT,a+t+l)}function rR(t,e){return t.some(n=>n.isEqual(e))}class i3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new use(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n5("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class use extends i3{data(){return super.data()}}function n5(t,e){return"string"==typeof e?e5(t,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}class o3{}class dse extends o3{}function hse(t,e,...n){let r=[];e instanceof o3&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof xl).length,a=o.filter(l=>l instanceof Vd).length;if(s>1||s>0&&a>0)throw new T(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vd extends dse{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vd(e,n,r)}_apply(e){const n=this._parse(e);return lR(e._query,n),new Wt(e.firestore,e.converter,fw(e._query,n))}_parse(e){const n=Dl(e.firestore);return function(o,s,a,l,c,u,d){let h;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new T(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){aR(d,u);const f=[];for(const g of d)f.push(sR(l,o,g));h={arrayValue:{values:f}}}else h=sR(l,o,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||aR(d,u),h=function eR(t,e,n,r=!1){return ms(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return ue.create(c,u,h)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function fse(t,e,n){const r=e,i=n5("where",t);return Vd._create(i,r,n)}class xl extends o3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xl(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)lR(s,l),s=fw(s,l)}(e._query,n),new Wt(e.firestore,e.converter,fw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sR(t,e,n){if("string"==typeof(n=Ct(n))){if(""===n)throw new T(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hw(e)&&-1!==n.indexOf("/"))throw new T(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!R.isDocumentKey(r))throw new T(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return is(t,new R(r))}if(n instanceof ut)return is(t,n._key);throw new T(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function aR(t,e){if(!Array.isArray(t)||0===t.length)throw new T(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new T(C.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gse{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new e3(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const n=oo(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);H(Ck(r));const i=new rs(r.get(1),r.get(3)),o=new R(r.popFirst(5));return i.isEqual(n)||lt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class _s{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends i3{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new s5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n5("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class s5 extends bl{data(e={}){return super.data(e)}}class Sl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _s(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new s5(this._firestore,this._userDataWriter,r.key,r,new _s(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new s5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new s5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:mse(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class _o extends gse{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function _se(t){t=de(t,Wt);const e=de(t.firestore,Ue),n=dt(e),r=new _o(e);return function iR(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),VP(n,t._query).then(i=>new Sl(e,r,t,i))}function vse(t,e,n){t=de(t,ut);const r=de(t.firestore,Ue),i=function a3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function zd(t,e){return function(r,i){const o=new It;return r.asyncQueue.enqueueAndForget(m(function*(){return function woe(t,e,n){return Ey.apply(this,arguments)}(yield function Yy(t){return Zf(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(dt(t),e)}(r,[t3(Dl(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ye.none())])}!function(e,n=!0){Wa=Na,Go(new Ki("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ue(new Kne(r.getProvider("auth-internal")),new Zne(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new T(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),en(Qb,"4.4.0",e),en(Qb,"4.4.0","esm2017")}();class c5{constructor(e){return e}}const fR="firestore",u3=new z("angularfire2.firestore-instances");function Rse(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new c5(r)}}const Nse={provide:class kse{constructor(){return I1(fR)}},deps:[[new Mt,u3]]},Ose={provide:c5,useFactory:function Pse(t,e){const n=Xm(fR,t,e);return n&&new c5(n)},deps:[[new Mt,u3],za]};let Vse=(()=>{class t{constructor(){en("angularfire",_u.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kt({type:t});static \u0275inj=Ot({providers:[Ose,Nse]})}return t})();function zse(t,...e){return{ngModule:Vse,providers:[{provide:u3,useFactory:Rse(t),multi:!0,deps:[ye,Tt,E1,A1,[new Mt,u7],[new Mt,Jm],...e]}]}}const Lse=Ht(Xoe,!0),Fse=Ht(jP,!0),Bse=Ht(_se,!0),Use=Ht(tse,!0),Hse=Ht(hse,!0),jse=Ht(vse,!0),$se=Ht(fse,!0);let d3=(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.firestore=i}get userState$(){return Ote(this.auth)}getCorreoExistente(n){var r=this;return m(function*(){const i=Hse(Lse(r.firestore,"usuarios"),$se("correo","==",n));return!!(yield Bse(i)).docs[0]})()}singUp(n,r,i){var o=this;return m(function*(){try{const s=yield Vte(o.auth,r,i);yield Fte(s.user,{displayName:n}),yield kx(s.user);const a=Fse(o.firestore,"usuarios",s.user.uid);yield jse(a,{nombre:n,correo:r})}catch(s){console.error(s)}})()}singIn(n,r){var i=this;return m(function*(){try{yield Lte(i.auth,n,r)}catch(o){const{code:s,message:a}=o;if(console.log("code",s),console.log("message",a),"auth/user-not-found"===s||"auth/invalid-credential"===s||"auth/wrong-password"===s||"auth/missing-password"===s)return"notFound";if("auth/invalid-email"===s)return"emailRequier"}})()}signOut(){var n=this;return m(function*(){try{n.auth.signOut()}catch(r){console.log(r)}})()}sendEmail(n){return m(function*(){try{yield kx(n)}catch(r){console.log(r)}})()}static#e=this.\u0275fac=function(r){return new(r||t)($(Lr),$(Jt),$(c5))};static#t=this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gse(t,e){if(1&t){const n=Zn();x(0,"ng-icon",9),oe("click",function(){En(n);const i=Ke();return An(i.subMenu=!i.subMenu)}),S()}}function qse(t,e){if(1&t){const n=Zn();x(0,"ng-icon",10),oe("click",function(){En(n);const i=Ke();return An(i.subMenu=!i.subMenu)}),S()}}const Wse=function(t){return{visible:t}};let Kse=(()=>{class t{constructor(n,r,i){this.router=n,this.auth=r,this.authService=i,this.subMenu=!1}ngOnInit(){this.auth.onAuthStateChanged(n=>{n?this.userName=n.displayName.split(" ").slice(0,2).join(" "):this.router.navigate(["sing-in"])})}logout(){this.authService.signOut()}navegar(n){this.router.navigate([n]),this.subMenu=!1}static#e=this.\u0275fac=function(r){return new(r||t)(I(Jt),I(Lr),I(d3))};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-home"]],features:[Re([G0({heroBars3:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg>',heroXMark:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>'})])],decls:27,vars:6,consts:[["src","assets/img/logo.png"],["name","heroBars3",3,"click",4,"ngIf"],["name","heroXMark",3,"click",4,"ngIf"],[1,"subMenu",3,"ngClass"],[3,"click"],["src","../../../assets/img/create.png"],["src","../../../assets/img/myPublications.png"],["src","../../../assets/img/all.png"],["src","../../../assets/img/logout.png"],["name","heroBars3",3,"click"],["name","heroXMark",3,"click"]],template:function(r,i){1&r&&(x(0,"nav"),Ae(1,"img",0),x(2,"h2"),G(3,"Easy Media"),S(),he(4,Gse,1,0,"ng-icon",1),he(5,qse,1,0,"ng-icon",2),x(6,"section",3)(7,"h3"),G(8),S(),x(9,"div")(10,"section",4),oe("click",function(){return i.navegar("create-post")}),Ae(11,"img",5),x(12,"p"),G(13,"Create publication"),S()(),x(14,"section",4),oe("click",function(){return i.navegar("my-posts")}),Ae(15,"img",6),x(16,"p"),G(17,"My Publications"),S()(),x(18,"section",4),oe("click",function(){return i.navegar("all-posts")}),Ae(19,"img",7),x(20,"p"),G(21,"See All Publications"),S()(),x(22,"section",4),oe("click",function(){return i.logout()}),Ae(23,"img",8),x(24,"p"),G(25,"Logout"),S()()()()(),Ae(26,"router-outlet")),2&r&&(L(4),U("ngIf",!i.subMenu),L(1),U("ngIf",i.subMenu),L(1),U("ngClass",Dt(4,Wse,i.subMenu)),L(2),ur(i.userName))},dependencies:[va,Li,i1,W0],styles:["nav[_ngcontent-%COMP%]{position:relative;width:100%;height:52px;background:white;display:flex}nav[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:38px;margin-left:10px;margin-top:7px}nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#000;line-height:52px;margin:0;padding-left:10px}nav[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:5px;font-size:40px}nav[_ngcontent-%COMP%]   .subMenu[_ngcontent-%COMP%]{position:absolute;display:none;top:60px;right:10px;width:240px;background:white;border-radius:5px;overflow:hidden;box-shadow:0 -.1px 2.8px #0000001f,0 3.1px 2.5px #00000009;z-index:2}nav[_ngcontent-%COMP%]   .subMenu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 10px 5px;font-weight:450;font-size:18px;letter-spacing:.4px;text-align:center;border-bottom:1px solid #999}nav[_ngcontent-%COMP%]   .subMenu[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{cursor:pointer;width:100%;height:40px;display:flex}nav[_ngcontent-%COMP%]   .subMenu[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;height:20px;margin-left:18px}nav[_ngcontent-%COMP%]   .subMenu[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16.5px;font-weight:320;line-height:40px;padding-left:7px;color:#444}nav[_ngcontent-%COMP%]   .subMenu[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:hover{background:#ddd}nav[_ngcontent-%COMP%]   .visible[_ngcontent-%COMP%]{display:block;height:auto;animation:_ngcontent-%COMP%_submenu .2s}@keyframes _ngcontent-%COMP%_submenu{0%{height:0}to{height:198px}}"]})}return t})();function Qse(t,e){1&t&&(x(0,"p",14),G(1,"Plase provide a valid email"),S())}function Yse(t,e){1&t&&(x(0,"p",15),G(1,"Invalid email or password"),S())}const Zse=function(t){return{errorText:t}},Xse=function(t){return{invalid:t}};let Jse=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.router=r,this.authService=i,this.auth=o,this.emailpattern=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,this.notFound=!1,this.requiredEmail=!1}ngOnInit(){this.initForm(),this.user$=this.authService.userState$}initForm(){this.form=this.fb.group({email:["",[gr.required]],password:["",[gr.required]]})}onSubmit(){var n=this;return m(function*(){const{email:r,password:i}=n.form.value,o=yield n.authService.singIn(r,i);o?"notFound"===o?(n.notFound=!0,n.requiredEmail=!1):"emailRequier"===o&&(n.notFound=!1,n.requiredEmail=!0):(n.notFound=!1,n.requiredEmail=!1,n.router.navigate([""]))})()}navegar(n){this.router.navigate([n])}static#e=this.\u0275fac=function(r){return new(r||t)(I(zT),I(Jt),I(d3),I(Lr))};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-sing-in"]],decls:25,vars:9,consts:[[1,"formulario"],["src","../../../assets/img/auth.png"],[1,"subTittle"],[3,"formGroup","ngSubmit"],["for","email",3,"ngClass"],["name","email","type","text","placeholder","nombre@correo.com","formControlName","email",3,"ngClass"],["class","error",4,"ngIf"],["for","password"],["name","password","type","password","placeholder","* * * * *","formControlName","password",1,"password"],[1,"forgotPassword",3,"click"],["type","submit"],["class","errorNotFound",4,"ngIf"],[1,"login"],[3,"click"],[1,"error"],[1,"errorNotFound"]],template:function(r,i){1&r&&(x(0,"div",0),Ae(1,"img",1),x(2,"h1"),G(3,"Easy Media"),S(),x(4,"p",2),G(5,"Now, share is easy"),S(),x(6,"h2"),G(7,"Sing Up"),S(),x(8,"form",3),oe("ngSubmit",function(){return i.onSubmit()}),x(9,"label",4),G(10,"Correo"),S(),Ae(11,"input",5),he(12,Qse,2,0,"p",6),x(13,"label",7),G(14,"Contrase\xf1a"),S(),Ae(15,"input",8),x(16,"p",9),oe("click",function(){return i.navegar("cuenta/phone-validation/email-request")}),G(17,"\xbfOlvidaste la constrase\xf1a?"),S(),x(18,"button",10),G(19,"Ingresar"),S(),he(20,Yse,2,0,"p",11),S(),x(21,"p",12),G(22,"Already have an account? "),x(23,"span",13),oe("click",function(){return i.navegar("sing-up")}),G(24,"Sing up here"),S()()()),2&r&&(L(8),U("formGroup",i.form),L(1),U("ngClass",Dt(5,Zse,i.requiredEmail)),L(2),U("ngClass",Dt(7,Xse,i.requiredEmail)),L(1),U("ngIf",i.requiredEmail),L(8),U("ngIf",i.notFound))},dependencies:[va,Li,Ea,Bi,wa,ya,qc,$0],styles:[".formulario[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;max-width:100%;display:flex;flex-direction:column}.formulario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:220px;margin:auto}.formulario[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:520;color:#fff;letter-spacing:.5px;word-spacing:1.2px;margin:10px;text-align:center}.formulario[_ngcontent-%COMP%]   p.subTittle[_ngcontent-%COMP%]{font-size:16px;font-weight:420;color:#2be8cc;letter-spacing:.3px;word-spacing:1px;margin:0;text-align:center}.formulario[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:440;color:#fff;letter-spacing:.5px;word-spacing:1.2px;margin:10px 0 20px;text-align:center}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding-left:42px;font-size:15px;font-weight:480;color:#000;letter-spacing:.4px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 80px);margin:0 0 22px 40px;padding:10px 0;border:none;border-bottom:1px solid #fff;background:none;outline:none;color:#fff;font-weight:420;font-size:15.5px;letter-spacing:.3px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #fff}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ccc}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]::placeholder{transform:translateY(3px);color:#ccc}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border-bottom:2px solid #ff8e8e}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .errorText[_ngcontent-%COMP%]{color:#ff7c7c}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%]{color:#ff7979;transform:translateY(-19px)!important;font-size:12px;font-weight:450;letter-spacing:.4px;margin:0}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p.errorNotFound[_ngcontent-%COMP%]{color:#ff7171;font-size:15px;font-weight:450;letter-spacing:.4px;text-align:center;margin-top:15px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;margin-top:25px;border-radius:21px;width:calc(100% - 80px);height:42px;cursor:pointer;font-size:18px;border:none;font-weight:540;color:#fff;background:linear-gradient(to left,#C545A9 0 20%,#5DB5D9 80% 100%);letter-spacing:.7px;word-spacing:1px;margin-left:40px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.formulario[_ngcontent-%COMP%]   p.login[_ngcontent-%COMP%]{margin-top:20px;padding-right:41px;font-size:13px;font-weight:400;color:#ccc;letter-spacing:.2px;text-align:right}.formulario[_ngcontent-%COMP%]   p.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13.5px;color:#2be8cc;cursor:pointer}"]})}return t})();const eae={required:"This field is required",patternEmail:"The email must be valid",minlength:"This field must be 8 or more characters",maxlength:"This field must be 30 or fewer characters"};function h3(t){return eae[t]??""}let tae=(()=>{class t{get errorMessage(){const n=this.control?.errors,r=Object.keys(n??{})[0];return"pattern"===r&&"email"===this.patternType&&this.control.touched?h3("patternEmail"):"pattern"===r&&"password"===this.patternType&&this.control.touched?h3("patternPassword"):this.control.touched&&r?h3(r):""}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-error-message"]],inputs:{control:"control",patternType:"patternType"},decls:2,vars:1,template:function(r,i){1&r&&(x(0,"p"),G(1),S()),2&r&&(L(1),ur(i.errorMessage))},styles:["p[_ngcontent-%COMP%]{color:#ff8686;transform:translate(42px,-19px)!important;font-size:12px;font-weight:450;letter-spacing:.4px;margin:0}"]})}return t})();function nae(t,e){if(1&t&&(x(0,"p",23),G(1),S()),2&t){const n=Ke();L(1),ur(n.correoExistente)}}const Ld=function(t){return{errorText:t}};function rae(t,e){if(1&t&&(x(0,"label",24),G(1,"Confirm Password"),S()),2&t){const n=Ke();U("ngClass",Dt(1,Ld,n.hasError("passwordVerify")||!n.passwordCheck))}}function iae(t,e){if(1&t&&(x(0,"label",24),G(1,"Confirm Password"),S()),2&t){const n=Ke();U("ngClass",Dt(1,Ld,n.hasError("passwordVerify")))}}const Fd=function(t){return{invalid:t}};function oae(t,e){if(1&t){const n=Zn();x(0,"input",25),oe("input",function(){En(n);const i=Ke();return An(i.passwordVerifyValidator(i.form))}),S()}if(2&t){const n=Ke();U("ngClass",Dt(1,Fd,n.hasError("passwordVerify")||!n.passwordCheck))}}function sae(t,e){if(1&t&&Ae(0,"input",26),2&t){const n=Ke();U("ngClass",Dt(1,Fd,n.hasError("passwordVerify")))}}function aae(t,e){1&t&&(x(0,"p",27),G(1,"Passwords are not the same"),S())}function lae(t,e){1&t&&(x(0,"span"),G(1,"Sing Up"),S())}function cae(t,e){1&t&&Ae(0,"span",28)}let uae=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.router=r,this.authService=i,this.auth=o,this.emailPattern=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,this.fullNamePattern=/^[A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\s]{1,30}$/,this.inputFunction=!1,this.checkbox=!0,this.checkedbox=!1,this.correoExistente="",this.cargando=!1}ngOnInit(){this.initForm(),this.user$=this.authService.userState$}initForm(){this.form=this.fb.group({name:["",[gr.required,gr.maxLength(30),gr.pattern(this.fullNamePattern)]],email:["",[gr.required,gr.pattern(this.emailPattern)]],password:["",[gr.required,gr.minLength(8),gr.maxLength(30)]],passwordVerify:["",[gr.required]]})}correoNuevo(){this.correoExistente=""}passwordVerifyValidator(n){const r=n.get("password")?.value,i=n.get("passwordVerify")?.value;this.passwordCheck=r===i}hasError(n){const r=this.form.get(n);return!!r?.invalid&&r.touched}onSubmit(){var n=this;return m(function*(){if(Object.keys(n.form.controls).forEach(r=>{n.form.get(r)?.markAsTouched()}),n.form.valid)if(n.passwordVerifyValidator(n.form),n.passwordCheck){n.cargando=!0;const{email:r,password:i,name:o}=n.form.value;yield n.authService.getCorreoExistente(r).then(function(){var s=m(function*(a){a?(n.cargando=!1,n.correoExistente="This email is already associated with an existing account."):(yield n.authService.singUp(o,r,i),n.router.navigate([""]))});return function(a){return s.apply(this,arguments)}}())}else n.inputFunction=!0})()}handleCheckBoxChange(){const n=this.form.get("checkbox").value;this.checkbox=n,this.checkedbox=n}navegar(n){this.router.navigate([n])}static#e=this.\u0275fac=function(r){return new(r||t)(I(zT),I(Jt),I(d3),I(Lr))};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-sing-up"]],decls:35,vars:31,consts:[[1,"formulario"],["src","../../../assets/img/auth.png"],[1,"subTittle"],[3,"formGroup","ngSubmit"],["for","name","for","email",3,"ngClass"],["type","text","placeholder","Camilo Cifuentes","formControlName","name",3,"ngClass"],[3,"control"],["for","email","for","email",3,"ngClass"],["name","email","type","text","placeholder","example@email.com","formControlName","email",3,"ngClass","input"],["patternType","email",3,"control"],["class","correoExistente",4,"ngIf"],["for","password","for","email",3,"ngClass"],["name","password","type","password","placeholder","* * * *","formControlName","password",1,"password",3,"ngClass"],["patternType","password",3,"control"],["for","passwordVerify",3,"ngClass",4,"ngIf"],["class","password","name","passwordVerify","type","password","placeholder","* * * * *","formControlName","passwordVerify",3,"ngClass","input",4,"ngIf"],["class","password","name","passwordVerify","type","password","placeholder","* * * * *","formControlName","passwordVerify",3,"ngClass",4,"ngIf"],["class","errorPasswordVerify",4,"ngIf"],["type","submit"],[4,"ngIf"],["class","loading",4,"ngIf"],[1,"login"],[3,"click"],[1,"correoExistente"],["for","passwordVerify",3,"ngClass"],["name","passwordVerify","type","password","placeholder","* * * * *","formControlName","passwordVerify",1,"password",3,"ngClass","input"],["name","passwordVerify","type","password","placeholder","* * * * *","formControlName","passwordVerify",1,"password",3,"ngClass"],[1,"errorPasswordVerify"],[1,"loading"]],template:function(r,i){1&r&&(x(0,"div",0),Ae(1,"img",1),x(2,"h1"),G(3,"Easy Media"),S(),x(4,"p",2),G(5,"Now, share is easy"),S(),x(6,"h2"),G(7,"Sing Up"),S(),x(8,"form",3),oe("ngSubmit",function(){return i.onSubmit()}),x(9,"label",4),G(10,"Full Name"),S(),Ae(11,"input",5)(12,"app-error-message",6),x(13,"label",7),G(14,"Email"),S(),x(15,"input",8),oe("input",function(){return i.correoNuevo()}),S(),Ae(16,"app-error-message",9),he(17,nae,2,1,"p",10),x(18,"label",11),G(19,"Password"),S(),Ae(20,"input",12)(21,"app-error-message",13),he(22,rae,2,3,"label",14),he(23,iae,2,3,"label",14),he(24,oae,1,3,"input",15),he(25,sae,1,3,"input",16),Ae(26,"app-error-message",6),he(27,aae,2,0,"p",17),x(28,"button",18),he(29,lae,2,0,"span",19),he(30,cae,1,0,"span",20),S()(),x(31,"p",21),G(32,"Already have an account? "),x(33,"span",22),oe("click",function(){return i.navegar("sing-in")}),G(34,"Login"),S()()()),2&r&&(L(8),U("formGroup",i.form),L(1),U("ngClass",Dt(19,Ld,i.hasError("name"))),L(2),U("ngClass",Dt(21,Fd,i.hasError("name"))),L(1),U("control",i.form.get("name")),L(1),U("ngClass",Dt(23,Ld,i.hasError("email")||""!=i.correoExistente)),L(2),U("ngClass",Dt(25,Fd,i.hasError("email")||""!=i.correoExistente)),L(1),U("control",i.form.get("email")),L(1),U("ngIf",""!==i.correoExistente),L(1),U("ngClass",Dt(27,Ld,i.hasError("password"))),L(2),U("ngClass",Dt(29,Fd,i.hasError("password"))),L(1),U("control",i.form.get("password")),L(1),U("ngIf",i.inputFunction),L(1),U("ngIf",!i.inputFunction),L(1),U("ngIf",i.inputFunction),L(1),U("ngIf",!i.inputFunction),L(1),U("control",i.form.get("passwordVerify")),L(1),U("ngIf",i.inputFunction&&!i.passwordCheck),L(2),U("ngIf",!i.cargando),L(1),U("ngIf",i.cargando))},dependencies:[va,Li,Ea,Bi,wa,ya,qc,$0,tae],styles:[".formulario[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;max-width:100%;display:flex;flex-direction:column}.formulario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px;margin:auto}.formulario[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:520;color:#fff;letter-spacing:.5px;word-spacing:1.2px;margin:10px;text-align:center}.formulario[_ngcontent-%COMP%]   p.subTittle[_ngcontent-%COMP%]{font-size:16px;font-weight:420;color:#2be8cc;letter-spacing:.3px;word-spacing:1px;margin:0;text-align:center}.formulario[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:440;color:#fff;letter-spacing:.5px;word-spacing:1.2px;margin:10px 0 20px;text-align:center}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .errorPasswordVerify[_ngcontent-%COMP%]{color:#ff8686;transform:translateY(-19px);font-size:12px!important;font-weight:450;letter-spacing:.4px;margin:0}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding-left:42px;font-size:15px;font-weight:480;color:#000;letter-spacing:.4px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 80px);margin:0 0 22px 40px;padding:10px 0;border:none;border-bottom:1px solid #fff;background:none;outline:none;color:#fff;font-weight:420;font-size:15.5px;letter-spacing:.3px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #fff}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ccc}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p.correoExistente[_ngcontent-%COMP%]{color:#ff8686;transform:translateY(-17px)!important;font-size:12px;font-weight:450;letter-spacing:.4px;margin:0}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]::placeholder{transform:translateY(3px);color:#ccc}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border-bottom:2px solid #ff9e9e}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .errorText[_ngcontent-%COMP%]{color:#ff8686}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;margin-top:25px;border-radius:21px;width:calc(100% - 80px);height:42px;cursor:pointer;font-size:18px;border:none;font-weight:540;color:#fff;background:linear-gradient(to left,#C545A9 0 20%,#5DB5D9 80% 100%);letter-spacing:.7px;word-spacing:1px;margin-left:40px}.formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.formulario[_ngcontent-%COMP%]   p.login[_ngcontent-%COMP%]{margin-top:20px;padding-right:41px;font-size:13px;font-weight:400;color:#ccc;letter-spacing:.2px;text-align:right}.formulario[_ngcontent-%COMP%]   p.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13.5px;color:#2be8cc;cursor:pointer}.datos[_ngcontent-%COMP%]{position:absolute;width:100%;top:800px;left:0;padding-left:42px;font-size:16px;font-weight:450;color:#555;letter-spacing:.4px;padding-bottom:150px}.loading[_ngcontent-%COMP%]{width:18px;height:18px;border:3px solid white;border-radius:50%;position:absolute;left:calc(50% - 8.5px);top:8px;border-left-color:transparent;animation:_ngcontent-%COMP%_load 1s ease infinite;z-index:502}@keyframes _ngcontent-%COMP%_load{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return t})();const dae="type.googleapis.com/google.protobuf.Int64Value",hae="type.googleapis.com/google.protobuf.UInt64Value";function gR(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function f3(t){if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t)||!0===t||!1===t||"[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>f3(e));if("function"==typeof t||"object"==typeof t)return gR(t,e=>f3(e));throw new Error("Data cannot be encoded in JSON: "+t)}function u5(t){if(null==t)return t;if(t["@type"])switch(t["@type"]){case dae:case hae:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>u5(e)):"function"==typeof t||"object"==typeof t?gR(t,e=>u5(e)):t}const g3="functions",pR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kl extends Or{constructor(e,n,r){super(`${g3}/${e}`,n||""),this.details=r}}class pae{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return m(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return m(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return m(function*(){if(n.appCheck){const r=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var n=this;return m(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const p3="us-central1";class _ae{constructor(e,n,r,i,o=p3,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new pae(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=p3}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function wae(t,e,n){return r=>function Iae(t,e,n,r){const i=t._url(e);return function mR(t,e,n,r){return _3.apply(this,arguments)}(t,i,n,r)}(t,e,r,n||{})}function Cae(t,e,n,r){return m3.apply(this,arguments)}function m3(){return m3=m(function*(t,e,n,r){let i;n["Content-Type"]="application/json";try{i=yield r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=yield i.json()}catch{}return{status:i.status,json:o}}),m3.apply(this,arguments)}function _3(){return _3=m(function*(t,e,n,r){const i={data:n=f3(n)},o={},s=yield t.contextProvider.getContext(r.limitedUseAppCheckTokens);s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const l=function mae(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new kl("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}(r.timeout||7e4),c=yield Promise.race([Cae(e,i,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new kl("cancelled","Firebase Functions instance was deleted.");const u=function gae(t,e){let i,n=function fae(t){if(t>=200&&t<300)return"ok";switch(t){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=n;try{const o=e&&e.error;if(o){const s=o.status;if("string"==typeof s){if(!pR[s])return new kl("internal","internal");n=pR[s],r=s}const a=o.message;"string"==typeof a&&(r=a),i=o.details,void 0!==i&&(i=u5(i))}}catch{}return"ok"===n?null:new kl(n,r,i)}(c.status,c.json);if(u)throw u;if(!c.json)throw new kl("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new kl("internal","Response is missing data field.");return{data:u5(d)}}),_3.apply(this,arguments)}const _R="@firebase/functions";function Dae(t=y1(),e=p3){const r=gu(Ct(t),g3).getImmediate({identifier:e}),i=eD("functions");return i&&wR(r,...i),r}function wR(t,e,n){!function vae(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(Ct(t),e,n)}function xae(t,e,n){return wae(Ct(t),e,n)}!function Tae(t,e){Go(new Ki(g3,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),l=r.getProvider("app-check-internal");return new _ae(o,s,a,l,i,t)},"PUBLIC").setMultipleInstances(!0)),en(_R,"0.11.0",e),en(_R,"0.11.0","esm2017")}(fetch.bind(self));class Pl{constructor(e){return e}}const yR="functions",v3=new z("angularfire2.functions-instances");function kae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Pl(r)}}const Pae={provide:class bae{constructor(){return I1(yR)}},deps:[[new Mt,v3]]},Rae={provide:Pl,useFactory:function Sae(t,e){const n=Xm(yR,t,e);return n&&new Pl(n)},deps:[[new Mt,v3],za]};let Nae=(()=>{class t{constructor(){en("angularfire",_u.full,"fn")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kt({type:t});static \u0275inj=Ot({providers:[Rae,Pae]})}return t})();function Oae(t,...e){return{ngModule:Nae,providers:[{provide:v3,useFactory:kae(t),multi:!0,deps:[ye,Tt,E1,A1,[new Mt,u7],[new Mt,Jm],...e]}]}}const Vae=Ht(Dae,!0),Bd=Ht(xae,!0);const d5_firebase={apiKey:"AIzaSyAdXSkUeOHuDUyZCwBY2j47Dj6bg_lbh6g",authDomain:"angular-app-c59be.firebaseapp.com",projectId:"angular-app-c59be",storageBucket:"angular-app-c59be.appspot.com",messagingSenderId:"463182181101",appId:"1:463182181101:web:14ed83bb209a83126252e4",measurementId:"G-CXJ7HS6YGP"};function Bae(t,e){1&t&&(x(0,"span"),G(1,"Your post title"),S())}function Uae(t,e){1&t&&(x(0,"span"),G(1,"Create message for share with your friends"),S())}let y3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-publication-component"]],inputs:{title:"title",description:"description",date:"date",name:"name",words:"words"},decls:14,vars:6,consts:[[1,"publication-content"],[4,"ngIf"],[1,"description"],[1,"date"],[1,"name"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"h2")(2,"span"),G(3),S(),he(4,Bae,2,0,"span",1),S(),x(5,"p",2)(6,"span"),G(7),S(),he(8,Uae,2,0,"span",1),S(),x(9,"div")(10,"p",3),G(11),S(),x(12,"p",4),G(13),S()()()),2&r&&(L(3),ur(i.title),L(1),U("ngIf",""==i.title||!i.title),L(3),ur(i.description),L(1),U("ngIf",""==i.description||!i.description),L(3),ur(i.date),L(2),ur(i.name))},dependencies:[Li],styles:[".publication-content[_ngcontent-%COMP%]{background:#666;width:calc(100% - 70px);border-radius:10px;overflow:hidden;border:1px solid #555;margin:12px 35px;padding-bottom:10px}.publication-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:45px;background:#5cc2e1;margin:0;color:#fff;line-height:47px;font-size:18.5px;font-weight:500;padding-left:15px}.publication-content[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{color:#ccc;font-weight:330;margin:15px;font-size:14px;letter-spacing:.2px}.publication-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.publication-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.date[_ngcontent-%COMP%]{color:#ccc;font-weight:330;font-size:14px;letter-spacing:.2px;margin:5px 0 0 15px}.publication-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.name[_ngcontent-%COMP%]{color:#fff;letter-spacing:.2px;font-weight:500;font-size:14px;margin:5px 15px 0}"]})}return t})();function Hae(t,e){1&t&&(x(0,"div",14),G(1,"Create message for share with your friends"),S())}function jae(t,e){1&t&&(x(0,"span"),G(1,"Share"),S())}function $ae(t,e){1&t&&Ae(0,"span",15)}function Gae(t,e){1&t&&Ae(0,"img",21)}function qae(t,e){1&t&&Ae(0,"img",22)}function Wae(t,e){1&t&&(x(0,"p"),G(1,"Post Created"),S())}function Kae(t,e){1&t&&(x(0,"p"),G(1,"Uppss Try Later"),S())}function Qae(t,e){if(1&t){const n=Zn();x(0,"section",16)(1,"div",17),oe("click",function(i){return i.stopPropagation()}),he(2,Gae,1,0,"img",18),he(3,qae,1,0,"img",19),he(4,Wae,2,0,"p",10),he(5,Kae,2,0,"p",10),x(6,"div",8)(7,"button",20),oe("click",function(){return En(n),An(Ke().closeAlert())}),G(8,"OK"),S()()()()}if(2&t){const n=Ke();L(2),U("ngIf","success"==n.alert),L(1),U("ngIf","error"==n.alert),L(1),U("ngIf","success"==n.alert),L(1),U("ngIf","error"==n.alert)}}let Yae=(()=>{class t{constructor(n,r){this.auth=n,this.functions=r,this.cargando=!1}ngOnInit(){this.auth.onAuthStateChanged(n=>{n&&(this.name=n.displayName.split(" ").slice(0,2).join(" "))}),this.date$=function Fae(t=0,e=Zm){return t<0&&(t=0),function Lae(t=0,e,n=hX){let r=-1;return null!=e&&(j3(e)?n=e:r=e),new qe(i=>{let o=function zae(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,t,e)}(1e3).pipe(ke(()=>{let n=new Date,r=n.getHours(),i=n.getMinutes(),o=r>=12?"pm":"am";return r%=12,r=r||12,i=i<10?"0"+i:i,r+":"+i+" "+o+" "+("0"+n.getDate()).slice(-2)+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear().toString().substr(-2)}))}submit(n){var r=this;return m(function*(){r.title&&r.description&&""!==r.title&&""!==r.description?(r.cargando=!0,r.date$.pipe(Gi()).subscribe(function(){var o=m(function*(s){r.alert=(yield Bd(r.functions,"createMessage")({title:r.title,description:r.description,dateString:s,name:r.name,userId:r.auth.currentUser.uid})).data?"success":"error",r.cargando=!1,r.restaurarDatos(n)});return function(s){return o.apply(this,arguments)}}())):r.alert="error"})()}restaurarDatos(n){this.title="",this.description="";let r=n.childNodes;for(let i=r.length-1;i>=0;i--)if(r[i].nodeType===Node.TEXT_NODE)n.removeChild(r[i]);else if(r[i].nodeType===Node.ELEMENT_NODE&&"DIV"===r[i].nodeName){let o=r[i];!o.hasAttribute("class")&&!o.hasAttribute("id")&&n.removeChild(r[i])}}onPaste(n){n.preventDefault(),navigator.clipboard.readText().then(r=>{document.execCommand("insertText",!1,r)})}onInputChange(n){this.description=""!==n.target.innerText?n.target.innerText:null}focus(){null==this.description&&(this.description="")}closeAlert(){this.alert&&(this.alert=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)(I(Lr),I(Pl))};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-create-message"]],hostBindings:function(r,i){1&r&&oe("click",function(){return i.closeAlert()},0,UC)},decls:19,vars:11,consts:[[1,"content"],["action","",3,"submit"],["for","gitle"],["type","text","placeholder","Your post title","name","title",3,"ngModel","ngModelChange"],["for",""],["contenteditable","true",1,"descripcion",3,"paste","input","click"],["texto",""],["class","placeholder",4,"ngIf"],[1,"button"],["type","submit"],[4,"ngIf"],["class","loading",4,"ngIf"],[3,"description","name","title","date"],["class","alert",4,"ngIf"],[1,"placeholder"],[1,"loading"],[1,"alert"],[1,"alert-content",3,"click"],["src","assets/img/check.png",4,"ngIf"],["src","assets/img/error.png",4,"ngIf"],[3,"click"],["src","assets/img/check.png"],["src","assets/img/error.png"]],template:function(r,i){if(1&r){const o=Zn();x(0,"div",0)(1,"h1"),G(2,"Create message"),S(),x(3,"form",1),oe("submit",function(){En(o);const a=function HI(t){return bs(function OO(){return K.lFrame.contextLView}(),ce+t)}(10);return An(i.submit(a))}),x(4,"label",2),G(5,"Title message"),S(),x(6,"input",3),oe("ngModelChange",function(a){return i.title=a}),S(),x(7,"label",4),G(8,"Messages"),S(),x(9,"div",5,6),oe("paste",function(a){return i.onPaste(a)})("input",function(a){return i.onInputChange(a)})("click",function(){return i.focus()}),he(11,Hae,2,0,"div",7),S(),x(12,"div",8)(13,"button",9),he(14,jae,2,0,"span",10),he(15,$ae,1,0,"span",11),S()()(),Ae(16,"app-publication-component",12),function TA(t,e){const n=pe();let r;const i=t+ce;n.firstCreatePass?(r=function pH(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Io(r.type)),a=wn(I);try{const l=hh(!1),c=o();return hh(l),function QF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,A(),i,c),c}finally{wn(a)}}(17,"async"),S(),he(18,Qae,9,4,"section",13)}2&r&&(L(6),U("ngModel",i.title),L(5),U("ngIf",null==i.description||""==i.description),L(3),U("ngIf",!i.cargando),L(1),U("ngIf",i.cargando),L(1),U("description",i.description)("name",i.name)("title",i.title)("date",DA(17,9,i.date$)),L(2),U("ngIf",i.alert))},dependencies:[Li,Ea,Bi,wa,ya,Gc,Ia,y3,aM],styles:['@charset "UTF-8";.content[_ngcontent-%COMP%]{margin:auto;width:400px;max-width:100%}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-weight:550;text-align:center;margin-bottom:0}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:480;margin:30px 0 10px 35px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:38px;border-radius:7px;border:1px solid #666;width:calc(100% - 110px);margin-left:35px;padding:0 20px;font-size:14px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{margin:0 0 0 35px;color:#505050;font-weight:420;width:calc(100% - 120px);padding:18px 25px 25px;border:1px solid #666;background-color:#fefefe;border-radius:7px;resize:none;min-height:115px;max-height:200px;font-size:14.5px;letter-spacing:.3px;overflow-y:auto;white-space:pre-wrap;line-height:1.5;overflow-wrap:anywhere;outline:none}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{font-size:14.5px;letter-spacing:.3px;text-align:left;width:100%;margin:0;padding:0}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]:hover{border:1px solid #ccc}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]:focus{border:1px solid #b4b4b4}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]:focus   .placeholder[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#aaa;text-align:left;margin:0;letter-spacing:.4px;font-size:14.5px;pointer-events:none}.alert[_ngcontent-%COMP%]{position:fixed;width:100%;min-height:100vh;top:0;left:0;z-index:1;background:rgba(0,0,0,.4);-webkit-backdrop-filter:blur(.7px);backdrop-filter:blur(.7px)}.alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]{position:absolute;top:180px;left:50%;transform:translate(-50%);width:300px;max-width:80%;height:300px;background-color:#d9d9d9;border-radius:15px;display:flex;align-items:center;justify-content:center;flex-direction:column}.alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:450;font-size:17px;letter-spacing:.3px;color:#333}.alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.button[_ngcontent-%COMP%]{width:calc(100% - 35px);display:flex;justify-content:end}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;margin-top:25px;margin-bottom:10px;border-radius:21px;width:120px;height:42px;cursor:pointer;font-size:18px;border:none;font-weight:540;color:#fff;background:linear-gradient(to left,#C545A9 0 20%,#5DB5D9 80% 100%);letter-spacing:.7px;word-spacing:1px}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.loading[_ngcontent-%COMP%]{width:18px;height:18px;border:3px solid white;border-radius:50%;position:absolute;left:calc(50% - 8.5px);top:8px;border-left-color:transparent;animation:_ngcontent-%COMP%_load 1s ease infinite;z-index:502}@keyframes _ngcontent-%COMP%_load{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return t})();const CR='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)"><path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd"/></svg>',IR='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)"><path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd"/></svg>',ER='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"/></svg>';function Zae(t,e){if(1&t){const n=Zn();x(0,"ng-icon",11),oe("click",function(){return En(n),An(Ke().deleteSearch())}),S()}}function Xae(t,e){1&t&&(x(0,"section",12),Ae(1,"span"),S())}function Jae(t,e){1&t&&(x(0,"section",13),Ae(1,"img",14),x(2,"p"),G(3,"Nothing to see here"),S()())}function ele(t,e){if(1&t&&(bo(0),Ae(1,"app-publication-component",15),So()),2&t){const n=e.$implicit,r=Ke();L(1),U("description",n.descripcion)("name",n.nombre)("title",n.titulo)("date",n.fechaString)("words",r.words)}}const tle=function(t){return{select:t}};function nle(t,e){if(1&t){const n=Zn();bo(0),x(1,"p",19),oe("click",function(){const o=En(n).$implicit;return An(Ke(2).nuevoIndex(o))}),G(2),S(),So()}if(2&t){const n=e.$implicit,r=Ke(2);L(1),U("ngClass",Dt(2,tle,r.index==n)),L(1),ur(n)}}function rle(t,e){if(1&t){const n=Zn();x(0,"section",16)(1,"ng-icon",17),oe("click",function(){En(n);const i=Ke();return An(i.nuevoIndex(i.index-1))}),S(),he(2,nle,3,4,"ng-container",9),x(3,"ng-icon",18),oe("click",function(){En(n);const i=Ke();return An(i.nuevoIndex(i.index+1))}),S()()}if(2&t){const n=Ke();L(2),U("ngForOf",n.numbers)}}const ile=function(t){return{"in-search":t}};let ole=(()=>{class t{constructor(n,r){this.functions=n,this.auth=r,this.cargando=!0,this.dateInput=!1,this.inSearch=!1,this.words=""}ngOnInit(){this.auth.onAuthStateChanged(n=>{n&&this.findMessages()})}findMessages(){var n=this;return m(function*(){const r=Bd(n.functions,"findAllPots");n.myMessages=(yield r({date:!1,userId:n.auth.currentUser.uid})).data,n.index=1,n.results=[];for(let i=0;i<n.myMessages.length;i+=2)n.results.push(n.myMessages.slice(i,i+2));n.getNumbers(),n.cargando=!1})()}nuevoIndex(n){0!==n&&n<=this.results.length&&(this.index=n,this.getNumbers())}getNumbers(){let n=[];n=this.index===this.results.length&&this.results.length>=3?[this.index-2,this.index-1,this.index]:this.index===this.results.length&&this.results.length>=2?[this.index-1,this.index]:this.index===this.results.length-1&&this.results.length>=3?[this.index-1,this.index,this.index+1]:this.index===this.results.length-1?[this.index,this.index+1]:this.index===this.results.length-2&&this.results.length>=3?[this.index,this.index+1,this.index+2]:[this.index],this.numbers=n}onKeydown(n){13===n.keyCode&&(n.preventDefault(),n.target.blur())}onFocus(){this.dateInput=!0,this.inSearch=!1,this.checkInput()}onBlur(){this.dateInput=!1,this.checkInput()}checkInput(){var n=this;return m(function*(){if(n.inputValue||n.words){n.cargando=!0,n.myMessages=[],n.inputValue&&(n.inSearch=!0);const r=Bd(n.functions,"findAllPots");n.myMessages=(yield r({date:!!n.inputValue&&new Date(n.inputValue),words:n.words,userId:n.auth.currentUser.uid})).data,n.index=1,n.results=[];for(let i=0;i<n.myMessages.length;i+=2)n.results.push(n.myMessages.slice(i,i+2));n.getNumbers(),n.cargando=!1,n.cargando=!1}else n.inSearch=!1})()}deleteSearch(){this.inSearch=!1,this.inputValue="",this.findMessages()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Pl),I(Lr))};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-all-messages"]],features:[Re([G0({heroXMarkMini:ER,heroChevronLeftMini:CR,heroChevronRightMini:IR})])],decls:15,vars:11,consts:[[1,"content"],["action",""],["for","words"],["type","text","placeholder","Your words","name","words","maxlength","30",3,"ngModel","ngModelChange","blur","keydown"],["for","title"],["placeholder","Select a date","name","title",3,"type","ngClass","ngModel","focus","blur","keydown","ngModelChange"],["name","heroXMarkMini",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["class","not-found",4,"ngIf"],[4,"ngFor","ngForOf"],["class","index",4,"ngIf"],["name","heroXMarkMini",3,"click"],[1,"loading"],[1,"not-found"],["src","assets/img/notFound.png"],[3,"description","name","title","date","words"],[1,"index"],["name","heroChevronLeftMini",3,"click"],["name","heroChevronRightMini",3,"click"],[3,"ngClass","click"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"h1"),G(2,"All Publications"),S(),x(3,"form",1)(4,"label",2),G(5,"Words to Search?"),S(),x(6,"input",3),oe("ngModelChange",function(s){return i.words=s})("blur",function(){return i.onBlur()})("keydown",function(s){return i.onKeydown(s)}),S(),x(7,"label",4),G(8,"Date select"),S(),x(9,"input",5),oe("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keydown",function(s){return i.onKeydown(s)})("ngModelChange",function(s){return i.inputValue=s}),S(),he(10,Zae,1,0,"ng-icon",6),S(),he(11,Xae,2,0,"section",7),he(12,Jae,4,0,"section",8),he(13,ele,2,5,"ng-container",9),he(14,rle,4,1,"section",10),S()),2&r&&(L(6),U("ngModel",i.words),L(3),U("type",i.dateInput?"date":"text")("ngClass",Dt(9,ile,i.inSearch))("ngModel",i.inputValue),L(1),U("ngIf",i.inSearch),L(1),U("ngIf",i.cargando),L(1),U("ngIf",!i.cargando&&0==i.myMessages.length),L(1),U("ngForOf",null==i.results?null:i.results[i.index-1]),L(1),U("ngIf",i.myMessages&&i.myMessages.length>=3))},dependencies:[va,S2,Li,Ea,Bi,wa,ya,lm,Gc,Ia,W0,y3],styles:[".content[_ngcontent-%COMP%]{margin:auto;width:400px;max-width:100%}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-weight:550;text-align:center;margin-bottom:0}.content[_ngcontent-%COMP%]   section.loading[_ngcontent-%COMP%]{width:100%;height:60vh}.content[_ngcontent-%COMP%]   section.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:32px;height:32px;border:3.5px solid white;border-radius:50%;position:absolute;left:calc(50% - 16px);top:calc(50% - 16px);border-left-color:transparent;animation:_ngcontent-%COMP%_load 1s ease infinite;z-index:502}@keyframes _ngcontent-%COMP%_load{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.content[_ngcontent-%COMP%]   section.not-found[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:58vh}.content[_ngcontent-%COMP%]   section.not-found[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.content[_ngcontent-%COMP%]   section.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#333}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex-direction:column;margin-top:20px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:480;margin:10px 0 10px 35px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:38px;border-radius:7px;border:1px solid #666;width:calc(100% - 110px);margin-left:35px;padding:0 20px;font-size:14px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .in-search[_ngcontent-%COMP%]{padding-left:40px;width:calc(100% - 130px)}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{position:absolute;left:48px;bottom:10px;background:#777;color:#fff;padding:1px;font-size:18px;border-radius:50%;cursor:pointer}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]:hover{background:#555}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;align-items:center;justify-content:center}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{font-size:32px;color:#555;border-radius:14px;cursor:pointer}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]:hover{background-color:#0000001a}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:#555;padding:0 10px;cursor:pointer}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#0000001a}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{background-color:#0000001a;color:#404040}"]})}return t})();function sle(t,e){if(1&t){const n=Zn();x(0,"ng-icon",9),oe("click",function(){return En(n),An(Ke().deleteSearch())}),S()}}function ale(t,e){1&t&&(x(0,"section",10),Ae(1,"span"),S())}function lle(t,e){1&t&&(x(0,"section",11),Ae(1,"img",12),x(2,"p"),G(3,"Nothing to see here"),S()())}function cle(t,e){if(1&t&&(bo(0),Ae(1,"app-publication-component",13),So()),2&t){const n=e.$implicit;L(1),U("description",n.descripcion)("name",n.nombre)("title",n.titulo)("date",n.fechaString)}}const ule=function(t){return{select:t}};function dle(t,e){if(1&t){const n=Zn();bo(0),x(1,"p",17),oe("click",function(){const o=En(n).$implicit;return An(Ke(2).nuevoIndex(o))}),G(2),S(),So()}if(2&t){const n=e.$implicit,r=Ke(2);L(1),U("ngClass",Dt(2,ule,r.index==n)),L(1),ur(n)}}function hle(t,e){if(1&t){const n=Zn();x(0,"section",14)(1,"ng-icon",15),oe("click",function(){En(n);const i=Ke();return An(i.nuevoIndex(i.index-1))}),S(),he(2,dle,3,4,"ng-container",7),x(3,"ng-icon",16),oe("click",function(){En(n);const i=Ke();return An(i.nuevoIndex(i.index+1))}),S()()}if(2&t){const n=Ke();L(2),U("ngForOf",n.numbers)}}const fle=function(t){return{"in-search":t}},gle=[{path:"",component:Kse,children:[{path:"",redirectTo:"all-posts",pathMatch:"full"},{path:"all-posts",component:ole},{path:"my-posts",component:(()=>{class t{constructor(n,r){this.functions=n,this.auth=r,this.cargando=!0,this.dateInput=!1,this.inSearch=!1}ngOnInit(){this.auth.onAuthStateChanged(n=>{n&&this.findMessages()})}findMessages(){var n=this;return m(function*(){const r=Bd(n.functions,"findMyPots");n.myMessages=(yield r({date:!1,userId:n.auth.currentUser.uid})).data,n.index=1,n.results=[];for(let i=0;i<n.myMessages.length;i+=2)n.results.push(n.myMessages.slice(i,i+2));n.getNumbers(),n.cargando=!1})()}nuevoIndex(n){0!==n&&n<=this.results.length&&(this.index=n,this.getNumbers())}getNumbers(){let n=[];n=this.index===this.results.length&&this.results.length>=3?[this.index-2,this.index-1,this.index]:this.index===this.results.length&&this.results.length>=2?[this.index-1,this.index]:this.index===this.results.length-1&&this.results.length>=3?[this.index-1,this.index,this.index+1]:this.index===this.results.length-1?[this.index,this.index+1]:this.index===this.results.length-2&&this.results.length>=3?[this.index,this.index+1,this.index+2]:[this.index],this.numbers=n}onKeydown(n){13===n.keyCode&&(n.preventDefault(),n.target.blur())}onFocus(){this.dateInput=!0,this.inSearch=!1,this.checkInput()}onBlur(){this.dateInput=!1,this.checkInput()}checkInput(){var n=this;return m(function*(){if(n.inputValue){n.cargando=!0,n.myMessages=[],n.inSearch=!0;const r=Bd(n.functions,"findMyPots");n.myMessages=(yield r({date:new Date(n.inputValue),userId:n.auth.currentUser.uid})).data,n.index=1,n.results=[];for(let i=0;i<n.myMessages.length;i+=2)n.results.push(n.myMessages.slice(i,i+2));n.getNumbers(),n.cargando=!1,n.cargando=!1}else n.inSearch=!1})()}deleteSearch(){this.inSearch=!1,this.inputValue="",this.findMessages()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Pl),I(Lr))};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-my-publications"]],features:[Re([G0({heroXMarkMini:ER,heroChevronLeftMini:CR,heroChevronRightMini:IR})])],decls:12,vars:10,consts:[[1,"content"],["action",""],["for","gitle"],["placeholder","Select a date","name","title",3,"type","ngClass","ngModel","focus","blur","keydown","ngModelChange"],["name","heroXMarkMini",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["class","not-found",4,"ngIf"],[4,"ngFor","ngForOf"],["class","index",4,"ngIf"],["name","heroXMarkMini",3,"click"],[1,"loading"],[1,"not-found"],["src","assets/img/notFound.png"],[3,"description","name","title","date"],[1,"index"],["name","heroChevronLeftMini",3,"click"],["name","heroChevronRightMini",3,"click"],[3,"ngClass","click"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"h1"),G(2,"My Publications"),S(),x(3,"form",1)(4,"label",2),G(5,"Date select"),S(),x(6,"input",3),oe("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keydown",function(s){return i.onKeydown(s)})("ngModelChange",function(s){return i.inputValue=s}),S(),he(7,sle,1,0,"ng-icon",4),S(),he(8,ale,2,0,"section",5),he(9,lle,4,0,"section",6),he(10,cle,2,4,"ng-container",7),he(11,hle,4,1,"section",8),S()),2&r&&(L(6),U("type",i.dateInput?"date":"text")("ngClass",Dt(8,fle,i.inSearch))("ngModel",i.inputValue),L(1),U("ngIf",i.inSearch),L(1),U("ngIf",i.cargando),L(1),U("ngIf",!i.cargando&&0==i.myMessages.length),L(1),U("ngForOf",null==i.results?null:i.results[i.index-1]),L(1),U("ngIf",i.myMessages&&i.myMessages.length>=3))},dependencies:[va,S2,Li,Ea,Bi,wa,ya,Gc,Ia,W0,y3],styles:[".content[_ngcontent-%COMP%]{margin:auto;width:400px;max-width:100%}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-weight:550;text-align:center;margin-bottom:0}.content[_ngcontent-%COMP%]   section.loading[_ngcontent-%COMP%]{width:100%;height:60vh}.content[_ngcontent-%COMP%]   section.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:32px;height:32px;border:3.5px solid white;border-radius:50%;position:absolute;left:calc(50% - 16px);top:calc(50% - 16px);border-left-color:transparent;animation:_ngcontent-%COMP%_load 1s ease infinite;z-index:502}@keyframes _ngcontent-%COMP%_load{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.content[_ngcontent-%COMP%]   section.not-found[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:58vh}.content[_ngcontent-%COMP%]   section.not-found[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.content[_ngcontent-%COMP%]   section.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#333}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:480;margin:30px 0 10px 35px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:38px;border-radius:7px;border:1px solid #666;width:calc(100% - 110px);margin-left:35px;padding:0 20px;font-size:14px}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .in-search[_ngcontent-%COMP%]{padding-left:40px;width:calc(100% - 130px)}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{position:absolute;left:48px;bottom:10px;background:#777;color:#fff;padding:1px;font-size:18px;border-radius:50%;cursor:pointer}.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]:hover{background:#555}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;align-items:center;justify-content:center}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{font-size:32px;color:#555;border-radius:14px;cursor:pointer}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]:hover{background-color:#0000001a}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:#555;padding:0 10px;cursor:pointer}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#0000001a}.content[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{background-color:#0000001a;color:#404040}"]})}return t})()},{path:"create-post",component:Yae}]},{path:"sing-in",component:Jse},{path:"sing-up",component:uae}];let ple=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t});static#n=this.\u0275inj=Ot({imports:[K9.forRoot(gle),K9]})}return t})(),mle=(()=>{class t{constructor(){this.title="angular-app"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Gn({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Ae(0,"router-outlet")},dependencies:[i1],styles:["@font-face{font-family:font-uno;src:url(font-uno.a218f2a6443c646f.ttf)}"]})}return t})(),_le=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kt({type:t,bootstrap:[mle]});static#n=this.\u0275inj=Ot({imports:[Oq,ple,jW,HW,JW.withIcons({}),AX(()=>MX(d5_firebase)),Nte(()=>zte()),zse(()=>Use()),Oae(()=>Vae())]})}return t})();Rq().bootstrapModule(_le).catch(t=>console.error(t))}},Se=>{Se(Se.s=535)}]);